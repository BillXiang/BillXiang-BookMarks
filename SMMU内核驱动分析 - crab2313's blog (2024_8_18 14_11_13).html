<!DOCTYPE html> <html lang=zh-cn style><!--
 Page saved with SingleFile 
 url: https://crab2313.github.io/post/smmu/ 
 saved date: Sun Aug 18 2024 14:11:13 GMT+0800 (中国标准时间)
--><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>SMMU内核驱动分析 - crab2313's blog</title><meta name=renderer content=webkit><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content=no-transform><meta http-equiv=cache-control content=no-siteapp><meta name=theme-color content=#f8f5ec><meta name=msapplication-navbutton-color content=#f8f5ec><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#f8f5ec><meta name=author content=crab2313><meta name=description content="IOMMU核心框架层 IOMMU核心框架是管理IOMMU设备的一个通用框架，IOMMU设备通过实现特定的回调函数并将自身注册到IOMMU核心框"><meta name=keywords content=blog,kernel><meta name=generator content="Hugo 0.109.0 with theme even"><link rel=canonical href=https://crab2313.github.io/post/smmu/><style>@font-face{font-family:chancery;src:local("Apple Chancery"),url(data:font/woff2;base64,d09GMgABAAAAAFvsABEAAAAA7WAAAFuFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cGiAGYACEKghcCYRlEQgKg7Usg48uATYCJAOGaAuDNgAEIAWFQAeFGQyCAz93ZWJmBhuA1weUbe4gUm4HL9suv2nPRtiwcQBQRm5uRpLO5nn2//89uTFEsB00q23/IQeGojRKTvNUp4Op5Z1wz9PdqH2gRC7RnclTdLMPJdsPjAXJePgVTfSkSZ2ndM2m72Jh6iIPzbHzwNFDB3NkBkUiocjkpZFXQ3tHVmCbBQ3UNhToXLzf8Vr1IQ/V708Jy2xf0OrDHtjowTsF38gMjy6zoipHgk2toU0drI9bYNuMb+KipxJ8rPG6D+4CCC5xiEIDSkSZ2BhXWRmyFQ5BqLpO9If701Zv0qhJ3WrNexqg7iHe0Vratf8zIEc+gsyZwwOEDDhjHXB4V1N1A+CuIlRUMmZGcvbIOBoiGsiMEMmoULJ35jrzzrphnXG4225zY8y/6ZZbf6xay7sXKsAbMVuT8Fy9DCDNBqk8kP9apzphiRZRyZ9U7T9JggAIEAwhS6RS3KgNb0O6mJra46Z3V//vrnfpO+3c+fWmln9obgEa7M6HMWbIATig2b8WZ00oRYoDBZmi97obYBUjpRskFyqHTHQWVbLHua9sgUNNaRFnDwD1CSXfZ2dOmBGyDa6rHb//B2AR8tR7kMm9RrgC+md26bDI9b/e6ZfkDOyqpcEA24+Qb+u03U45uN6pDIEz/WMni8lvnEGillq2FwJOsgQBzAPPsfzHXhV2y9QUH+4NvMJ0h7r2as30jlrai1cM0X1jGmLAvJKAVBQaTVdsp3AMYxAO4X7Uoeyl3ck9CI81/J+pVumvbmBUTQ13AXKNpDWW61wQnbVJeOF5VlWjwapqkGwDSd0NkQJAmQYo0w3KwGjUhLjvQI5zHE2yxkdnDQGSt8J4ilpzztokcklyebq30TmfpmfVdDoKjEAok15AMYzvwl6e+z1qc2Akwsv8dd+EukUSTqlPdet1USA3Xff7O/t2Z7eTajzwJqTEs0wL32KgloZhhzpzPckOFYCmLmO4PA62Yn/AQfmTByogxQoWmceNeNw7fhSoZSva4+VnAoGURvfwR04/L4JOeqdmqBihaUXF+mOsQTato4MJTIyJwtCIESGBYG13938/tvqHl8mlXtW6hMnQA/jTwt/sl5ocf+eGWvBkNrRPvksIjO9PDf8EAPDtbdcAxm/709a5u1uO2QiAxDX8n4To040w3RrYpEVDz2AHEPueX6m+wUnFP2eCJKWkZWSkpYoB9ri9wXNPnz5UDDaTMmHzCrDwaz3ZCfjTVt8NWAA7ERfqwdxKYDX2Ar5utJVUgAHMaSj7FWAMYJlaob1mLFmx6ZYHPvlrJ0YiO9fzwU5Z1No8zNO8zNt8nl/k/+jvbv7zJ7azQ9OdoAwaM++IY66647EtJT382gDUytzP4/QRhT+dNX2fZrxwyknHHbNqxRFLFh0WN3nMfUn++zps1oyDpozokfnYdv/dZunL7NaNkT/svJBSWXbiFdYDfy8B8qKs6kYb62JfLJUr1Vq90Wy1O91efzAcjSfT2XyRXF2nSzYcRkAo40KqOEmzvCirWvtgKByJxuKJZCqdyebyhWKpXKnW6o1mq93p9vqKT8sqxM0d3V09fb39A0ODwyN7R/eNjU9OTB3YPzM9OwcQjsazj8zOtMWfKFnpHSAdYLoR/MJZ7trzmDdcA7Da+4zLP745vHDuw+WNCxcPmn8CAL5/7twFZL1sAgqvCq7La2rrqhsaAfUP7a2ApWcBgB0A/18zYnaaw1+oKHF4REpUa9alzv6lOWDUESSeCrTaJ0GFfmuK1GtUJksyhiE9CGakiCHQgY446CpMM9Es/QO9g4ruLYeA8xwk5WF17vuHd+joDTzdMicCF9QPVLkFGuI3rG3srG0gJCmHcPeg2l5zESKp18ey3dP/w3tnWB5Vk4cfnGGLuDwM7Vsuc1KEV/9YYJGTERKZmYfVR45S4vVpA7aPaiozy697GgdnophKVfEIUlCHEPgdui6CKCQxISryRTCofsUv0EtjpbHWGf8pNUyhmTlh5RSTYrlVC0G90DKluIE40vJIJerg9oVNUlperE+riBIp0U6Sn3b4tzr7qV/AEtyyhUaDnBr94qNx5QNhlxpJc91HjrWGPnwbkBKnughsjCxpy5xqij59QO7LpD0jxoI79Y05m8R+Qf6RLhZK62f0yY8AXYCMQOzpy1omEP5pivdV80zQyGpJA2z/UZ719V1mn6I3qLXmKvVR23LCGsPG5uaw5zIliAtSWtJ+QYM+zyovEhhXRgM+5Rhy97AeB9TALzUfhyQB54OWkLuSj8brCFI8Rpht5QAnwYrYK9yKf3dWfLG3eAWw/RAHOPg/t3vPvQBvNhm3zLtJ3ncswoPexjN9KIiqxje9WaJK1yuj4grvDEA64NW88pvVcC1Gxoy4nInAzfBUL9TvUGSwMdN4XS1OEgVr8yZdirsEy0AaubeNW+gViIsim2HssZyjx6xFpMb3TyzmEMmyKNOVTKhIqceoiETGNK9jwA+p7MlyziLkP6BEFAlKlvJWSXVSBtrD1fEqjvejXyaMRTg1lmTcrqsfWXdDxP30QTWLmN8zh7Jdiy06nEqdlP5WUJqwj+90nYan/XIzeb8We19FKVrFbL1gCDGWlTIh8I+OZJH6MIanFUUqpYQkaKsogEHhMSHaLJXiYqNUH5KH9KHMWRS3wzhWCNFVzBinKQwo9P1iNKZrtMZrhTK6rZloUxhQeKwSbZZKcZbhqw5FDpgr/izq2lHcKR0bHWJKEaWYUsXoxSwS/aKUnpJTeipzFk0Ij0ZM5WK+Eou3N9FJOD6VsOzElkryO/zfzf96QxPm+gMCTqFCYBnpWiIYG6oGMW73k2Bw4UkIpuz3yKX9gqRD6MJp1k9uDW30AGLTCA/PFyc0S1Nm88cOVZ7L4YG9Dfe3ZgoVJkvkMESeKfmNDx3qAYVcTy7Bnhzq2acwwYDOO+rWBEuM1+Bil2fxgWXjbq0pYELRoh36uhn90rEyTK0c789z0E0dz9TxYIeBEE+pBrHMr29Y8Z9e+mhG/H9Yf4HpWbs2kw19CuIQQO+W4PwwkWyMYp1SkSSd8oZ3ppjEKy5Ezsih2XJgTVVNSMiygm5XEctM6eM0Oh8GOUYMU7OZNbrTxlTlW1iVrqIkAgFcsB5sZMNUsWqszgmWDR1C5Tj5glqg9VdflWnQul/iYnLFRKxMRQ793eN9h0PSkVWZ5pSogyiVfsJk5ZZzV2OAqn8hWehZGiKZo81Lqpl5wOd2b9WZPN8hH4YuClOxr1qDa4Pmyl9cqtCS5XxdIDKTJkQl1eeIhKJrJyQeSlxKt9pljhsmJV/oEuMuby0YViyk5y/WlrXRvTZwapkK2HQnVXaJKUbFRkMcOgvjB4i0ZR8QOnx2vRqbPOEJy7jj/XnKU0b8U4daFWA8HQhYo2MPnufBO3wHcYdl82YKU+Rq4tQNboyEMQgdj5nyiFd5oY04zDwtdK0amkVM5dA07rIbCz45UOxARmtr6gp4wYP8+es3LiTSOvOJiMo23HeZdnFa/nzO+rs4uK8as5I/hUdY9F2WCyPf2ETVizjaX/BQjMPmLy6aZWDs9aI6jYNlCH5wnWF4A+wZxutGQK1g0UOeWwuLGoD3qVMz+8T5jXgCylfJYXf3o5nyanoqyXYokF0i6AGMFWE/DNIZJmNY9loT91eiHIXK9FEAvShza6phqbg4/mcYpo1LojRFlvG98fDhzoKMX4Qwd0NAF7rRrAsxer4k8EWpPpr2jZ2LUBtNmPbDt/PjFLBP8PpU2Ye1B14zgo6ct/MQlmfFwmBEXOYrN4ytcneoCnIYvuGRorndkuR3rOEBh4EavwuIrJH0P3qsaKH9nSKVpSb6/00MU/6dfugLGhkoeAXutvq4fpdMhU8xkRNh6DfqpSgfMROXpX5nl2VneLM1sApVHb1btZNvcjw8/6pPWKmZ3UaV3iXTnnmLlczVxh3+L3XZRXKwxFGsW+Grp1rbrPOZplJwYIQJb4jRmkmdo69x8EaHIa9xD8fs2c3OiTRAhq5uErFahdSXbItcmJEKpZN8mDzCd+Zvt+q26U7XO/bRImtiqkgTl9Akbjd86viduqI6nS8jx8+fZflLDFOQLCX/boN2JYhGiW5fTeVUOXRIr9pQdm8QL8WiBAygu5Xo+KWGaVNnXBMNaw9Tc/2w3R+bKygiaiB1djV6tQ5vsNuCVb7/4tqwvl33Ufu0wvehwvTSNx1qsZqrovmKOpFhIZa7TVopXkpWZplOnAZV0Ui7vFrafst9XAaPQI+isG+fetmhv3Xjl7wTbaMDYR/CNwRM556wnB7dnvssvhz8lC+Ky3fsyaSCR27OI4UBEvCUCy9HUiH4I2+LxV9yXE4WWqK3L729NnF/WyQEaz4CZpCNeQD0uEOZExhggPP/UGQ3baAvHRdp08nkSjDmcqE/jGi2BgSkaXy0jhDzEW1ZfyRcKKwFpgVozF/NuUfKIaThx1G1ZGFGh86kc5sL5SPThcfJIWBFQjlg8yqzY6GvBdEvIzsRpIeybsPVESZtTXnTrudQNhmDw61fqLMnD8NbEM0jgWsuZOgXqkSZCcvbTtAoCbEMiXm9SruFZ1FT0ZK7rWHXT+1QKXYWvKLe7err4/owDHIkcRW87TssGr1ijmgqOThr/7BxZKWQXLBQWCwTKwsLBtMcdrFWIlpVuSwRUWs5igrGadKkelv8rgmx35iIiFoAOe+T+RAjSXBvlmiWN2HS1CcvcnAgJ/v1cviiC131NhemhVp5T4qKmGqKxRQrqa9W7ql6nl5GmpSSAiuYiyPKHCJLVBTxVp7EfSv7tw0Bkw3/rE/E1MaxuCli1hUYMO2d1qNYTpYJqvXsP8xZAJrE3Y2J+w3IMS0RbVC9bR7uQsofrTp7aIR6x6yNkw7n0vcXL6f3icp/KqAWIjKnIhHwTXFVpYxJI8yUv9BnKPihP1w604AnvjxglR/W+9YoSK5ZxTQ8+ha0fE1pWIz5qyOHuaRakVJbDTMV5ayYSGYzenaWjihyuQU/Ac8t2/fUPuC2locLWxsXcvQtTT5bzTBtOGCVNgdpItq9W9fS6HLHhA+8Yu5ThPLGV9cH4bEzgLGTP9TTpGOR5zXR5NLdXk4D5uGhBviffaNCLmlqkl8woHJsCvdZ6HqC7q8lu2JF8uqRD3ZK2R3aEQxYtr+TGf/NZEH4Lmhyk/NLzy1UICGMe3Lnp9W+RkTycxW6MZ7RUQMWPHK9wNRcHDAzy7TFkVUqj5xyDaOL+SMsLkIERSTDbsoS6HeDY+EBvesKdZF/NU8y7703a5a5gXvOGwZT7VVizeWBiei1EmctlUEBnowI77R7N23pyHCMI/BG1jkb0NPkTUErbIEG2CAf8GXQJr6vFb7hFPak1LvzynRsSp30GTk4PffN1swzTrVvXCnR6qe9vrzN1pXdD1VBh6K31zbezm7dXpBCaHAUxGGLNx/zvoyquIF6xxXj5Y+RxKWCpIRHqNs7wJ9DxgFbDJRLTItkam0+PMh4yu67caxLev/ofLZ8hX7U2HC0qOCR6oEGaoO3dK7hepi1VkkqSFYk3WgVmoRx6opdEZS4+1PS6jUicrhTqEWtZbBly0IpLHZNU47UJIi43mRPUA9LPnobLt1mdu4zZOQ0HKJ6kYlrYMY56SLxYulltGi+87cd91jo+GIbk7iaSs9kugHCFmEHEpucr/ujtTM1i8+rJUtOLHljzJku3Xpy4Zs2UBxT0nO6EPvKammEOHH17ZYGR8YHNLHmHHT7Cj2Vnmk6gXwrtoJ1IfETeVBUCbjzVdfU+IWOEekkxDz4pVqqKbS4ZBsQb+HpjKOcguQWBlnJVj9zvBJogjb7hYGZkTrGYOonp1knlTayFlUCbKLSDWRTwiFv7mTNmyzmfx7fvlj7v6nvHSd7/Y7hdw2bc0MtllXQxaPAkjPp5xO0zlbmGluTq3lgLKhGIuPd/QMGWNyq4YG1NN/uGBR0ltxpZhrNL5FKG6CZEEegBZNOZQEzbodIREmXWFTiE43BRU08dvF8cNYurltYb6iOUuVuZqWjStZ0ierHU2YIaDFt7RPIrt0DZToa8/C8wzmLzru3+hVBBsD2DRoik+zLqo4UUwqHDlnYt0YC52DSfbBpUf9gaCSirnBcrKsLLkNnG3mwYaRjbNnf5saMr3ytDaOrin36FLQuupX1dxTzCK4ifsCjB+PSUB1r2LNkQ8Dfb0X3YPkF+3qq7OupzJf4vqQ/GyR7y0SJa1KzOfpyx5rv3O8cmx3nloA/9KrAXozxkVVFxqkPOuL+xwnbBXsuHpeOM7x87M197ClI5xxLSmgiXTi0qGgf/lQQx1NCr+e77QsvvWB1vWdgsrOyFa6ZXHG434I8Yf+kVPbd/s3tqZ+8Kk6rGGttHdFcbx4lcRNx2EsuJPyw+kdooTbidEGU3D75W8P/7GGngB/rE3+eiEo/PGsfNzL5n8eGM5kCjPNJ4VUc3mSTUriVh7G+FNivjbz8yIgYtxR+yeRm/ebnc0vG2eTN3RubO3cGuKS4KEqDisXA5SmR8LqiveYHb5ye9edqpg4zmmiTqWwQ7LVUkcpZXMxS1AJ5E9BuC8gCWSUncl4wyqAfNJJ9RH2QnBKisUM8FLjvB6JjZmPgN7zNLy6Vu/f6qH/aZFZ0gAgfIRoGXj9mc/p6Cd3mxs3qr6Vgev8veCv5hftujNIE1o12/XfkrMhEv++Yx1Bs24VTPU/WFznrY8r79LxgHXvcarwBM+0hCW5TKamdIUdxT+GKtv+trrHFIV6+Cf8r2U/WekYV7bmy5+3A6ZXpW7WHZ8TVVUlpQy9K0NJShWYyHOqx/2pmvKLjcF0XnyAM8CLfYp2KE/IntW8/F+GO9M8R/wxvlqMmJrToY4XFqSfUd1dELkLSJwqLUk9a/v9xvaIuXA+RaGNX92Z7UeNLedrwFLxB4K+FQmSBttLx1BJ7Mb1qN8sX+ZfvaZjw8iAgZi0zN8EgvCTT7srmuY9jGFP88/B2PobSlVKekk0V1+UwCmZhlw0KRkpKrheX6DHiWsWe1rYRLfVmUehbkyFLSSfpIee4gAZL5bz1V7ntqz2Q4lPPMruWu9RHG9YzypZ0Lw81rovGfyfo4ESxlAXp6x4swtckdz0/2egzxK0Jmef3/8RQwsLycuCeNIdlbn9dTksVt1zGAVOen7fcmyD2z/tSTtISZRJlERmFDW45ZVNtwupvQ5uo0EyRHgKw4+thkDApoikqugVi9ZyTUDiYx1pP3ePn8Gc2WvNBbiimZrfdpIx+xk8lQWabLNqpzc0MRAJ5qd0AHVKxxEUADKzCknoXvvhAT17zl+mzhg6kq81d5lk5J11C3uj5nPNGP2vgrI6HfjfEiDLQ5UUin5JTpcOUmBRCOdqn5OtAUXbnWPlRM6uV8dv/j3V4eG6ntA9m1jbPC17Eih3oizXLUudhxUW2V+SLC21RsTj134aVqq8Dj2MP1GeV/by8J7+/htv/cSyP9eFwSbcV+FD9yWnxLdHxqVJmdX5wsd5b8tMhrlX68+mZCcZMfFURLzQlOkEzpgyH7BCVtU/Cu+SbkqWaijOYltOhwFvw+0l7EaTs6bnNbx+MldlfmilT6ndbvaetDaNZbB5l7yzlnxCp091t9Vhba0aL2CxqV8KRpGTXmRf9w4/iClqEFlERfqoAblXBa8rkOW2ZZvIbM/iaRI2s/ezCZkErWeX9WhIX0MhBJG2cwn9wAERPjJ5ReQZP+h434c10K/lx+cjSfR2vrQ/OdjXQx5qrLt8Ly/JoCqqb7Pmun7V85NsPwXDzbWVte3z2yqQnd/qqHuakZY36C3AgyMc1rN8tKvvd4u0xo9Q1ziX306wOFbgHvLow+m4M3yV08LfiiPMbs9j89Z0ZqHX3z1udc0XzvsIeiBSRkiMCAoWbtneU6NFWdp6oGDkN1qvvyQF/Ecp+9v4RbwfiNiBcQQOsPCtOGm8TPR8F1A6M+L33RQOpT+vgihnHKqyvwzg5YEkAO8BzUgSlgzIfncoqEOgnR3eCWiXhl8ISNmWfm1bpC94fr3jufV7doLDy1dEQfxtnsepF+udN+PaJ1jAzymC9MnnM7YzuCeef3Mn1XP2mrZlBeAWYjmgLyq50GjWzxsncyD3wJv1tEyT15qfImTUcrsVUqA+69kgZPxuX9c26xOHTTeRcCaDHTZCsgsvmXjozffT8be2cvWN+zW3p1i/Li//g/mZv9Y1rW9AMOMncoVb1YuCb0/aKgWZhQ53+a9r3tI/OHI+NqCk+9gnRpEf/CGHCSwOyDh9cqIlF1EJZBvg61evUU/on7+8RB1iEDPWq0XzU3+yfKHDxPXIC6n/pW62RTNqQDq4WpcKyf35qolReUC3CZkIkldUhIcprjIFy/3uIMBBTpuxhS4OkglZySG/h8pSnlkgPdSH7fyCvgvE7chxKewVQ2qw2ru4nI8ZF8VZ7v2aGODFIIkaCLGEP8oGEIsRhhYWuyvCs9LsqxXlcuRwy8oMsi3oWffLBnlo6Xt9YVcqbOmD69a0oAX0k+GVWif9wFbKyf7DKOHHyQIKeTXyYXR4bIHv7v7M+Zs2qF7zPBQSNTL24Jmpsy4iYPtZUOI/cUtz/tO/+5l+bNZnnIMkip9008xdgqo6ypZ0nYfTK+Z3fp6m6rU10Z/pEGdWTCq9CyjQFkxxpFjYgHe8eg4plqxU7SwgDmoKoDysocH1X551NqxTl8eSotq5dKpvkFd1BpRDLkGH9LXaCQK3ADzq8qY701FeMzlUxwZ+r8NCLgRybndefxrtIIGg+OHeGAuQPJF2GNGJ17pma+/SMD/xvFZTpNYaFH06puC7Nq0Tta+gq83D+BLeZ2+IWgBPtk3c9OOaechY5B+BsKq+SfgUyPrL+nRgrJcNwQjPmnYfAHrOL4xN1awFBu1qbGC7hj/nAGiRXpit4AxEhkyIz6/SztvErRC+aNlK5SkkFGau8RtwDtYJ/ZhK1rOwEYBgU1lMRbC6octyVoB2g4m8XHNyAF7HG/eoixtYNiMezPUTPoETJ3D7jGLx3eh1EDy9PRmKkmLR/5nU1p7xyXDm51/1ON7bDViuDDdkCpJdzDbLA/6P+I8pgrN0fxSLR5LD5/aRBsNZO9btuZx21Ej+gf2GBf4h81I0UA2XlbOU3ZN19Q7HUxHy3RJzO7s9jZ489fxMapNvawrAn9g5qmbNkRmgFQIvFhGM9y+TImVukCZsTclz5CmJ+EvWBUmb67DG2TIH4OWKKEK3gEPLcGTnj/MBQvnT8Yz0AE87/sv7BfiTjc/qn/VrIz7u48U3VeqPtu4S9V9XEhIuOHSAuh6S+x13i66kj1N5Q6hvxIOn3XFL61pig7+vBEgmmNOuxyX50jmkRDdPzpRHsT9yFbavt9yMKCt+uRlA5EUSU5MFormI14NqjpzRk3l/j68Qf23ZcC5K6ZnIcWi3esJtD75dfWfh2jzB6XJQZlb8cyvvo8vIJrr+KpXvsKk6UAoEhVjWSqh7jKxg6hFtqwDYybANhoUJEQ2h+oVpks8lavXSsfmvMKdCguN0+0NmiBbh4Jy14eoJj9H0nv78yuflgQzarOYtVGzoqffPcQL0fpryHrgO7C9T1FAcnvj9FTCzeWxlDW2rfu2C79Uo9DtQqrfRiYrLQPDj9pb8jviBrJepMrKy0qu+InHpmC13R/HXr6CR0QGIoK5MjKkG7wlXd/7lsCT8geL6x5+/kpo+OO6zJzyT7DMd0VHNL3wMBjobVgqgYNtnN11INiARpJ+03qNtFuUndDpRijjUGqcl/Bb6TZT8MratOy7vg7xoea68yH7cV5WfaMhTnlNH2uTDtQEBxsomPhX/T5sEpI3d2S0hI1AVyGeaskbZbicw3Q87pBxGRUWL0qr16KsCrUc0jN3KB1qvJ7GqW8XOcJIjkPJUSlJKV8s6k+o+x1nP+NsRQbVoG43FRBVf70ATrWNNQMzamJKahe9hV6aqjzgoiTDEmUrFaJ7NSzpHXYUQ7PTGKyPr0IGiR6ZZaAAus3kHeamlgW5SJz2bsdSt0cm82YFpfMPBPcSxyjMWvbqOjF+8GYhPaY99T15AeaS9bXlPwuo2NnboRc2ebZV7TjpnHm7LDb1DSbKdoSHPXyPBaYWDxnEjVsZyhs8vIoxh8usV9uBtb9V+3oWWAKa1/yGMsrWfStt3xlZ62Mjw/SFTs4wATpaNU6vJyICRzYjO8VtnBYvvS5RS6Q8HbMbyk7p/fDvPARZ3YRvsrDRKY1ue6if1xELnjELVFbKxmb5Cqd9WBMlUt7mqRAxv0w8aOBfOTLVGJVyBOW1X4Khm6Bgfn11tky0fIsaDhUHp9pUP5jkfhJHyJkJv9ODOdBdu+cT1DRJVY2BTi9IxzMvD+vZOZoqx/2InS38OX8Lk54d0OemUrgTST7ytmEe3BgRvBSVtJ3QpGHFmOnBxHTT8jzN8//EQGOSQil4pOPmndsKqQ6KOBBc4vgD2WG6FRKDONoNCVQwj94CRRI5sUq8OG0KChsqS0Zfh7ds2IUiklvKBqYkH/hzyXYcsUrwXvSLep+IEDZYDRaMeKw1u291oai21NbTeJedwV6Xfspu/m+eMwdIs/CFRXG2nLrJ3aDSgGMLIrRxaQPyI5CsDosdvUJEE1DUUq63h4opq3N6w96GSoCl3yAi+xfF8s+6RexcXv0CFIsL4Hb+wjpqa+6ZNnR+tV5F/p69hUcNAuG006XdSd7fJPTGuMoyQbyaVDQkEkfLs1Iq4e/5OCHJlXNXhQ659cGt2C2HaMtmPGkX4Rdm0it6xVS+2So9LnyfHkW8Vquh6+k2fGOGVD7aTz6vnLnZyMrJDaS2ytVuvynCCkl5HFUY1tabzvYUE6LVxfwOpTd8BC6mp8tXz2N39A+cNb2jPTTaWVTDQV03QLhEvjrywPjiBgPtJejnWW9Wvy6d1Y4Oh5aSM+JEL2FQwVoJLA+/AbVjp1qOxZwfR42QXuTEC1LlDuJDgK1nsfwnr9Fv2tlBJWWHVoVeMjlO9ty69ZDT06qOHX95FR4qEdKha2bP9r5V8udiZ2m4RE0SH1F2xWlbFcoL1IPhVrr+UVt9iAwD66RqSmBSo36W0hMokUp2Jphuq6xqedesaM+5PLeL9E5QIwDgTxMdYe6HIIG5ffFfKrmGWifc1QHkLIxKnbalHDp1DyffSNVAtv/375yh0ZLSWri/FvBZ4qYy1YgpPW3jJti7PSQLS0K85JF0Tby7p8RAb/0nSqfubUN3WWdUKl+VqR8256O8ykbdaMAU+fpzdU1C80+Al2RfrWPVuJLi4vvHHloMVaEBNPEsUgrBZHBBIS7A/jYvMuq4Wh201cHpk4eenYBJME9pMNIy/qu/MmPrrkDIhX8Ohou4b88xuCKBtjytA1iMtU9b6s6nPrOok+wpxxu7fhGZKiRQX5g/Ag4srjxBPMSjUQCRIBy488/u8fO67YSdbPXogQejhoozkCHe8heY9H13HBQh+VDvRnLT8FX1+1YOeon1mKE5qfWt3MfjJeNsdjnQxZrpHfKEWNT7OuzW03g/iGnii/kInYf0CUH8ODZ/QRxD3PRDbA4XOwFwsBncnwop2WYaisa7YGdgoTgr8DO0SO/Ofo1bUXplvRK8efdo05n0jv2TnmfFL4qqUyUt+9SYqtphabMuWwZ0ysFH5hjsedX7bYSFoGfWA3/TDIOSiBAFF1HEoWt2wt5q7523JqJj122gPCc6qG59W3L/NOmtadlGZ7a2Al9y6AIS/FnWTXEAL+G4Q+E39hGdx2NX0R8YlZfnb6ySNIStKA9U0xsaQhRBc0C2cSX7sa2g19HsaN+xychqTIeIHp4ICHo7edc8TdW7aJr/yVDmt+bbWx+P3+Rxe7+/RkA3e0P3VSoCR3d6omjRKY2VRHKaupzS8NEJ3rb/WP0s5K8XNm8iOw2QXu2JrGsMKt43vSEqX0rUTpXOXDLdbqr8ZF6Z42y9BMjIBCD6t6Ju98ute7YQGPaLde7g2d3v3gMpYuRNqByWC6rjbIx8/LTqCVrnFY7/2QIzIdxnAd8jLhBKqYqQc7uVTIv4PqxsnSwJ6GEC/BQe2vjLhyG2iqvreMrbSnuZqLHjl00nJnVn2NXHqoBQi8WfBTtaIb05Rf5LMrgH0U1S9Xa+ETYeJbW2mAnZIjkLU7zjM0j5MbDrmFsfX0YyIP4UJkMwVylbIktQFEqtlO5qscrsu5bAHJmBAoWHVj+5b6i3fxs7Jgc+h1BNP0rWVw0dvQb121b1BXUNeR83gpINAH2fFzRzsxXfDQWCB+bke31gnQCzG0SrYVWnkbl99T2d04gEnLwtqzbwS0GBpkF2bKpnT+3eSXJQdTjVNnlGwH6lxE2UQk6eRF5hFiEfCUWW4l04RzZRPmlcB8yV588IkYAzkvUwvVlPQHD9pSSa3NKo4nptw97NJAnQpMyFnHgE9CvVnDizPueqH6MxV7qDWjKz/UvAiPXwQO1NnjPag/gbcZ/8LTyfHZz2wgxCw9zN1FFSJN55+IbYMQ9exP1Brr/hEI0/MNRIUMkALIUdRYr5A7LRhikhUh92T8Lk+qrCf4rL0Bc0IeZi+I8tCex8+M+EgTm0+Hj3I4uYD9lDGJFED+RErusfdpJpIREtzhtOlal+OaxwQ6Y+hVKEOOGmSYX2wbHLbssuKYA4/PtUKvqhUzwoXezXfL+JAzJS29PV7qI1nzPsWs7jWG0mZqMceRR9N0xvVWYbafRjcsGA9dxmj5lr8kihgMIbGZDEiIz5HYTx6X4AMKJlNybvZUJ+w5E0ivS/texfdp03w5rJfQfyYwqDbtRyWP1K7xYoZx0ntWY0suVwFxunCLcAdD/xsOH/aChkhKXWmut4j2tmi77+D/XAxuwA+8zt4Xp+/h7WMYzzPy9cEUV/uhvJRKqaeLTWktKgpm4rZoZ/W73gQt6S+G66O5t1o1KcsR6Ar4H+vknJlY7LOsZDjyo5vnDPykAuD9c0/ys6m6vknBJf2uGi6ejxSL8c2xQROBeOBna77E8/jqg0qmdEpuWqcpTrIbpLY7+RdTy4bKrgjJBXxR4u+7GbzeKh57qv4NnqNoHBhYFVIi8SUy+MeLGl6TUJh4pOfM7dy55ayU3iFhwaHpPEFXT3GxSFgGFhBUm5yBUEMVtLOR3avgIFyWv1aSvYZLc4175Li6wqLyw3OzjwgjGbnPzfd2eaHxgE1GdLaTR/CXkjXl+Wm/Qy4PMeR/ILM7q5PL+pILQ3YOzYx3ZvHChG3/jlxoa8ba54lYquDXQE1cdWCKqFHAZK+UNbI/jy0Ol5Xj/FkjOs82FWDlxqHc8oG0hSLnwPjI2MJ+/nyBl1ebOuFgZuqEtpcgFeUjbfh2tnXjgPHgoFEcHjIyGtwY3gRnCM3OhkJzMjlQub+r5FKu2XtcTE8xMmBikRpy3ztgeXtKl97tqyvoTxFnxSXDHN6nCkomjlbLxtUd+R+4SJL0lEoplDbcIXgYS0OhYGNbjstnhHlTubUjQR2R0XW1KDVrytvab+iyQkZmtksYb+kZpT0iUrfUo+UAcIPb9yKC2fxlRvgt2/uCsT1g6bYoN804tbTYJIO0Pnk7AYT/Ong1S6VhAUVybHcrPp48IlQ62rkZ3cYLR1OZENXPeuc1+L1VQnkoMOaq8iokPOVk1TiFarQy7ip3qo7UUDFoh9oBq4zuTki4Hp+gJ8fuStk4m97QEH/7PLee+UQsdqYFuKwb0DAu/lSiVWbuhB92vKbb4xzkz5JM49QVVqz+ZBcGocV6hN1pG2NEBt1DJQHNGh/LdguWKh5w1MgFBxnFYg3Hs+MeBSstanwY/PoLz6JXGhuM1rLWoUQs2CE8H17HU3k2kAQQBUw5VLni9N28eYchV4Z8VFukcpbN1FELkmdJKY6ymVqSzbJRaqnJWB0SyOFBJTyGkCKv3xUarXRDYGN2nExc1wgK1So9Zx8/d142iQ+fgNAVMXKDDs/nTQjzO+nvt1vrsTYP8IP4+xd1s38Bxg2t1IydJbvGl5jzyV0VYbuMZfGH++//q+pZ7LoPwGDazrTIh9mUmjHvqGafGKvO2nc5qe9VtOkzVBQRyeq+VzgIvJLc89Jr+AxPhABQQ9+Tewb3yXfwY6Fs5JXNc+L2Ndb0KZYxfELjGWl+N7o3cWzrgsF6zOE9bAJX9zTE6b7lgBnDMEsac6WaYcZg/MOAlJXa5zGsvZJpAQ7TsVH0cAbHLGczNLl2FP4/CJg+6ChqMlc98Wx4RlnV1kHQpWqd3WGIOuHtz9yl4Wia2vOUDHTui3M0ZFLxvh36oZEHx2OyRGGzE5FZQauCNL6Al5L6HvrDKB8kSBOpyKHg+yJchLVayRraUacfBfa93JzGPPa5DOpZa86a7b5Hhkv9GrSS8/fTJvvy8Q7WDqeN9eUhb7VUtTcN4Dvr2xpa5CYj4MqmJSM7NM/HHe+gex0twHGD2ao50sIRI8Tbzfs4Pvd0nZI7jmvSmrZScmesSKuasqSJfsXQS4EuGq9HhSIj4jO2YkGIhh2Tjk1Rm9WfC9gmg55Mp7unpbK84xtuj5auP8+4mwWV760yRGB/ofIrFnF9bkhUfkLAMdd72HP4joS2klVFdqi21y7bI8htkL20ESd4AJAszolqvHKZkEOoqacGtM0QAgs7cwv+O9LPSbKtEpCo+Q3lIYFJezEkJ1xBWyx7qE0rJGvygPjUmUGWiMwwSgW1uWsrpmsXChZHX9mc3RLW4F9ZElW+o9peKpzYlcp31C8FXhBlqHwHCVhqjW2jbA+BgR9a0BHb5cGiFouemfIdcrAVQXf0uuR2/PYIYF6mnhbU6JY+0/xWLaGym6TObioflCgWiN5UMaiC5qivh4TBk7bx2ZIFowSHNWbe9BkhuEwsEtlndOPHBcdDtZ8SaOtdKnWxLy/ZujqvwaegAl8yokrKZ4uvSwZdCixsiW5JZnmZfnnClxwI0UUWd6O04+rCk95Jt2oRe5rbRbccCZWbk2r7VVTwdiCzaKWNfU6Mx9SCZskGPnt9UfNpnoXBSPSbB82LsUh/fx+ieQkeHgUzNCJn9yds1crabv/6445/0fdlPU7Ud58T/Pt9lUOm+KYcnp+aLJXPbIzfFVwBM9IIhdcUX2gWSqqOwlseDzXkmqnrZoZOFS6n0NUvwS2Sjcsf70yPxslcRK0rtQo+x5wCfn2z2Prvwe7pdaWWciOoWzJ+d+jduGX2qXwe96A8SOePGbxZfHPsWf+4i/454VYFS53xmVmB9euIuorfEaCXbtF/xGEt5d2dfYqFuiiybycJW8d9n2uJVyAisEfVgkxCGiC4BFWGz8A26rpSS1OPmqwayZ0KPIbSP4tWV5vLyOdvGP16truGJ4tax4nLbyGwT5aE7A5Dn+f6tMjxRQYu+V+ECKscEi/U1kn0NhRAAft/m80tyQAbG0ZL/Xu0l4xpJrVAX9kkYWXPQVv0NvvDNG2pbtn+OlGFnn4e0xhgeh0PwC3ehLLqtBWcLEYCpT60YTGyeIybBAltVutrGfpiVkMh3I4Jo3gPUEGjlasbnXmO8ATZ/aB6jFaqlXy3M1AhycjciBIGeyaT/2g2pOWDRzqUusDNp1ym2IruxEO//LlK+w/bTd4RPyh6lTZ4X+tQbj/t9BRvTx+7VWsfA+AxcPlGcHT9vywo/n9poOEfgiwFnixOnvz/kHzyEyQic4nghkoisS3MM0nJOBwkJvbKp7G5qgZHHHlPvvkhrG6cCEXPBvLGKcWOANFFIllw5wBNACiWbcKaIRyO9TsLzqrdqzVH1TX5iCNgqz2qZhCtAuh0sxDcj2Slvx8iyS0LDuyGT9er/9VOOTkzEgJwSNA6QAo25v/3eZO4ADnEwR4LL79NheGzkChIFRRFAEoGOR/cLO2eg5NROheO6oFqKDY9UT1SQfUJv+kIxE2xkhzUtJKSbXusHnFWN32l3khvT0ff+0fx/+N6Nxf/H663Jd0FOA2FtePAWhOpxgkAXCSDBT5vrtVgpy0HdhzmnruccOm5t988v4UIKA7bXG4PiDJgdBY+3X7r/DHTP1+JH20lKaXMZkM6pLlTLP90FUT50rS+jG9kmSoVE7PZVBn75vmdveo/crHof6+5kyox3geIhJJQEQhJHv0KFnFijNymTLhitUVpfO7BcHEs+g7HBbIe3dt4IaS+0SJPvUdKdDdeRCfHZqBJTkGxxR0DHPSkZETtIiaVF8fa1a/2Jkc18SOZq7C7spBBRroJdwBRmGqgQb2aRbjgoN60fiqJoT6qBvarxX6vHtQ8R6luJyVcLYLaoSAyYnIksQMWihy7YFJ8vmrE4LmN+V5lLWiWrj1ius980urZKyLzNAsqv1ySldlj1d/gOnQNvAsRAQKfSZ1BHsSoLH5Vlkd1GhPs6z53uMNw93D+9xFhW0CMlhff+L2Fn8jh8cwwNzSXXtxDtQeTWfY1YoOQHL+WsX/k4Du4zh7K100UpQmwz6PZCbJODlrvFcNp5M7nIhHP2YMJLQX7OYiE5mNYFuS8myAIHxNjyj5QcJZS8WpNXjBC/DKLhFkq/WLsO9/AVxB6KgjARCIRaEbI40EgoFAmIVEppTtFjh0rAVGpiXgnWGlhdDVRIAVISQ4rVV9C3PAekBxfhXzOhxy9/gqmej7GIqsZr9RzEBIVAkAv0hiRPtQycixBCor/hmElMaAZISqZwOtvKu9JxIfg6DTnDpfo1eZQLVlEgotEA24q6Au6eMa/cX6mCh/aC9OzJodDUDxNo5Ug6qbHaQqTEmWPIC5zCR1B3PTnmPffUbYDtlQzXp6FeI5h9nAcfQ4aUSVwLyXm3gspvNZjmzcwiqhhzUIEpbWh64PODGelVivYKsU9RxyOYNV3gGT54uIxwAxygo1qdGsdTbPgcoIMdFcRHJvEXctcCwHV49e//Y70mBHIOofTmsjKp8EkB10cLCiCLkykF2XAXPMYjmMouXEokDQQy1o+SAUVZdjWqMGZrqmE1YahXNNGAHIsq9gL1y580OaUMPZABICALIAYgTmD8pmUAYbU7MlmgnZDSlRsHGbF3jq2IJJpxQGeJg8IC3CRnLiDcgDpROIoa64h2MeYcbCbx34rNbpGb8y3+mH8HC6ufW9svtjkDSxi8lmkRuYmGa2g4VBDiKSbnRKHzc3gEyRUoNpumy7oc/FxGIInFnXsRevkuYkxZwZBezDVUyDoApTLSVjsCZIP/kgqt2VedkY3wLThCyzEmTdCJ6MgKbYHJeud6B4QIh6zKHWHlYV3pol7mMCEg7LZs/ZazV7sVeR9X2odCW5JGXd1ZnAWVY1P6nzDkVsczQQACdUGK42XxxqUYhuoO0jAdcF1KKOGvadj1MqVu62EzPZm06WmJZByWCSlGAKHCDyk3MBU5LUmkzcG0sBLJNDA23Qr59g+PN1+71thJGdeDarCNrO7fuDiJEZrLhnEtZzeSLHu0w2PgkP3D2aPl+ak6NtlWFpAUfvjOvAhFhkBnWFGuUBIFpa2HeyPIXA9lnLrEbfUNPuTy6quY7TalpDronwUooAGzBKmGr7o/XM57g2UO0uvGycaTDtL3IvlDVWOi5IW6BAquOeDd70LFnvWPgQccCN7fHI2GF/1s7sxpw2KUTRsve0iXC8GoCCkKGa3ROz2W4OYMEMdsfVbuSlsNE/7uBntnC22F/PNMfZcRDRzkex7FgogiJUc2Djf2QcdWawzxt65vcMSF9+IE06zg0PBEE4NoOPDPY1WlvLJXvV1/3Q1u+KySvRIzYmzTzqivHW682DVvfuDA/ZoVKsQUOIWKJsfdrjUcgVq0wiNmNbzC8p2dC9jb1yaHt7uK9moK4SustRyB5bZs+Jw1LuxV07uN5nzYKRro4ORHNj0M+po1tZsawNzDkKz51gE4+/ZFqj6DjWBJhygB+igBvhigga0Xg2LiUSTA5EkGXmOYUbjhbVhhnf6kbD51uQez0/QVJYXd7V6HO8hEyo0yArNyKhyg3eFYm8tZQxeZJnVF+9KfXp9dcbWF2fQ03KaRyQPFvoZHIt55GH8je04wjUUXqquRHOYj9V2OP7t8y8xq3NxlvXhGDot6xuUXo7ujENNBszrBcfdnbOlaYoG9N77V/hSSsvYiwJNcOQ1irGS1BhcaPWpgyeZZR2a4yft0YzhiTli1yPtqtx0D59DequPu0nQgMaKhTLIMvakaGtC6Zvke45EWo9jDNrvkiH6KXYJlwzWV5PDmS9IZWe127XVicOO58xn4/jE7eIDYrkJgXYde6wIExSueMHjmruhOchguYi5wfRejYpAp88cB2vh4nj8q+ezKIA1brrNbcAa1Pf15ogNRZIMUgb45MxfTda36emJaOMPanqLkWVhqmu7S216wkE3IFeNvK8XFkE3IPMDTUso/SbfNkBRNjQFZ35xWcDatGoakHznRTRO9WsaU/9DZmd1Tq4A7jUzUXhpx3yzF3/ek3P9Tl7d22iFOfiUfnCc2fRDlOnxHk8ulnVuYKQOCbHbQzbUD5GWZ8AjSJ16thmnW2Kvqs2Bfxea0OGdGewVFyfZ4aRUskEqEneJM9KpjHrcj7ZS7W7jpPvR3saFumowMb25DZva/AIWDS1qOG6NebxNi+S2FQUxRZ3WhoRwBsB0bOVQU82q0rfPv7kGEywsQQcOR3HWFrWaccuI9AAUhr6jZj9jGc6Fg4JYY8XSVBhTgmPYIbTvZOzu9NIVrv/W+YtysOIAuFVBncq2g9IbnWi0qSpYEqeU49qqKTRyJBn5u1CcflvJAarF3JPkxANgz8cjRNmhFYGcxmHDYaTfjYz3I6PNaLd9xrfPf2AKM1kJxZ9igZeIkia6G/psu58SSBLCkCDboiC3w7PBcHKdnq4VNVmlrGpbcuxneW0gql278kVqamR3dRCEzDeqIowKtvEdkWd9TbB6MewxFCrKL84niW5sAsQx8XvGjI/wzOU4swe+G36iZ1Lh3qAJBTwgyAK+L12qeopvgbM0NiaZCVKDS/BUBJcMEvfdFiA50xNmWeOu4wnZVlHn3htKQ7vbo+jORQ8GfYE9X3N6cRJFSxzfY/PYES8q83APkj1y+57f97ByL3pHJwoFsQz3kh2FEUwm+UDe4Hvk4V58f18lyt3d98XTPZ1e2v32Dxns4uVUkOcwc9k/4Co8/XvsJ8Oehgfv9j7PpXikSJK8X3pLzi5vf/+Zt3Jk970+RHkXX8q7psCsv+/OQZlheArBsd6peHSFX+/rfGTsKl3f+x/siSrpMOygSSsyz0HSdHqnZ1ROaAsbxTk3zDn+dVlROtxZRa51rc/QpmkV2AwO6K79Bh8+mz4V1QFGYIrLSUDXz2jTByvQtbstJuIkBznJoBtnb6SL253x467ZOj41kz+x1m1MigKbz+mtXGuzA+5tG7aonLp4xe9bGFAK6acjJdYTHX0M8wkw9x0xQGwsEq5UX3obM4lNt+hqcgNRiqsUKnmNv2v7ACqAYBsGGOEUAZXkuYEY+9r5/CAxQE0sFRO1KH1RibhQkuPEs0jWzA54jtkqNe2NdNfbl5DiYnXQiQy3oGi0Rcry0OsxyQKBXz2nQOHiCYRxxHQGrUnUlIdYk5G7eFKzRwpQQOUWAgHVeWDhPkanjccHwKCZw2pyUmSoBA2DhTDIMSq8p9Gyzp+goUzVQzlUOeIIGpTbupXjYzKwd9p0jgtY6MsnsTBiYhuBKl9Y1FNXWaIJ1eF8DwBdQGTRNLG4nsvZO9IsR+rVSDUfLRfP+PiZjPraKJzm6KqhFNJSPA5YrPpGJvW8GodmfbEaGPuojEDH28WcVFOWXDLpiCcpyfFPeBB4IZbktsf7s/nN2HfkUfMqi5twiCYDMSfs0YCcnj0d7Qp8KtCRaicEx3AVe6HmRVAEayRJvXOORrj4afeiLkYQsZqARTwpYAzMSXXHIjRbl6AepfSbORpBL5L2aDCNojbi9Orro46xIGYcb/rRk0Lr4nzMBrtS+HNmOnCfcSawPnaEYo2yHU640FAAdo152+lu7FvnLUtSzOPOUPSdmQEmqGFeFBPEoEnVKSbiJCVKMnJ+zd5W297od3fppEeo6IuagNFEOdSGyAbj0nROp+MMp806ckt5nYvak2ScGdRgMg7UNZqZs0mBMQJGGtZNYcPJ2K+/Lwwy0gDUEHd42IamxFYFxzBjdb2tDuVCWe70mX7eX+52TLfFcmXsCHRpMqLMBiwJY8SCgPcugoYiLqdBLnRUGU/kJTvMGq3e/Mb3VDXk6xmoReaZqHiNXZxj8VAOkQHJ3FERsaFcHfg56OsFryD+qSAhxqNGGI7A9MAlewFMpwYmE1sE8HniABXByDHpx15lfaoImJ4qXBpxyMVp9fIHbmM+EHhA1w4BDB6SJSxxz6e2LPx09/v9QoYdTLFVxrygdqsqWEoJtazzm6+jclGpS3WtbLgUTKpbcAiN3or1PKUC/QvPyW2KUCpXr5erm/XtfW5lJU8y3vH1fR7BbTqQ9gtCYlTD7syBMpKT4+nYKZ83p33+dPApuvqOYOsJFE2deA2VmK5U/QQonWRRm7WY4KZon2FvFiYwd2zZsHgL12G2Yw9AmONO6jVHs7uwgm9vaVhOQnAEt8dgL33kTak5W96EPmETGjt5xQEEe8hHpA7gTW0Fq8dZ5awqrSesG4Yyk35TmyJHU+EZnz4LIZlOEQt9TtPJm/TqCUWftzPRre7+4aBzOUKCisol+Km1YSZc4YniF3UMHTxb4oycv2uLu7Z24iPghyfqZhREivVTHAkmM5HdjIUr85m5Z0HX+sA/b070l8OpID2cygE4Gl9He+Cuzvzm/xB//5oJsxIQAVI8nIbfGAZ4ePr/JxvGAQ7Z/Y37LnqBJAmc70zK7xcPDlG5qKb6FQL5Ospulau2oKx1hlux25zcvtqCBSqdi6ve7Ee0jr2pWExX+CIwFHE2CLqQ7ij2yNJHEULJ8v77B2eJJC9iSdWx+vna3AnwBA6I8vkXEMjXlyuG42mWvWFf4Ag3OG7FpmYMfTwCGq4gdPBzf978PH05B+SrwzH+u0yYFvcpSh+NxZtNmXJJrp38ZiRlEhCGolNBBCDO5xgCAiM4wNmWu2V5K42UmJHzYl9rp7yg65xPJFFmZk3kY198zOca4ME0JebqwB917L6Res5rYSZwjbLOdhojDJkpO7VcuH3ph54bEMOAmQY6J6vK5EHiaErVTOm5pCVBqzklZISepIpuaftV3eTHE4gRQVd6gh2iejhKQohsL0KAagj687+wiYDkOF3HXlVW8silZnBcKpa54kk7YNTopFxwyPyjQhU4+dldJOZhWlOqgjBvSxSS/A+UWaFV6CDB2FMUBphJFku5LQlgOZJlpcN4SC0c+zm5ZGI5Z/sVguTxooCsD21HCEu6Ihz4h/l9BEJAz7XIhZG/RM5F2H2JXg519Kcqw3yeEbn7wakeOvfNIivjc2CDJhPoqgv73nzGF859UAFyLe0FQDUGFx/pSwwmQRZuxfRppXa0oepCWXIxk30sG400tYRU0Uk58754X+5dVzfkXvL0Gf1I6WEEhTbxyGGGQPO2YUFcH9fHHNasH7JeQLFlMh9ocGVSEBLrLPlihtkTWMWgOkBw7KAcgFn0WoShh0aNyTJ0OM5PG2QXJp6sqY0mS1BuCdxHxhahJ5EM7WUZDOt15X2s0o++0yUr4ZIVHNWWGyKBonjRhcBXttIqigjUG1UMEVIuuUldc57BpB6a0+LzT7O8qodqo7mgCKaj9ARG8Em1BS5TYse4L85zLeOMqHAuiwHiOo4wQlz67je0zZDDHGsaVMi9cro0xYxyIcmOvsWM3FZtng3w7dVRg/UlHkWLKnRHk5wMVL6YzFmPoEcKuIalFNe8hyQdi0MBWcAVotKIFrKCQw/PxjksoI4FJRss5x4edGuoAWNLYN6GPWw94/vfuiCAaM9rhmrf27e2Z59qlxbQBXrj3gEhAxpJFHNQzRYMMaNcKElDSBYEbGg21y2jODF2qE6m7BpkBU8yoo2XGjuEAdKcew22EZoeAo4bzTVnOCCTCf0tTAN7hKOq4IO3095IVGcWoXNQn0If5BQEhqVdxBLRZq4LnKfnYx/cVkEiWTBjUVrOsuCtoFQVIVGZ6sCudglwIcvBnAsDvT1FyT1KoG1sF6Pto2V8a8XQ9RfWdntHgEYAzA5dve88oWrElGoABnCIECbKPi4aNcSWEFzt1oZlZUdYlQEGxVvp7WoncU1DImP8fKogV48wh960owVXHChqmxgSqFXWn06zJskckbvNfIRwraipZ7Ngv6DUXCSxrMkgdswetadt12K22m6vWsk0LQoCMhd0B7PQJxUUMhZKHzob9isSfh9i+ImuZ0076dJuy1ntHOu2rWgZGi3EJluKmBztClx8ivS06ZGibA266zXvC2bztG3myVvHh3YbMsHrtxaJ+WuQ3fdr4JePDzcyQxB4isEN0kwtTB2SlJxVPc8BC08/rRo6JLlW12re0r97xufOleij/BpmSB/Jp8S3qfocuoFLbGp0eMZrP/6PFjcwhJOE9aEgCngCpQ9Kqzdj3fBxDKCTw2rWU6pbw/Q5uMxe3fZOXFf0Q+oPePXeHiEj8V5xIcnJAe+EQSdcytJbcW1L54JnLofJAWhl081X5XGx5CpdPbz8/+7258T/637rlqd+9N28lW6yTbZ5hU3WgdrXs4/2TIAIQDgZHu/FxEZChbjapcNmeIJ0NyHAN8jIMdvQYNxxj8bNRz8EJtbnBDZROdrxDQCebRGpLSTFbMLtcvWQ2sEOrfYs2NKYesnak1QlNOrIAHU8823Cnsfepb3FpwAa9WOfPZeGUgBKHZRthMxFhu7zto5pDFPQ2UX3iTnhQpLdAXPCoJNBbqPKyvv+YL749/pdhNtbPN1VnNrq5vTgsZ4gaGs2UqnFqpc9OW7tx3SiReP6jexegOsJm66jZmQszkg1s2pjWpo0XlOA5blYyx1K8WDNUGnIXFtU075gFq4Fb+J1pBRZgiKSZpaubaGX6tgvvqctUTD4GNWtMPBB1f6lWyK8q8Wn25999yOLtG7riHIxk1LcfkRQyW1hYqb2TGIX7GCizdg00qlojgwXjFSIdBcCUZm9p9AiBGHgJlW8Q5EqM7hLgEsL9NT02WdGLEAFlmugYGXs1tDWknIhyXXk5Ywc4UhpMCTLG/myigg8cmxq54rkmJwACFxu5EPw2AZMWL3KNKejz0qhZLlcN1WGeBGho1gQxUjph99WA9kMC3W4JDDYYGdJOycsGoUH6vcaUREQLmaSAS8gYaC3guhZX4ZSeXGS6I+WERxPrwGHHPVO7EWtekEh5XHsxUqq75IZU9ewJCekNj3bCbCKwwZCDkdRn7JsBELVBIgCTDUE9cBQgThNqlpqovK5qw/0XKQI2QOoZBRYSN5Lzi3brIYWboB0KJH2TWmDb4Ip74nhxR5OhX75Jklzgj5Betcp3ckLghKPcheQrQXleg0rAy6E5XnVl2ixORpPVVHiIjkpsdSNepNbhDkJhSp+QewLG8/hMLAkR2WZWR4tZARyrhUma827QYAO/iacbK0roMYpm4plBkarcxxAQUleFGGUjJ0vQc84g6KjLj3kD0o0SI6jk0qZRrEB3V69jIo94WImxxLsyV4JcClFHzRPCFOCQcKtSyY05pDbYA4I/wDlSq0+X1xd397hPXmwVKC3+IYr6yLtwomrDZ/gchzFDFRiZGyWNOSoXpaGXH6FW8ya3f47FzDfVcDcsFAROWsoV+hcRIwF5warQ6olgcuwXRz2zjFOumdH+ci7yhp4dkM76zWnim2ZS5D6SJZfnZqb8yQd96CwwnafUfavjzCGEYZqCQ7fnw7/U0dBCTlmk4IW+kFO3eusoqxQaf3pZ7n/t8JsKINi3vMAP0bOhS3ZG55KUoB51X8oRZY32tiz/mA2N1sreJIRbNqKgnbTFzsXHtIZBOxkiXGm3l5uvaWQdnW5biNCT0Xw3mLWOsrKmfgw2GlcSLlgnE2Tkan91oIcN2hgWaKGGC90MdxutAdXP7HgCJzCGJjhBrKXW18dTOfPBrRLq5P+tOJDhQ2JKXMtjTHbvT1suCYWTqEvPQYL2BLGmpn2zomb//7yxWI0aHGpAQHK4OTC1oJSq95u1nqDUJJEFA49GnL3LK7588F4AQBtrB6SpQurE3v0Yxr1ndjkuo87gr3bXANPNFKSx1mr3CzKo6zJriBUL/CiSV3tnlncgwOx5VLS0eH1WZoVh718HPPwDrHpJahSH8/5F+bvJ59OOJ5yA+B+esAR+LhPvgSC1hEG++zhlkDUBPn9OBxO0Xp/I3xG5Ed4kycLhusPynF7W+xxS9Dwkc/GRmuVLaDEUqOEsY1PvnVvkaILXAkrCsBsP25Lu7WeSzEDHM7f8fs84gC19MxiWZ1eaSZcSqhlLaYjJKqKC0lWUBEGSpBDf+3mRK8/HJHuj9iR1o7rOtGMhtgmUBAROfK7p74cSAiFcNh8pHhPgRbWzPwIEgEM5PM5woVPOR6vUiyu6GoYCsstHix+tASVZZ5JCATUCSITlMguSriOjpbL2F2/Z68h6qkgcnMUIIOywsyFQmn0aNwfVQlwoSeqMhQSWq7o7YKdrPRYix1Z0S7ea7ZyGTFo2DDnaQ0W0XFgOQYnX9wUYcVoAmh2gVTBnoPSl5DpEtNdwNzDIp6YdgOC5vInaDrC6d8YbCQy1SkjMG/ABmmGI1wk8BtqiB2AyrRswAFfSiVnEUcEIJ+ju1L8u6ToepW+963YTzII6B2/be/yANCAORYPQf3TAjmh1a9yutKfUTz6GTW0V/kVjZPK/14SRZ2LuRw8ygAkpQy0qCbjJLVuW28fqrmi+Jl1O/fY6xvLsqIyXfu035Ir2tKA5HeHdU41gJ/+HMs9OUHEIvBGuWTHPAcLzYDVEHwmO0aaXMf1HEdpmewUDEQOs90S0MqF9DpUhG4J4trhePiWmWRsuFTWySUocVMDevtcGg9YI54+Cl8XPj4IasqhSt3amc5BybJm6HT0Wexpj8a0uVuoBY1RPrYBL1KkpBIBK2O24C2gxdQb8hQMjcxi5E15GGW0zjLUwkFR9Z3Urcq9y4FNY1zqQ+LrHY4qAuGhonyZcShp5jAAl7u3ulEsq0RZ3UTcpRsUqv4nHFmMAp8R+AtbFw4XNRnt7QtyFC7TNJqxbOXgVm1EmSIDMqqCgeuyjVYnBGbYu20oILqWubY4s9w2JgNly+dHAKnUudbvBuQBC9g51j14LB029zkQaUKWg8TULlhexh4KAeEOyLY7TgflFneG4yu7iLgTdtEZ+OSYCe8fOW67WjJ4p6Mpv39Qb7xSxRMAO8bGx50zFJ7AqNDMdMy5ewTbXORjDW4ybrTBk5Vzm9x/m9ExL4FH5PTlWAaYjqFnGRfAMveivRFpxn2zfXNbduwuEm+EVFtz/eVNHREiCUbs8DlJuSQR6u3QThhsJsXaMWeSuAzEjulmIHqliAjVImd5yfwDP9JyIFMjXGU2EoZKW5lzNlLQbjyDCySFOJJBXAdyY/R5jb6diW1s+mSpJxJcsnbkhBhZ75UkHAJRAjtmkdw8BKFCh4aqnAUE4tjoI6A9WP2Pw9mjiuFFkLMGwiGInq5Gk/S2R+G1d7GxF9H0ogNtUBgx4zuyzDb3ph7GyZ96Qq0fnGX1U/fNIzZrvUcoesKV/tjVzEfzXvlelETJRnsTfY7h1BH0QN9Y4uTUjhVjuiP/enH9Mmx8H5VPyvuNbBnbvtbpjrPGg6wUT2KmYXcIw4SeCZoG4v1V7G242GMH75EgKuIOUTtZ8vfmID4Whxwzxr8UpjjuUs/pHTf0qSYSuwe6fTfI1KFV9htSIEqDWPPVmlAwSN4mfhu6pRF1gRGVEz2iSP5imyvSeUiggJKyiHXEoWmKJo5f+rxXG7F7UzK9LZAsUfIeKBo3eqxigOg8LSEYwvBS4AWGOUdWAlYwvdjV+QHa+foLOfU1Zl3oLMFNTcCi7hG6ZrOpGOBive5tutZhksXHUyE5FpqGTIYhi4Riac8Vh+YoraPd26SaMnTrkCdJChGJgElYaQQ60AgHCmAPtMht4ChO8sK6b+BEnud5b8lVbyudKDT/tsXL3Nz0eUe+Y3htcruKCJX34ledug0WGy6IRJEuOENcCcfr9X1fvs7dMCxrnjgiacGU99Xx73xLINCQh9OIc4SDvqbTfOqvSOLBUpBU6Y/cZYTpcQMyUDgRdSCQmN0Ofpb280JzEsqEUn9G8dgH1ZCUVtIEW5wJ5YXjdyhd/mV7NYpysZKloSeQHJ4EXHKoS/ZP4BUvAp3cJo/Smz7QLZj5uNjWy6pmFOjkHcZ0lqa+rikUm3JlLWkqMIJVWeyM26lg1rjSB1QQNFKPQRqpCa+HKM23MqJI1Fkrg+NArhZxjBTIumxbcTFKY4gI2/xDxAkG4VYMrdiM3ArSPCYkr2dnqLTb6c9sabsPlw81A7Qu0XufiV93WTzZSF62Tl/t5LRPlni7tT4lro0c5/4Lunfndc3eIEBs6/CTg2f37vzC6S/toPon+Bne7cMv/Chr9GNRfHn+WbIflEv4jaS/OjuLn+/G9feNfCUyu1T+07D7ak46NWq/vNmQ//AI3MdlT3BykQY0HCYn0ePnYV5qgY+jvvSlB0evsV8aksfJdfhhE6/eNeKnt2eeTp+CEclXODj9hQMsnxiXt/HnPsbh8tcRg92N307Uj/J9buYTHSTQPm4SCoyilD0PfKYJg43KJctqJkf6yA/E5Rqbujdvvxm6+8Z/ifhBeDYg3pMaQRgeLN7Er8P6VWb+2p3fmJ/FgfZ8IwH6EL+88tvFnlFQ9SaE7D4pHL39OmApnTwQ/xdrxwzNvGzSkBUAxLEza2WpEFmAhxNgAWt0G4p4tLTWrVm32XwynadHfo8B6W5DcMzmsZd2lwTVUt90OhcbuLUMmCpJ8GxcVR3P+aJicuSNWDzj/it6sLzx7508e7D8kn+/IvR4X7x5my7ffQYDp7a9sdvOps/Z7wxlnmJy5JfECI3GG/sNyC03aj1PA1H/FTzK6gBcJmNb45OhxGoyx5ZxifWEk/NUXvNOG/CUxWiOY8oYOcRPgc/MvN/jh4neWvCS+q1EEc1/XNIeeMVhb/Uk3vwJTHw0rnADiYurs4fkKoUrru43I2wyDJxFwksgyWaVKXfRlIHK7wGX1jT4Lpwmfausm86wz1H9SgIhozp8p9l32di3a9xxII6m1J4LmX7n5VjSysnSpvnuJbRN2hzMF6HBF1u0tfrqmwYhmGia6EfzX8bBMpnXuFPPYWgjnWdMDdqNaXa6g2Ai/Q8rH4xQOwdaAN0EcJiHWXf2ZJGbwA8vru4iPCdGrr0dPLWE2jm6kSkTjw1cixe2DfjDFA+MABsPFCEfApmujI6MLsYSgSeKGzGJZLRdMxHN2Xa1GTwpeFAS/tG5Wm4Ls14tGqIAHL8l03hNcpMHBeHfBibTCB8BlejbxqRhBKt9VGBA6YNpD+nZ6PW0QSiMTRcETx7D0lZ6yVT3Nn7/H2RPQN8qZnlceSaNdIz8BolwroyU37yrULGusduD55c/Vp8Ef/PReHR2eweyJ2L6iG2gm1IfIb1nKK+/OpAHYuJO0YZqAWvIACrucAIXwiE2ZYZce5ma2TCqM9Uh0sQ/BPCQc0cQsgkpMVgtBLMug+0CldIE8BQLxMOUZ1kSAV9HZLw8LNtlPEg8Jx/g9YEwpCRyCl4HMGXkNN6jSD4DaQk3mH2dweMaFWAtu0kTfJz5osfiQJ9LvUb2jj5LIUqt2EGUtTVDw7NQo8xrGRjVBpS3hpl/qhpS2BMYl1ISAazGst0o1+XyspYJ7MywGHpLig5XJHcwhREdrYJq0ADWvepkLVQBhTKNPntgN9LU77hUx66HKKTvpJmtA6S3TIrDCcwCVnuhSOKiC4W/lwKf87twCpMPeJVBqNEO3EJqICUmhcmGSxVZKLgEz/FtUYFeSJ2gcnEnJuRzIzawonF66kw3amt+T3JBiwZroZS4hDZEAQqjziazDn41miVEcepuMLEwVMce1XFskcIcn6yl0xd0UP/WKNWxV067FLMST5Y2r5rWUgPLmlrQym6Pua+DeU/CypzZWuZi6JvByvxS50rmhovOgKfbyFJoDzCwTqi8NDFNsWmzZR3BQma9ePvL7lZkYvesWJk/8WZksNvkKrCSDTihwghP9xY6ty3tGYHIN9JHEWq/Cid4/Gr3aCiMysKBHWvgfmHw5oYf20QAqq8yofOwOZyCuXpDIJBeLp8P7A2925b2hpAGk4sVeQn0pYbLOyXYBst9BgzNWr+0WMEDHp3e3/YTGHyNJH/t+LrZAjcfY4NK7S/gsENdfMzB2tPNSkgnZ39HAyMzPD2GmblGae8lYUC3Ddx5BZ6Q7v2YdTV/+Uj6xAPx8l5vNZ5wTzK8QBA4A86nKQKr6co1rhQiP7GC/VlLR2hbZ/hewXMZmWKsRUY/hz13bMF3WRSUdhXbB9IfhfXq+t/8ASaWnqTcadq7yoFNJDlzo+5pfutxIKgUXxRgdkwL2E/SkxvSo0Tt/KQF8n2VA5jw9SnA9vF4rE5rtYKdWk5WtfTGgiALM9dlnl/4Y7jq4Y2GY0hXkfNUlTpXx4GXzkYoh2Y9DQfTNAYLdbTfVbOZxqaDdPDD5JEFRiYj9kjlLoqbxxP3sax9pgXQoZzuIWB0+REZNvdhWJBnhDvEY/QJD83jmcrdFwKSFUUDtWzJwwNRCA8enYTHQfW5sSe3LYO/0qJIOhNp7vfGrNfwMRSVXs3cZ8Py9ZNGUb2bjKl6dx+BeMaSDs1DvpCt2StgnhHb2J0DB49E4iTsgt0dAhnNcVJ07fTiRZzBysWfI643Wh1rPXM1PHjLak296bV+a69OVPWAa3k0Yxy7qyiAk17fm2ri3A53D/Sm8Hi8g4SlzgXAwepQEhnNaU4V0xq4/rmjZDaWak72/WyJS4pVE3QjdaM5TQcCpkcA1W1GeuRQxf4RCjM0Ls657VRH3qp1qn+EG4jKp87XWv3Z9KGkb2UZzLwO6i433a46mWiz3lCeCOwQ/E5QAKGzgGrFKS4VPDfkD7kuijmlYsphNNcL3QkU6KrCsnKZYFLN5uNEjghyL6qKrQlJeyXdkyzP+c75liedJk2CMDTy4ZnEgrDImpGzqWV8yjVVN7BiYQNMhw1LFgUh5DpqmkGsWL8EKIog8g+aevJM59RD81sd1k/4TB1O42FjplgdA6MD1UGKRzQb18Py220B7QeeICJzCSmu19iKVDXwko/Um1rgz8HoICtoMC1CX3DEPgU36BdLIkarsuyRKuuMpEdh6uFYlN6s9Uj1FvcXm4HMJDlE5V72WsPr2OuzrbRhRJ3iccfvfoNRjCKb1g/oV0Kd4LeK1uWF1ofW+R7Dkf89+YGn33zhIfDxPvDiYTb/mPsA2OmjSfIJntBiP791zdZkunhmBQPuGC2T2zbVM910Wtwvg4W4JiTGuGm2wd5FsoINxST7pHh+YsKV7lTQLwHMWrmsSNRZ0CHusIBRnNOwcDqZeIks6SEj3DnD2nCyWBr/0tRQPIQAjArlUNUxzjZhD65rELr5bBMXQw6uTYkOtlcm8KlLRDzHQAAsvenDdqWZOYpRbDO9XxRkaY+AXF2ZBI0+uf8J4/3K/8Sqv8l//i33m2sdAf5xmtzVtvNWs4sEt8AbwMLz6/IohN7XWXL4ghzY6f7XMrb6N98jAJDHdqj3YecywMfynActRCpNhsMT0wuUZUS2B7nkfESmE7VIz2tmxRiXfKkQPdWIyp5MGqWxhESdLaymyfUXhtZDhl1jrRXVN1oVEUhWYr8I00KJKORa3vlW01BLPKzJGc5YpP9oHo+h8C7k0OddTCYe16XUGJEamfzHpGSz7vTbgg9yFshDmK9zYMALazWN5D5tL2RUlzPeUqKVGAuspPLIwAeTDXsRIasU5UXIEZnYLdRjDzeulnRqJG491VYICeQ7Ep+/JGTRfEWtTJGNM5RRMlNv3qPmlIvRJkd/UV1OU6VIqD/z/dV+YPkVLDrvMMubcJ0vrHppDNKAUUsC0g6ZTufHKs9jxLBy7xSwhXrlvsFfepebNUFqsBDRPMXpw0OrJcpHA0152r5uQAXBljlNEjVk5C4LwK1ED5VbXyzpv9TC+FAtbmWkUfY6K98Cy5UftT+eNSprJuckYtAzDnkZdwOmpm4Z8IXu3nnblrhUvgFCglyXIQpJyMu0G9BxR2VL5bpcJWANJI5PkdDHRC5knMaiqkYAzhaGt0U+AohfAOKwbfkP4i8B3AGQqYFeoVIljY/2x5gTaPVFLiUH+BP6XXhrCwOeJw5UK+fPqEiweLaMr1yqFYCxR/v/DUlg/hUl8fuGrC6txOdsHm+F3wDiDQEwZwGIx1WGDhMNIHJCuBVvInKybyKW+N9EonJvIvVePyaAVsRMIcXIh4l/Ug3xxL9Yx/DEv8Hj2kv/AxpPhtwtwDDem4BiA/PviB2LIGoPBSsNPJ54NcRLxTe8DCLjD0/IHApJijiWLEEiVhpdrZ2jrpjfbUdxWXH6FRLvacOSNfsdacErTJIOZXgoIvj/RBa2eHwsQlwoqTiy4aGrbCxOkELUJ1FL1ugyVrrqCaF0boe4tYNcVJu6ExTbmHQUFHHCDDyifzTgQnU+HZFrM51AhiRCdT4e7wvd78Nam83/BRAhKQEECNEI/aWXyki5glLSmoACRUqUqVClRp0GTUhatOnQhaIHTd8uBgwZMWbClBlzFixZCf5PGVt27Dlw5MQZhgtXbtzt5sETFg4egRcibz5IfPkho6Ci8RcgEF2QYCFChQnHECESU5RoMVghBfjh1lOuwpoOlRrU6TdhNBDz7inTqj6QSDjlkT0mDTvgvLMOihWnCdtF8c65YNMll23guO6Kqw5J0OyWG25KVCNZEi4+nhSDUgl6TqaPj19XmbJky5UjT4F8S4YUKVSsxBHTZqy44+6PCMwzLnnOC654yTVvcggME61omzVnwaLT5h12RpWpcBx1LFzi8KIfgwVvPiwlyVomwUvbjGKtc/ERnAO3LZRDaZu0bdoubW+wph3TTmnnNCaFLdpYw5Y2spykhAxhPJuVnmjdbEs0HWByE3hwibjDE7g+2yWJnbXsRz2/D5L/lY+8RMPVxdPfTop+WOm+/WAP+9+Fd1ePP4xmN/5iulCXAMwugqAuCbiRZhEkjRImwqOSG0Kj2AzBUTSKxFFIQXQUNCJ5lJIRu1nGHImmlx0ZqVgJK38s4msDtAueONjbCZAAfV608Rkynq4vI/Nphh3w1w92OSdx2bHP)format("woff2");font-weight:lighter;font-style:normal}/*!normalize.css v3.0.2 | MIT License | git.io/normalize*/html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,footer,header,main,nav{display:block}template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}h1{margin:.67em 0}svg:not(:root){overflow:hidden}pre{overflow:auto}button{color:inherit;font:inherit;margin:0}button{overflow:visible}button{text-transform:none}button{-webkit-appearance:button;cursor:pointer}button[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}table{border-spacing:0}html{font-size:16px;box-sizing:border-box}body{padding:0;margin:0;font-family:source sans pro,helvetica neue,Arial,sans-serif;font-weight:400;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.5;color:#34495e;background:#fefefe;scroll-behavior:smooth;border-top:3px solid #c05b4d}@media screen and (max-width:800px){body{border-top:0}}::selection{background:#c05b4d;color:#fff}a{color:#34495e;text-decoration:none}h1{font-size:26px}h2{font-size:24px;font-family:Athelas,STHeiti,Microsoft Yahei,serif}h3{font-size:20px}.container{margin:0 auto;width:800px}@media screen and (max-width:800px){.container{width:100%;box-shadow:-1px -5px 5px #cacaca}}.content-wrapper{padding:0 20px}@font-face{font-family:iconfont;src:url(data:font/woff;base64,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)format("woff")}.iconfont{font-family:iconfont!important;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-text-stroke-width:.2px;cursor:pointer;letter-spacing:0;font-feature-settings:"liga";font-variant-ligatures:discretionary-ligatures;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-bilibili:before{content:"";font-size:.9em;position:relative;top:-4px}.icon-email:before{content:"";position:relative;top:-2px}.icon-gitlab:before{content:"";font-size:.9em;position:relative;top:-4px}.icon-github:before{content:"";position:relative;top:-1px}.icon-rss:before{content:""}.icon-heart:before{content:""}.icon-right:before{content:""}.icon-left:before{content:""}.header{padding:20px}.header:before,.header:after{content:" ";display:table}.header:after{clear:both}.header .logo-wrapper{float:left}.header .logo-wrapper .logo{font-size:48px;font-family:chancery,cursive,LiSu,sans-serif}@media screen and (max-width:800px){.header .logo-wrapper{display:none}}.header .site-navbar{float:right}.header .site-navbar .menu{display:inline-block;position:relative;padding-left:0;padding-right:25px;font-family:Athelas,STHeiti,Microsoft Yahei,serif}.header .site-navbar .menu .menu-item{display:inline-block;vertical-align:middle;transform:translateZ(0);backface-visibility:hidden;box-shadow:0 0 1px transparent;position:relative;overflow:hidden}.header .site-navbar .menu .menu-item+.menu-item{margin-left:10px}.header .site-navbar .menu .menu-item:before{content:"";position:absolute;z-index:-1;height:2px;bottom:0;left:51%;right:51%;background:#c05b4d;transition-duration:.2s;transition-property:right,left;transition-timing-function:ease-out}.header .site-navbar .menu .menu-item.active:before,.header .site-navbar .menu .menu-item:active:before,.header .site-navbar .menu .menu-item:focus:before,.header .site-navbar .menu .menu-item:hover:before{right:0;left:0}.header .site-navbar .menu .menu-item-link{font-size:18px}@media screen and (max-width:800px){.header .site-navbar{display:none}}@media screen and (max-width:800px){.header{padding:50px 0 0;text-align:center}}.post{padding:1.5em 0}.post .post-header{margin-bottom:20px}.post .post-header .post-title{margin:0;font-size:27px;font-weight:400;font-family:Athelas,STHeiti,Microsoft Yahei,serif}.post .post-header .post-meta{font-size:14px;color:#8a8a8a}.post .post-header .post-meta .post-time{font-size:15px}.post .post-toc{position:absolute;width:200px;margin-left:785px;padding:10px;font-family:Athelas,STHeiti,Microsoft Yahei,serif;border-radius:5px;background:rgba(248,245,236,.6);box-shadow:1px 1px 2px rgba(0,0,0,.125);word-wrap:break-word;box-sizing:border-box}.post .post-toc .post-toc-title{margin:0 10px;font-size:20px;font-weight:400;text-transform:uppercase}.post .post-toc .post-toc-content{font-size:15px}.post .post-toc .post-toc-content>nav>ul{margin:10px 0}.post .post-toc .post-toc-content ul{padding-left:20px;list-style:square}@media screen and (max-width:1185px){.post .post-toc{display:none}}.post .post-content{word-wrap:break-word}.post .post-content h1{font-weight:400;font-family:Athelas,STHeiti,Microsoft Yahei,serif}.post .post-content h1 .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.post .post-content h1 .anchor:hover{border-bottom:initial}.post .post-content h2{font-weight:400;font-family:Athelas,STHeiti,Microsoft Yahei,serif}.post .post-content h2 .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.post .post-content h2 .anchor:hover{border-bottom:initial}.post .post-content h3{font-weight:400;font-family:Athelas,STHeiti,Microsoft Yahei,serif}.post .post-content h3 .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.post .post-content h3 .anchor:hover{border-bottom:initial}.post .post-content a{color:#c05b4d;word-break:break-all}.post .post-content a:hover{border-bottom:1px solid #c05b4d}.post .post-content code,.post .post-content pre{padding:7px;font-size:.9em;font-family:Consolas,Monaco,Menlo,dejavu sans mono,bitstream vera sans mono,courier new,monospace;background:#f8f5ec}.post .post-content code{padding:3px 5px;border-radius:4px;color:#c7254e}.post .post-content pre>code{display:block}.post .post-content .highlight>.chroma{margin:1em 0;border-radius:5px;overflow-x:auto;box-shadow:1px 1px 2px rgba(0,0,0,.125);position:relative;background:#f8f5ec}.post .post-content .highlight>.chroma code{padding:0}.post .post-content .highlight>.chroma table{position:relative}.post .post-content .highlight>.chroma table::after{position:absolute;top:0;right:0;left:0;padding:2px 7px;font-size:.9em;font-weight:700;color:#b1b1b1;background:#f4efe1;content:"Code"}.post .post-content .highlight>.chroma.language-c>table::after{content:"C"}.post .post-content .highlight>.chroma .lntd{line-height:1em}.post .post-content .highlight>.chroma .lntd:first-child{width:10px}.post .post-content .highlight>.chroma .lntd:first-child pre{margin:0;padding:30px 7px 10px}.post .post-content .highlight>.chroma .lntd:last-child{vertical-align:top}.post .post-content .highlight>.chroma .lntd:last-child pre{margin:0;padding:30px 10px 10px}.post .post-content .highlight>.chroma table,.post .post-content .highlight>.chroma tr,.post .post-content .highlight>.chroma td{margin:0;padding:0;width:100%;border-collapse:collapse}.post .post-content .highlight>.chroma .lnt{color:#cacaca}.post .post-content .highlight>.chroma .k{color:#859900}.post .post-content .highlight>.chroma .kt{color:#859900;font-weight:700}.post .post-content .highlight>.chroma .n{color:#268bd2}.post .post-content .highlight>.chroma .nb{color:#cb4b16}.post .post-content .highlight>.chroma .nf{color:#268bd2}.post .post-content .highlight>.chroma .s{color:#2aa198}.post .post-content .highlight>.chroma .mi{color:#2aa198;font-weight:700}.post .post-content .highlight>.chroma .cm{color:#93a1a1;font-style:italic}.post .post-copyright{margin-top:20px;padding-top:10px;border-top:1px dashed #e6e6e6}.post .post-copyright .copyright-item{margin:5px 0}.post .post-copyright .copyright-item a{color:#c05b4d;word-wrap:break-word}.post .post-copyright .copyright-item a:hover{border-bottom:1px solid #c05b4d}.post .post-copyright .copyright-item .item-title{display:inline-block;min-width:5rem;margin-right:.5rem;text-align:right}.post .post-copyright .copyright-item .item-title:after{content:" :"}.post .post-footer{margin-top:20px;border-top:1px solid #e6e6e6;font-family:Athelas,STHeiti,Microsoft Yahei,serif}.post .post-footer .post-tags{padding:15px 0}.post .post-footer .post-tags a{margin-right:5px;color:#c05b4d;word-break:break-all}.post .post-footer .post-tags a::before{content:"#"}.post .post-footer .post-nav{margin:1em 0}.post .post-footer .post-nav:before,.post .post-footer .post-nav:after{content:" ";display:table}.post .post-footer .post-nav:after{clear:both}.post .post-footer .post-nav .prev,.post .post-footer .post-nav .next{font-weight:600;font-size:18px;font-family:Athelas,STHeiti,Microsoft Yahei,serif;transition-property:transform;transition-timing-function:ease-out;transition-duration:.3s}.post .post-footer .post-nav .prev{float:left}.post .post-footer .post-nav .prev:hover{color:#c05b4d;transform:translateX(-4px)}.post .post-footer .post-nav .next{float:right}.post .post-footer .post-nav .next:hover{color:#c05b4d;transform:translateX(4px)}@media screen and (max-width:800px){.post .post-footer .post-nav .nav-default{display:none}}.footer{margin-top:2em}.footer .social-links{text-align:center}.footer .social-links .iconfont{font-size:30px}.footer .social-links .iconfont+.iconfont{margin-left:10px}.footer .social-links .iconfont:hover{color:#c05b4d}.footer .copyright{margin:10px 0;color:#8a8a8a;text-align:center;font-family:Athelas,STHeiti,Microsoft Yahei,serif}.footer .copyright .hexo-link,.footer .copyright .theme-link{color:#c05b4d}.footer .copyright .copyright-year{display:block}.footer .copyright .copyright-year .heart{font-size:14px;margin:4px}@media screen and (max-width:800px){}.slideout-panel{position:relative;z-index:1;background-color:#fefefe;min-height:100vh}@keyframes clickfirst{0%{transform:translateY(6px) rotate(0)}100%{transform:translateY(0) rotate(45deg)}}@keyframes clickmid{0%{opacity:1}100%{opacity:0}}@keyframes clicklast{0%{transform:translateY(-6px) rotate(0)}100%{transform:translateY(0) rotate(-45deg)}}@keyframes outfirst{0%{transform:translateY(0) rotate(-45deg)}100%{transform:translateY(-6px) rotate(0)}}@keyframes outmid{0%{opacity:0}100%{opacity:1}}@keyframes outlast{0%{transform:translateY(0) rotate(45deg)}100%{transform:translateY(6px) rotate(0)}}@media screen and (max-width:800px){}@media screen and (max-width:800px){}</style><style>@-webkit-keyframes a{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes a{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@media (max-width:800px){}@media (min-width:800px){}</style><meta property=og:title content=SMMU内核驱动分析><meta property=og:description content="IOMMU核心框架层 IOMMU核心框架是管理IOMMU设备的一个通用框架，IOMMU设备通过实现特定的回调函数并将自身注册到IOMMU核心框"><meta property=og:type content=article><meta property=og:url content=/post/smmu/><meta property=article:section content=post><meta property=article:published_time content=2020-02-20T00:00:00+00:00><meta property=article:modified_time content=2021-04-08T14:35:55+08:00><meta itemprop=name content=SMMU内核驱动分析><meta itemprop=description content="IOMMU核心框架层 IOMMU核心框架是管理IOMMU设备的一个通用框架，IOMMU设备通过实现特定的回调函数并将自身注册到IOMMU核心框"><meta itemprop=datePublished content=2020-02-20T00:00:00+00:00><meta itemprop=dateModified content=2021-04-08T14:35:55+08:00><meta itemprop=wordCount content=6320><meta itemprop=keywords content=kernel,iommu,arm,><meta name=twitter:card content=summary><meta name=twitter:title content=SMMU内核驱动分析><meta name=twitter:description content="IOMMU核心框架层 IOMMU核心框架是管理IOMMU设备的一个通用框架，IOMMU设备通过实现特定的回调函数并将自身注册到IOMMU核心框"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><meta name=referrer content=no-referrer><link rel=icon type=image/png sizes=32x32 href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAKq0lEQVRYhY2WaXSTZRqGM3/845yDczwzx1GUc1DGhQFcxmVwnRnpKFmaNrELoIwDQ0nadElbBEWmA6JiLdBS2qY7a4WOLFJEKdamW5ImXShVIF9aoAocGGxB2qbv9tzzo61WBDXn3CffSfK99/Xcz/O+X3Qxr52COTUEo0ODMTEIU7IGc0oIUc4eWDNPIWb5GYp7vU/NW/mVin+9T0U7eykyuYesmaeUJaNXmVN7KMrZS1HOHpjTQjClBGF0BGFyhCgyOaT0do2saUfVJ3UL1fDA7eRv06uErMPK5AhRlLMXusgUDQZ7EHrbyQnSKDIlpKLSelRkSkjpbUHS24KYKGOSRtHOHrIuO6UsmaeUyREiQ2IQxqQQGRI10tvGNbre4pV16nzfdAoP3E6+gElFOzWyZPRCZ07ToLedwIJlTajYtQIvL2uC3qaRIUkjQ2IQeluQDPagGpU2BqORMVEjS2avmp/1tYp7o0+ZkkNKn6SRwRFSP4Q9Ab0tSGlv71GXzk2j8MDt6NEeVxbnlxSd3gOdOS0Eg+04KquX40zvLLy6oh7XVqu3BRGZ3CPjXu8dNqceHzImalxvD4ro9F4Vv/KMinL2KEOSpgzJoQmQ391L0cnH1O4DyWq4/w4avHQnFVdlqcgUjSwZPdAZk0Z/aE1tR8KqT8aJx/R9W56J2fPtnXf/6crv7np68IUlXcJg15QlvUfFvXZamlNCQm/T5LjhBAAy2IPqleXNKrskT1XXJKusvDJlsJ8gY1IQ0c4QdNerVm87iUVvfAaD/fg4AM1+zhresGGDXLBgAf113oFBvT0oIpM1YUkPCb0tqOYu/fGcXCMyp4SUxdnzXYsiHdr1Af6TV4Je7WHYsw6OAiztIltisti7d+9ATEyM+tu8D4dMDk3GvdYrjLb28MzZS/532+Rpl2+97QGaHVX9HcjcJUeHHzOUy3seSaAHnlzJzMna8LzXT8uolJCKSg2RyRG8PkCssxVrNhchynF09LOEo5SS5gxfunSJRVlildHeJkxJmpqb0PHt76fMGn777bcvlJSUUGRkJN33RCbpbUF62rJzcMaDT367aNGi8Jo1a8TUqVPVwxF5x+OWnxYLVp6RFmeIbpjAD/sfxIuL/ZSckkpEJJ/6y4tKb+sWentQTL43asDhcLChoaHLixcvHvrtnY/yiIWfspmPx/DU1FTR29urdu3aJTMyXwvPfDx+8NmYvZfMKT0ybsVpEZWqkSnpBglcq4hXvZSQkDDS398/MvXue9XUWdbBKX+cF9bpfiVuvvlmPmnSpPO/vmXKt0+aivrnv2LjnZ2d1N/fT4VFrmHzy+/LiH/USmOiJo2JmtLbNDLYNTKnaGRM/CUAS4/LJ02552655TfD8fHxIx988AF5PJ7h5ubmsNvtlgcOHLhYVVV1bv/+/Sc7OjrOcc7J5/NRtDV2+Dlr+YjeHiRjkkbm1B5lGj0jyJQUkoZEjQz2nwYgva1DzJr9ykh8/LwrVquV0tPT4fV6VV9fH7KysshsNmPOnDlYuHAhzp49CyKCUor27NlDd901RT76wpqw0XFSWjJ7VXR6r4pM6ZHGJE0ak0JSbwvCcKME5i49jjmv7JePPRMrWv1+GhgYQH9/P5RSIKIfSCkFIcSPvhsaGsL0GQ+pZyw5IuLVz5TBfmL0gFr6JRnsx0lvO/lDgOcXNuLZ2BLEpGxB0uoSuuOOydTd3U3XGv6MiIjUmGjfvn30nHGezNreqhw5HyI2vRJzXt6A2VG5eGFJBwz2IHRPWSsRm7YNqyrc2Nl5FXu+ZHjRMh8lJSUEQND3LzX2/iNTAAqAIiIJYARAGMAwEcl7759OO9rDYtcXAmW+EZT6GXKOXMK/cr2Ys6QUurc+OovygEB5QGJ7p8DailoYjUZSSo2MLTIRgq4DIQCwMeORseswgDAR8RkzZ8r82rOisl2gLMBR2MJQ6JFYV8ex9ghXutxGDpdPYHOLQH4zx5+fN6OqqooAiPFKxhcc00QjPuFaTDBn45o9e/bQW3tOy01Nigp9ijY1ccp1c8quF3Jjk2S6jQ0Mm5oFctwC79Qx3H3/LLp69SqNRzsWq5ioCVWzsUolEfFxkAn30hNPPBFevSuo3q1T4v0GyTc0KrG+QbL36gUrDwimy6kfNV9XJ/DvTxnue+RZNTQ09LPDN9b3ayvmE1s0MjKCKffOECsPDbIVhzhbfUSwtZ8J9n6DZBsbBdvaLpku+3OO7HqO9+ok3jjI8ajJgZqaml8y8XJi1Neanz9/XiSlZQrj2rrh1I8EW3lIsKzDkq09wtn6RsEKWiSraJNMt97NkdPAkFMvseqQwJKCdpis83H58uVfkgAfi15MNL948SKmPfDQlRjXKe7Yx/ibn3CedViw1Z9xsa5estxmyVw+NZpAbhNHbjNHbpPEmlqOFXsuIn55Me6Z9gdyuVwDnPOfasd1d4bX68V9j/+dZ3zE1Vu1XL77OZfvNwi5sYmrvGbFC7yKlQcU23lUMl2Bh6PQx5HfIvBuHcNbnw5iYwPH6g/PwLL0Tcx88JHLiYmJ/fn5+bK2tlY1NjaS2+1WJ06cOHUjMCklYuctpHc+HlAbmzjymwUKmjmquiVtO6pYWZtiWzol+6BbMV1JK0dpgKPAw5Hj5ljvZij0CBS0SJQFBCq8l7Fs80E8o4/DpEmT2IwZM4Zzc3NlOByWNziYQEQ4fPgw7O/ulsV+pbZ1cJT6OLZ2KrW9S7GtnZLtOKbYrm7FdOUBjsp2gQIPR24jQ4GHjx1MAts7BaqPcWzr5Cj3DuGlhQkjUsqf3CF9fX0sOzs7JIRAxFyjKnRfUP/tlmpHF0eZX6rKDsm2HRWsqluxqmOK6SrbBLa2S2z2CGxqEXD5BCoCAjs6BXZ3Cew+JlDVJVDhF4hdsgxCiJ8czm+++QYRERFfBQIBWV9fH37hpUW0/4Sg6i8klQeUKGsTbEunZNu7BNvSIZluS5tEZUAiv0Vgs0fA5RUo8Y0alvsltnUIbG3nKG7liHrV+bMARIScnByaPn06McaU0+kU72x3084uAVcr5yUBzirbBdvaKVixnzNdRZtEaatAXtNo3wtbJIo8Ei6vQLFPojwgUObnWN8Yhnn+Ekgpf25HICMjA7dOnsZ27959PhwOS0NUnMpvGKZ8j2CuVsEqApxVtAuW7xFMV+qTKPYJ5DaOVl/kEShs4Shs5nB5BEpbOYo8HNmfh5HoXHFdc6UUHTx4cLCmpobV1dWN2Gw2ssTOH75w4QIjIiQnJ9PqfedUfotgLq9gZX7JSvyCbWySTFc0ZrqpSaDMP2ro8o4/tRiKvQKbmgXWfXwR6RmZ1x3A+vr6yxkZGbK6ulqdPXuWpJTf/UG5cuUKxf8zkXLdw6LQK5nLK1hJq2D5Hs5y6gXXubwCLq9EkZdjawdHRYCj2MdQ5GUo8jCU+gSKfAIrK71ktVrl9QBCoRBFRESoVatWXa2pqRk4dOgQKioqrjidzrBzTf7IptrzqjygWLFPMVerZEVeydY3CJbt5lxX5OMo80tsaQujqotja4dAeYCjzM9R2sqxpZ1jRxdHZu7ekalTp2JwcPBGEKiurqadO3eyvLy8wZtuuim8umj319XdXG3vkryiXbJSv2Auv2T5HsHeOaLYOrcQ/wcGPD8aJVOFcAAAAABJRU5ErkJggg=="><style>.sf-hidden{display:none!important}</style><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style><body><div id=mobile-navbar class="mobile-navbar sf-hidden"></div><nav id=mobile-menu class="mobile-menu slideout-menu slideout-menu-left sf-hidden"></nav><div class="container slideout-panel slideout-panel-left" id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=https://crab2313.github.io/ class=logo>crab2313's blog</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://crab2313.github.io/>Home</a><li class=menu-item><a class=menu-item-link href=https://crab2313.github.io/post/>Archives</a><li class=menu-item><a class=menu-item-link href=https://crab2313.github.io/tags/>Tags</a><li class=menu-item><a class=menu-item-link href=https://crab2313.github.io/categories/>Categories</a></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>SMMU内核驱动分析</h1><div class=post-meta><span class=post-time>2020-02-20</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#iommu%E6%A0%B8%E5%BF%83%E6%A1%86%E6%9E%B6%E5%B1%82 class=toc-link>IOMMU核心框架层</a><ul class=sf-hidden></ul><li><a href=#smmu%E7%A1%AC%E4%BB%B6%E5%8F%8A%E9%A9%B1%E5%8A%A8%E5%88%86%E6%9E%90 class=toc-link>SMMU硬件及驱动分析</a><ul class=sf-hidden></ul></ul></nav></div></div><div class=post-content><h1 id=iommu核心框架层><a href=#iommu%E6%A0%B8%E5%BF%83%E6%A1%86%E6%9E%B6%E5%B1%82 class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>IOMMU核心框架层</h1><p>IOMMU核心框架是管理IOMMU设备的一个通用框架，IOMMU设备通过实现特定的回调函数并将自身注册到IOMMU核心框架中，以此通过IOMMU核心框架提供的API向整个内核提供IOMMU功能。所有的IOMMU设备都嵌入了一个<code>struct iommu_device</code>，iommu的核心代码只会操作这个结构体。可以看到，我们唯一需要关心的就是ops，这是iommu驱动注册到core中的回调函数。:<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>struct</span> <span class=n>iommu_device</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>list_head</span> <span class=n>list</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>const</span> <span class=k>struct</span> <span class=n>iommu_ops</span> <span class=o>*</span><span class=n>ops</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>fwnode_handle</span> <span class=o>*</span><span class=n>fwnode</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>device</span> <span class=o>*</span><span class=n>dev</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * struct iommu_ops - iommu ops and capabilities
</span></span></span><span class=line><span class=cl><span class=cm> * @capable: check capability
</span></span></span><span class=line><span class=cl><span class=cm> * @domain_alloc: allocate iommu domain
</span></span></span><span class=line><span class=cl><span class=cm> * @domain_free: free iommu domain
</span></span></span><span class=line><span class=cl><span class=cm> * @attach_dev: attach device to an iommu domain
</span></span></span><span class=line><span class=cl><span class=cm> * @detach_dev: detach device from an iommu domain
</span></span></span><span class=line><span class=cl><span class=cm> * @map: map a physically contiguous memory region to an iommu domain
</span></span></span><span class=line><span class=cl><span class=cm> * @unmap: unmap a physically contiguous memory region from an iommu domain
</span></span></span><span class=line><span class=cl><span class=cm> * @flush_tlb_all: Synchronously flush all hardware TLBs for this domain
</span></span></span><span class=line><span class=cl><span class=cm> * @tlb_range_add: Add a given iova range to the flush queue for this domain
</span></span></span><span class=line><span class=cl><span class=cm> * @tlb_sync: Flush all queued ranges from the hardware TLBs and empty flush
</span></span></span><span class=line><span class=cl><span class=cm> *            queue
</span></span></span><span class=line><span class=cl><span class=cm> * @iova_to_phys: translate iova to physical address
</span></span></span><span class=line><span class=cl><span class=cm> * @add_device: add device to iommu grouping
</span></span></span><span class=line><span class=cl><span class=cm> * @remove_device: remove device from iommu grouping
</span></span></span><span class=line><span class=cl><span class=cm> * @device_group: find iommu group for a particular device
</span></span></span><span class=line><span class=cl><span class=cm> * @domain_get_attr: Query domain attributes
</span></span></span><span class=line><span class=cl><span class=cm> * @domain_set_attr: Change domain attributes
</span></span></span><span class=line><span class=cl><span class=cm> * @get_resv_regions: Request list of reserved regions for a device
</span></span></span><span class=line><span class=cl><span class=cm> * @put_resv_regions: Free list of reserved regions for a device
</span></span></span><span class=line><span class=cl><span class=cm> * @apply_resv_region: Temporary helper call-back for iova reserved ranges
</span></span></span><span class=line><span class=cl><span class=cm> * @domain_window_enable: Configure and enable a particular window for a domain
</span></span></span><span class=line><span class=cl><span class=cm> * @domain_window_disable: Disable a particular window for a domain
</span></span></span><span class=line><span class=cl><span class=cm> * @domain_set_windows: Set the number of windows for a domain
</span></span></span><span class=line><span class=cl><span class=cm> * @domain_get_windows: Return the number of windows for a domain
</span></span></span><span class=line><span class=cl><span class=cm> * @of_xlate: add OF master IDs to iommu grouping
</span></span></span><span class=line><span class=cl><span class=cm> * @pgsize_bitmap: bitmap of all possible supported page sizes
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span></code></pre></table></div></div><p>iommu中的核心代码在<code>drivers/iommu/iommu.c</code>中实现，下面从一些基本的方面分析核心层提供的功能。由于一个运行的系统中只会同时存在几个iommu设备，因此设备管理实现比较简单，是由链表实现的。<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>static</span> <span class=nf>LIST_HEAD</span><span class=p>(</span><span class=n>iommu_device_list</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>static</span> <span class=nf>DEFINE_SPINLOCK</span><span class=p>(</span><span class=n>iommu_device_lock</span><span class=p>);</span>
</span></span></code></pre></table></div></div><p>注册和注销设备实质上就是操作这个链表。iommu向外提供的API不多，后面主要分析：<ul><li>iommu_map &amp;&amp; iommu_unmap<li>iommu_domain_alloc &amp;&amp; iommu_domain_free<li>iommu_attach_device &amp;&amp; iommu_detach_device</ul><h2 id=iommu_domain_alloc><a href=#iommu_domain_alloc class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>iommu_domain_alloc</h2><p>在我的理解中，domain这个词是从intel的VT-d文档中继承下来的，其他平台有各自的叫法，比如ARM下叫context。一个domain应该是指一个独立的iommu映射上下文。处于同一个domain中的设备使用同一套映射做地址转换（对于mmio来说就是独立的页表）。core层中使用<code>struct iommu_domain</code>表示一个domain：<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>struct</span> <span class=n>iommu_domain</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kt>unsigned</span> <span class=n>type</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>const</span> <span class=k>struct</span> <span class=n>iommu_ops</span> <span class=o>*</span><span class=n>ops</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>pgsize_bitmap</span><span class=p>;</span>	<span class=cm>/* Bitmap of page sizes in use */</span>
</span></span><span class=line><span class=cl>	<span class=kt>iommu_fault_handler_t</span> <span class=n>handler</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=o>*</span><span class=n>handler_token</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>iommu_domain_geometry</span> <span class=n>geometry</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=o>*</span><span class=n>iova_cookie</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></table></div></div><p>后面分析各个字段的含义。注释中提到了内核支持的domain类型：<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm> * This are the possible domain-types
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *	IOMMU_DOMAIN_BLOCKED	- All DMA is blocked, can be used to isolate
</span></span></span><span class=line><span class=cl><span class=cm> *				  devices
</span></span></span><span class=line><span class=cl><span class=cm> *	IOMMU_DOMAIN_IDENTITY	- DMA addresses are system physical addresses
</span></span></span><span class=line><span class=cl><span class=cm> *	IOMMU_DOMAIN_UNMANAGED	- DMA mappings managed by IOMMU-API user, used
</span></span></span><span class=line><span class=cl><span class=cm> *				  for VMs
</span></span></span><span class=line><span class=cl><span class=cm> *	IOMMU_DOMAIN_DMA	- Internally used for DMA-API implementations.
</span></span></span><span class=line><span class=cl><span class=cm> *				  This flag allows IOMMU drivers to implement
</span></span></span><span class=line><span class=cl><span class=cm> *				  certain optimizations for these domain
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span></code></pre></table></div></div><p>这个函数仅仅就是调用ops中驱动注册的<code>domain_alloc</code>回调函数分配一个iommu_domain，从这里看书每个驱动也是要提供自己的domain类型并把<code>struct iommu_domain</code>嵌入进取的。<h2 id=iommu_attach_device><a href=#iommu_attach_device class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>iommu_attach_device</h2><div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=nf>iommu_attach_device</span><span class=p>(</span><span class=k>struct</span> <span class=n>iommu_domain</span> <span class=o>*</span><span class=n>domain</span><span class=p>,</span> <span class=k>struct</span> <span class=n>device</span> <span class=o>*</span><span class=n>dev</span><span class=p>);</span>
</span></span></code></pre></table></div></div><p>从函数原型中可以看出该函数的操作对象是一个domain和一个设备，联想函数名称可以认为该函数是将一个设备添加到一个domain中。但事实上还是有些偏差的，该函数实际上将设备所在的Group与该domain绑定。值得一提的是，如果函数发现设备存在的Group中存在多个设备，则不进行绑定操作。总结下来，该操作针对独立设备（即所在Group里只有自己），将设备所在Group与domain进行绑定。<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=nf>iommu_group_device_count</span><span class=p>(</span><span class=n>group</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>goto</span> <span class=n>out_unlock</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>ret</span> <span class=o>=</span> <span class=nf>__iommu_attach_group</span><span class=p>(</span><span class=n>domain</span><span class=p>,</span> <span class=n>group</span><span class=p>);</span>
</span></span></code></pre></table></div></div><p><code>__iommu_attach_group</code>遍历Group中所有的设备，并调用<code>__iommu_attach_device</code>。该函数首先通过<code>domain-&gt;ops</code>中的is_attach_deffered检查是否延后进行attach操作。然后调用ops中的attach_dev函数将设备绑定到该domain中去。这里需要注意区分Group中default_domain和domain的概念：domain指group当前所在的domain，而default_domain指Group默认应该在的domain。进行attach操作时，会检查default_domain是否与domain相同，以此判断该Group是否已经attach到别的domain上了，在该情况下返回<code>-EBUSY</code>。<h2 id=iommu_detach_device><a href=#iommu_detach_device class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>iommu_detach_device</h2><p>该函数与上面的<code>iommu_attach_device</code>几乎完全相反，并且该函数也是操作独立设备。这里注意如果Group有自己的default_domain，那么该函数在detach完成之后会重新attach到default_domain上。<h2 id=iommu_map><a href=#iommu_map class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>iommu_map</h2><div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=nf>iommu_map</span><span class=p>(</span><span class=k>struct</span> <span class=n>iommu_domain</span> <span class=o>*</span><span class=n>domain</span><span class=p>,</span> <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>iova</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	      <span class=kt>phys_addr_t</span> <span class=n>paddr</span><span class=p>,</span> <span class=kt>size_t</span> <span class=n>size</span><span class=p>,</span> <span class=kt>int</span> <span class=n>prot</span><span class=p>);</span>
</span></span></code></pre></table></div></div><p>函数原型上可以看出来是用于映射domain内的iova，将长度为<code>size</code>以<code>iova</code>为起始地址的iova区域映射到以paddr为起始地址的物理地址。该函数只能用于<code>UNMANAGED</code>类型和<code>DMA</code>类型的domain。<code>domain-&gt;pgsize_bitmap</code>是一个bitmap，用于记录domain支持的最小page大小。iommu_map函数进行操作时，是以page为单位的，page大小不固定可以根据需要使用不同大小的page，在同一次iommu_map操作中也不要求page大小一致。最终一个page的映射是调用iommu-&gt;ops中的map回调函数实现的。<h2 id=iommu_iova_to_phys><a href=#iommu_iova_to_phys class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>iommu_iova_to_phys</h2><p>该函数调用<code>domain-&gt;ops</code>中提供的<code>iova_to_phys</code>回调函数将iova转换成物理地址。<p>TODO dma integration<h2 id=iommu-group><a href=#iommu-group class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>IOMMU Group</h2><p>啃了两天PCIE协议，对IOMMU的Group概念也有了一定的理解。从内核角度来看Group是一组设备，是IOMMU可以辨别的最小单位，即IOMMU无法区分出一个Group中的设备。区分标准是什么呢，IO地址空间。以PCIE总线来举一个例子，我们知道PCIE是一个点对点的协议，如果一个多function设备挂到了一个不支持ACS的bridge下，那么这两个function可以通过该bridge进行通信。这样的通信直接由bridge进行转发而无需通过Root Complex，自然也就无需通过IOMMU。这种情况下，这两个function的IOVA无法完全通过IOMMU隔离开，所以他们需要分到同一个Group中。同一个Group的设备应该是公用一个domain的。<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>struct</span> <span class=n>iommu_group</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>kobject</span> <span class=n>kobj</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>kobject</span> <span class=o>*</span><span class=n>devices_kobj</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>list_head</span> <span class=n>devices</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>mutex</span> <span class=n>mutex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>blocking_notifier_head</span> <span class=n>notifier</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=o>*</span><span class=n>iommu_data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=p>(</span><span class=o>*</span><span class=n>iommu_data_release</span><span class=p>)(</span><span class=kt>void</span> <span class=o>*</span><span class=n>iommu_data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=o>*</span><span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>iommu_domain</span> <span class=o>*</span><span class=n>default_domain</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>iommu_domain</span> <span class=o>*</span><span class=n>domain</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></table></div></div><p>从iommu_group的结构中可以发现，devices列表保存group中设备。一个group需要关联两个iommu_domain，除此之外支持内核中其他组件向该group中注册listener。default_domain保存的是默认该设备应该位于的domain，而domain字段保存设备当前所在的domain。<h3 id=iommu_group_add_device><a href=#iommu_group_add_device class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>iommu_group_add_device</h3><p>该函数将一个设备加入一个Group，函数的主要操作如下：<ul><li>处理sysfs相关的事项，如建立iommu_group符号链接<li>将设备的iommu_group字段设置为这个Group<li>调用iommu_group_create_direct_mappings建立设备的iova映射<li>将设备加入到Group内的list里<li>通知所有注册到Group里的listener有设备加入</ul><p>TODO: iommu_group_create_direct_mappings<h3 id=iommu_group_get_for_dev><a href=#iommu_group_get_for_dev class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>iommu_group_get_for_dev</h3><p>该函数获取一个设备所在的Group，如果设备不属于任何一个Group，则调用IOMMU驱动提供的<code>device_group</code>回调函数尝试进行获取。<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>	<span class=n>group</span> <span class=o>=</span> <span class=nf>iommu_group_get</span><span class=p>(</span><span class=n>dev</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>group</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=n>group</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>ops</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=nf>ERR_PTR</span><span class=p>(</span><span class=o>-</span><span class=n>EINVAL</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>group</span> <span class=o>=</span> <span class=n>ops</span><span class=o>-&gt;</span><span class=nf>device_group</span><span class=p>(</span><span class=n>dev</span><span class=p>);</span>
</span></span></code></pre></table></div></div><p>随后，为获取的Group设置domain，最后将设备加入Group。<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>group</span><span class=o>-&gt;</span><span class=n>default_domain</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>struct</span> <span class=n>iommu_domain</span> <span class=o>*</span><span class=n>dom</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>dom</span> <span class=o>=</span> <span class=nf>__iommu_domain_alloc</span><span class=p>(</span><span class=n>dev</span><span class=o>-&gt;</span><span class=n>bus</span><span class=p>,</span> <span class=n>iommu_def_domain_type</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>dom</span> <span class=o>&amp;&amp;</span> <span class=n>iommu_def_domain_type</span> <span class=o>!=</span> <span class=n>IOMMU_DOMAIN_DMA</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nf>dev_warn</span><span class=p>(</span><span class=n>dev</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				 <span class=s>"failed to allocate default IOMMU domain of type %u; falling back to IOMMU_DOMAIN_DMA"</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				 <span class=n>iommu_def_domain_type</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=n>dom</span> <span class=o>=</span> <span class=nf>__iommu_domain_alloc</span><span class=p>(</span><span class=n>dev</span><span class=o>-&gt;</span><span class=n>bus</span><span class=p>,</span> <span class=n>IOMMU_DOMAIN_DMA</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>group</span><span class=o>-&gt;</span><span class=n>default_domain</span> <span class=o>=</span> <span class=n>dom</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>group</span><span class=o>-&gt;</span><span class=n>domain</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=n>group</span><span class=o>-&gt;</span><span class=n>domain</span> <span class=o>=</span> <span class=n>dom</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span></code></pre></table></div></div><h2 id=bus-integration><a href=#bus-integration class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>Bus integration</h2><p>每一个<code>struct device</code>中保存了一个<code>struct iommu_group</code>的指针，用以获取该设备处于的group。除此之外，内核需要其他方式将iommu功能集成到总线中。很明显，一个iommu设备是作用于一个或者多个总线上的，那么就需要一个自然的方式管理与iommu相关的功能。首先明确<code>struct bus</code>中存在一个iommu_ops用于保存当前bus上生效的iommu驱动注册的iommu_ops。同时可以根据这个指针是否为NULL确认这个bus中是否支持iommu功能。<p>iommu核心框架中提供了<code>bus_set_iommu</code>函数，该函数可以被iommu驱动调用，用以将自身挂入到 对应总线中。函数中除了设置iommu_ops指针之外，还进行了两个工作：<ul><li>向bus中注册一个listener：对于bus上设备的插入与移除的设备，调用iommu_ops中对应的add_device和remove_device回调函数。对于bus接收到的其他设备事件（如bind，unbind等），则将其传播给该设备所处于的group中。<li>对于bus中已经存在的设备，则挨个调用<code>add_device</code>将其纳入iommu的管辖，并设置其group</ul><h3 id=iommu_fwspec><a href=#iommu_fwspec class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>iommu_fwspec</h3><div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>struct</span> <span class=n>iommu_fwspec</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>const</span> <span class=k>struct</span> <span class=n>iommu_ops</span>	<span class=o>*</span><span class=n>ops</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>fwnode_handle</span>	<span class=o>*</span><span class=n>iommu_fwnode</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span>			<span class=o>*</span><span class=n>iommu_priv</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>unsigned</span> <span class=kt>int</span>		<span class=n>num_ids</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>u32</span>			<span class=n>ids</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></table></div></div><h2 id=iommu-domain><a href=#iommu-domain class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>IOMMU Domain</h2><p>每一个domain即代表一个iommu映射地址空间，即一个page table。一个Group逻辑上是需要与domain进行绑定的，即一个Group中的所有设备都位于一个domain中。<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>struct</span> <span class=n>iommu_domain</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kt>unsigned</span> <span class=n>type</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>const</span> <span class=k>struct</span> <span class=n>iommu_ops</span> <span class=o>*</span><span class=n>ops</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>pgsize_bitmap</span><span class=p>;</span>	<span class=cm>/* Bitmap of page sizes in use */</span>
</span></span><span class=line><span class=cl>	<span class=kt>iommu_fault_handler_t</span> <span class=n>handler</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=o>*</span><span class=n>handler_token</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>iommu_domain_geometry</span> <span class=n>geometry</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=o>*</span><span class=n>iova_cookie</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></table></div></div><h1 id=smmu硬件及驱动分析><a href=#smmu%E7%A1%AC%E4%BB%B6%E5%8F%8A%E9%A9%B1%E5%8A%A8%E5%88%86%E6%9E%90 class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>SMMU硬件及驱动分析</h1><p>看代码要点：<ul><li>一定要看文档，SMMU是一个比较简单的设备，他的Spec只有300页<li>fault分为global和context，global基本上就是smmu本身的一些fault，而context是smmu在进行地址转换时出现的fault</ul><p>开始分析代码，我认为需要从中断处理入手，这也是错误信息的入口。先看context fault的处理函数，代码不贴了基本就是打出相关的寄存器信息，没有什么参考意义。我认为有意义的地方是这个中断是怎么注册的，即驱动是如何管理io domain的。这就涉及通用的IOMMU框架代码了。<p>可以发现<code>arm_smmu_attach_dev</code>函数中将一个设备添加到一个特定的iommu domain中。函数中调用<code>arm_smmu_init_domain_context</code>函数注册了这个中断。对于每一个<code>struct device</code>，其内部有一个<code>iommu_group</code>字段保存其所在的Group。<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>static</span> <span class=k>struct</span> <span class=n>iommu_ops</span> <span class=n>arm_smmu_ops</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>capable</span>		<span class=o>=</span> <span class=n>arm_smmu_capable</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>domain_alloc</span>		<span class=o>=</span> <span class=n>arm_smmu_domain_alloc</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>domain_free</span>		<span class=o>=</span> <span class=n>arm_smmu_domain_free</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>attach_dev</span>		<span class=o>=</span> <span class=n>arm_smmu_attach_dev</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>map</span>			<span class=o>=</span> <span class=n>arm_smmu_map</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>unmap</span>			<span class=o>=</span> <span class=n>arm_smmu_unmap</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>flush_iotlb_all</span>	<span class=o>=</span> <span class=n>arm_smmu_iotlb_sync</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>iotlb_sync</span>		<span class=o>=</span> <span class=n>arm_smmu_iotlb_sync</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>iova_to_phys</span>		<span class=o>=</span> <span class=n>arm_smmu_iova_to_phys</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>add_device</span>		<span class=o>=</span> <span class=n>arm_smmu_add_device</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>remove_device</span>		<span class=o>=</span> <span class=n>arm_smmu_remove_device</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>device_group</span>		<span class=o>=</span> <span class=n>arm_smmu_device_group</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>domain_get_attr</span>	<span class=o>=</span> <span class=n>arm_smmu_domain_get_attr</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>domain_set_attr</span>	<span class=o>=</span> <span class=n>arm_smmu_domain_set_attr</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>of_xlate</span>		<span class=o>=</span> <span class=n>arm_smmu_of_xlate</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>get_resv_regions</span>	<span class=o>=</span> <span class=n>arm_smmu_get_resv_regions</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>put_resv_regions</span>	<span class=o>=</span> <span class=n>arm_smmu_put_resv_regions</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=n>pgsize_bitmap</span>		<span class=o>=</span> <span class=o>-</span><span class=mi>1UL</span><span class=p>,</span> <span class=cm>/* Restricted during device attach */</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></table></div></div><p>由于前面已经分析了IOMMU核心框架，熟悉了IOMMU核心框架如何与IOMMU驱动如何互动。这里分析流程即为以一个设备的IOMMU操作周期为基准分析SMMU驱动向IOMMU核心框架注册回调函数。<h2 id=stream-mapping管理><a href=#stream-mapping%E7%AE%A1%E7%90%86 class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>Stream Mapping管理</h2><p>首先提及一些Spec中定义的名词：<ul><li>Steam翻译成中文是流的意思。在SMMU中特指Master设备向SMMU发起的请求流。StreamID即为SMMU用以辨别不同Stream用的编号，注意Stream和设备不是一一对应的关系。<li>Stream Mapping在Spec中特指将StreamID映射到Stream Context（接近domain的概念）这一操作行为。</ul><p>代码中SME应该是<code>Stream Mapping Entry</code>的缩写。Spec中提及到三种Stream Mapping的方式，这里主要提及Stream Indexing<code>和</code>Stream Matching`两种。<h2 id=arm_smmu_add_device><a href=#arm_smmu_add_device class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>arm_smmu_add_device</h2><p>这个函数即为<code>add_device</code>回调函数。回忆前面的分析，IOMMU核心框架向bus中注册listener，每当bus中新增设备时，即会调用该函数。从这里看，该函数的主要功能就是将一个设备纳入到IOMMU驱动的管理中。该函数的核心参数就是被传入的<code>struct device</code>结构体中保存的<code>struct iommu_fwspec</code>。<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * struct iommu_fwspec - per-device IOMMU instance data
</span></span></span><span class=line><span class=cl><span class=cm> * @ops: ops for this device's IOMMU
</span></span></span><span class=line><span class=cl><span class=cm> * @iommu_fwnode: firmware handle for this device's IOMMU
</span></span></span><span class=line><span class=cl><span class=cm> * @iommu_priv: IOMMU driver private data for this device
</span></span></span><span class=line><span class=cl><span class=cm> * @num_ids: number of associated device IDs
</span></span></span><span class=line><span class=cl><span class=cm> * @ids: IDs which this device may present to the IOMMU
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=k>struct</span> <span class=n>iommu_fwspec</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>const</span> <span class=k>struct</span> <span class=n>iommu_ops</span>	<span class=o>*</span><span class=n>ops</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>fwnode_handle</span>	<span class=o>*</span><span class=n>iommu_fwnode</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span>			<span class=o>*</span><span class=n>iommu_priv</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>unsigned</span> <span class=kt>int</span>		<span class=n>num_ids</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>u32</span>			<span class=n>ids</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></table></div></div><p>该参数是从ACPI或者设备树中得到的，用以描述设备绑定的IOMMU及拓扑关系。这里需要注意该关系必须遵循硬件设计，不然很明显是无法正常工作的。函数为设备内分配了一个<code>arm_smmu_master_cfg</code>结构体，如下：<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>struct</span> <span class=n>arm_smmu_master_cfg</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>arm_smmu_device</span>		<span class=o>*</span><span class=n>smmu</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>s16</span>				<span class=n>smendx</span><span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></table></div></div><p>并保存在iommu_fwspec中的<code>iommu_priv</code>指针中。该结构体从名字上就能看出是Master设备的配置，Master这个名词在Spec中是指Bus Master，即可以发起总线请求的设备。函数的核心操作由<code>arm_smmu_master_alloc_smes</code>完成，从名字可以看出是为设备分配Stream Mapping中的表项。对于每一个与设备关联的StreamID，都需要分配一个Stream Mapping中的表项：<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>		<span class=n>ret</span> <span class=o>=</span> <span class=nf>arm_smmu_find_sme</span><span class=p>(</span><span class=n>smmu</span><span class=p>,</span> <span class=n>sid</span><span class=p>,</span> <span class=n>mask</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>ret</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=k>goto</span> <span class=n>out_err</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>idx</span> <span class=o>=</span> <span class=n>ret</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>smrs</span> <span class=o>&amp;&amp;</span> <span class=n>smmu</span><span class=o>-&gt;</span><span class=n>s2crs</span><span class=p>[</span><span class=n>idx</span><span class=p>].</span><span class=n>count</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=n>smrs</span><span class=p>[</span><span class=n>idx</span><span class=p>].</span><span class=n>id</span> <span class=o>=</span> <span class=n>sid</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=n>smrs</span><span class=p>[</span><span class=n>idx</span><span class=p>].</span><span class=n>mask</span> <span class=o>=</span> <span class=n>mask</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=n>smrs</span><span class=p>[</span><span class=n>idx</span><span class=p>].</span><span class=n>valid</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=n>smmu</span><span class=o>-&gt;</span><span class=n>s2crs</span><span class=p>[</span><span class=n>idx</span><span class=p>].</span><span class=n>count</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=n>cfg</span><span class=o>-&gt;</span><span class=n>smendx</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>s16</span><span class=p>)</span><span class=n>idx</span><span class=p>;</span>
</span></span></code></pre></table></div></div><p>这里的操作简明易懂，唯一需要注意的就是表项的分配方式。首先搜索整个表中是否存在完全匹配（即集合意义上的包含）的表项，如果存在则使用该表项，否则使用表中第一个发现的空表项。到这里可以发现<code>arm_smmu_master_cfg</code>中的smendx即为保存该Master设备对应的Stream Mapping表项。表项申请完毕后，其实质上还是没有写入到SMMU的mmio空间去的，写入的话这个表项应该就生效了。但是软件上还是没有准备完毕的，这个设备没有加入任何Group或者domain。这里可以看到：<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>	<span class=n>group</span> <span class=o>=</span> <span class=nf>iommu_group_get_for_dev</span><span class=p>(</span><span class=n>dev</span><span class=p>);</span>
</span></span></code></pre></table></div></div><p>这个函数是IOMMU核心框架提供的函数，函数最终还是会调用到<code>device_group</code>回调函数。这里我们只需要明确这个函数确定设备属于哪一个Group。最后，为了使表项立马生效，将其写入到S2CR寄存器中：<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>	<span class=nf>for_each_cfg_sme</span><span class=p>(</span><span class=n>fwspec</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>idx</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>arm_smmu_write_sme</span><span class=p>(</span><span class=n>smmu</span><span class=p>,</span> <span class=n>idx</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>smmu</span><span class=o>-&gt;</span><span class=n>s2crs</span><span class=p>[</span><span class=n>idx</span><span class=p>].</span><span class=n>group</span> <span class=o>=</span> <span class=n>group</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span></code></pre></table></div></div><h2 id=arm_smmu_device_group><a href=#arm_smmu_device_group class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>arm_smmu_device_group</h2><p>该函数为device_group回调函数，目的是获取一个设备的Group。函数的操作也比较简单：<ul><li>sanity check：检查设备所有SME是否都位于同一个Group<li>如果设备已经有一个Group，那么返回该Group<li>设备没有Group的情况下，则需为设备分配一个Group。对于PCI设备调用<code>pci_device_group</code>，对于其他设备则为<code>generic_device_group</code></ul><h2 id=arm_smmu_domain_alloc><a href=#arm_smmu_domain_alloc class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>arm_smmu_domain_alloc</h2><p>该函数为<code>domain_alloc</code>回调函数，其目的是申请一个domain。SMMU驱动只支持三种domain：<div class=highlight><div class="chroma language-c"><table class=lntable><tbody><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>type</span> <span class=o>!=</span> <span class=n>IOMMU_DOMAIN_UNMANAGED</span> <span class=o>&amp;&amp;</span>
</span></span><span class=line><span class=cl>	    <span class=n>type</span> <span class=o>!=</span> <span class=n>IOMMU_DOMAIN_DMA</span> <span class=o>&amp;&amp;</span>
</span></span><span class=line><span class=cl>	    <span class=n>type</span> <span class=o>!=</span> <span class=n>IOMMU_DOMAIN_IDENTITY</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span></code></pre></table></div></div><p>剩下的就是申请内存，初始化一些数据结构了，貌似有一些看着比较关键的字段是空着的。后面可以看到这个时候申请的domain仅仅是占位用的，没有什么实际意义。在调用attach_dev时，会初始化domain context。驱动通过<code>struct arm_smmu_domain</code>里的smmu字段判断context是否已经初始化。<h2 id=arm_smmu_attach_dev><a href=#arm_smmu_attach_dev class="headerlink anchor"><i class="iconfont icon-link sf-hidden"></i></a>arm_smmu_attach_dev</h2><p>这里的实现细节是，一个设备的绑定的SMMU与其Stream Mappings已经在<code>add_device</code>回调函数中确定好了。attach_dev的实际操作就是根据设备保存的这些信息初始化domain。初始化domain context由<code>arm_smmu_init_domain_context</code>函数完成，该函数满满的硬件细节，后续需要专门讨论。一个domain在SMMU硬件中实际对应的概念就是Context Bank，在使用Stream Matching的情况下，一共存在三层映射：StreamID &amp;&amp; Mask -&gt; S2CR寄存器 -&gt; Context Bank。因此，初始化完domain（即Context Bank）后需要设置当前设备在Stream Mapping中对应的S2CR寄存器，使其指向该domain对应的Context Bank。</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>crab2313</span><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2021-04-08
<a href=https://github.com/crab2313/blog-doc/commit/7ab3b50c4f423d4f8c7571a544df806da6187cfb title="blog: smmu: fix small typos">(7ab3b50)</a></span></p></div><footer class=post-footer><div class=post-tags><a href=https://crab2313.github.io/tags/kernel/>kernel</a>
<a href=https://crab2313.github.io/tags/iommu/>iommu</a>
<a href=https://crab2313.github.io/tags/arm/>arm</a></div><nav class=post-nav><a class=prev href=https://crab2313.github.io/post/ttm/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">TTM内存分配器分析</span>
<span class="prev-text nav-mobile sf-hidden">上一篇</span></a>
<a class=next href=https://crab2313.github.io/post/pci/><span class="next-text nav-default">PCI驱动框架分析</span>
<span class="next-text nav-mobile sf-hidden">下一篇</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:crab2313@gmail.com class="iconfont icon-email" title=email></a>
<a href=https://github.com/crab2313 class="iconfont icon-github" title=github></a>
<a href=https://gitlab.com/crab2313 class="iconfont icon-gitlab" title=gitlab></a>
<a href=https://space.bilibili.com/1310103 class="iconfont icon-bilibili" title=bilibili></a>
<a href=https://crab2313.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io/>Hugo</a> 强力驱动</span>
<span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>©
2017 -
2023<span class=heart><i class="iconfont icon-heart"></i></span><span>crab2313</span></span></div></footer><div class="back-to-top sf-hidden" id=back-to-top></div></div>
<div style=all:initial><div style=all:initial id=__hcfy__><template shadowrootmode=open><style class=sf-hidden>#root{-webkit-text-size-adjust:100%;box-sizing:border-box;font-size:14px;font-weight:400;letter-spacing:0;line-height:1.28581;text-transform:none;color:#182026;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Open Sans","Helvetica Neue","Icons16",sans-serif;touch-action:manipulation}#root>.bp5-portal{z-index:9999999999}</style><style class=sf-hidden>#translate-panel{background-color:#f6f7f9;display:flex;flex-direction:column;padding-bottom:8px}.bp5-dark #translate-panel{background-color:#252a31}#translate-panel .fixed{flex-shrink:0;margin-bottom:10px}#translate-panel .body{flex-grow:1;overflow:auto;overscroll-behavior:contain}#translate-panel .body::-webkit-scrollbar{width:8px;background-color:rgba(0,0,0,0);-webkit-border-radius:100px}#translate-panel .body::-webkit-scrollbar:hover{background-color:rgba(0,0,0,.09)}#translate-panel .body::-webkit-scrollbar-thumb:vertical{background:rgba(0,0,0,.5);-webkit-border-radius:100px}#translate-panel .body::-webkit-scrollbar-thumb:vertical:active{background:rgba(0,0,0,.61);-webkit-border-radius:100px}#translate-panel.size-small,#translate-panel.size-small h6.bp5-heading,#translate-panel.size-small .bp5-control.bp5-large,#translate-panel.size-small textarea.bp5-input.bp5-small{font-size:14px}#translate-panel.size-small .phonetic-item,#translate-panel.size-small .quick-settings a{font-size:12px}#translate-panel.size-middle,#translate-panel.size-middle h6.bp5-heading,#translate-panel.size-middle .bp5-control.bp5-large,#translate-panel.size-middle textarea.bp5-input{font-size:18px}#translate-panel.size-middle .phonetic-item,#translate-panel.size-middle .quick-settings a{font-size:14px}#translate-panel.size-large,#translate-panel.size-large h6.bp5-heading,#translate-panel.size-large .bp5-control.bp5-large,#translate-panel.size-large textarea.bp5-input.bp5-large{font-size:22px}#translate-panel.size-large .source,#translate-panel.size-large .phonetic-item,#translate-panel.size-large .quick-settings a{font-size:18px}#translate-panel .bp5-button.bp5-small,#translate-panel .bp5-small .bp5-button{min-height:20px;min-width:20px}#translate-panel .header{display:flex;align-items:center;padding:4px 6px 4px 10px;border-bottom:1px solid #d1d1d1}.bp5-dark #translate-panel .header{border-bottom-color:rgba(17,20,24,.4)}#translate-panel .header .drag-block{min-width:5px;flex-shrink:0;flex-grow:1;align-self:stretch}#translate-panel .header .left{flex-shrink:0;display:flex}#translate-panel .header .right{flex-shrink:0;display:flex;align-items:center}#translate-panel .header .right .bp5-icon-arrow-right{flex-shrink:0;margin:0 5px}#translate-panel .header .right>.bp5-button{flex-shrink:0;margin:0 1px}#translate-panel .header .right>.bp5-button:last-child{margin-right:0}#translate-panel .quick-settings{padding:4px 9px;margin:0 1px}#translate-panel .quick-settings>div{margin-bottom:5px}#translate-panel .quick-settings .bp5-control{margin-bottom:0}#translate-panel .query-text{position:relative;padding:10px 10px 2px 10px}#translate-panel .query-text textarea.bp5-input{min-height:44px;font-family:system-ui,-apple-system,"Segoe UI","Roboto","Ubuntu","Cantarell","Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";overscroll-behavior:contain}#translate-panel .query-text .translate-btn{position:absolute;opacity:.6}#translate-panel .query-text .translate-btn:hover{opacity:1}#translate-panel .body{padding:0 10px}#translate-panel .body .bp5-card:first-child{margin-top:1px}#translate-panel .body .bp5-card:last-child{margin-bottom:1px}#translate-panel .body .no-api{margin:20px 0}.result-block{margin:8px 0;padding:2px 5px}.result-block .bp5-button{visibility:hidden}.result-block .error .bp5-button,.result-block:hover .bp5-button{visibility:visible}.result-block .legend{display:flex;align-items:center;justify-content:space-between}.result-block .legend .legend-left{display:flex;align-items:center}.result-block .legend .api-ico,.result-block .legend .bp5-heading{flex-shrink:0;white-space:nowrap}.result-block .legend .api-ico{display:inline-block;width:14px;height:14px;background-size:contain;margin-right:3px}.result-block .legend .bp5-heading{margin-bottom:0;margin-right:10px}.result-block .legend .source{cursor:pointer;font-size:12px;display:inline-flex;align-items:center}.result-block .legend .source .source-text{overflow:hidden}.result-block .legend .source .bp5-icon{position:relative;top:-1px;margin-left:1px}.result-block .phonetic{display:flex;flex-wrap:wrap}.result-block .phonetic .phonetic-item{display:flex;align-items:center;font-size:12px}.result-block .phonetic .phonetic-item:not(:last-child){margin-right:12px}.result-block .common-result p{line-height:1.3;margin:2px 0;overflow-wrap:break-word}.result-block .common-result .dict a{text-decoration:underline}.result-block .error{font-size:12px;padding:5px 10px}.result-block .dict-pos{margin-right:5px}.external-translators{margin-bottom:3px;padding:0;display:flex;flex-wrap:wrap}.external-translators>div{margin:0 5px 5px 0}.quick-links a{margin:0 5px 5px 0}#popper-container{width:250px;max-width:100%;position:absolute;left:0;top:0;z-index:9999999998;touch-action:none;transition:opacity .2s;background-color:#f6f7f9}.bp5-dark #popper-container{background-color:#252a31}#popper-container.show{opacity:1;pointer-events:auto;-moz-user-select:auto;user-select:auto}#popper-container,#popper-container[data-popper-reference-hidden=true]{opacity:0;pointer-events:none;-moz-user-select:none;user-select:none}#popper-container .drag-block{cursor:-webkit-grab;cursor:grab}#popper-container.pin{position:fixed}#popper-container.pin .arrow{display:none}#popper-container .arrow,#popper-container .arrow::before{position:absolute;width:8px;height:8px;z-index:-1}#popper-container .arrow::before{content:"";transform:rotate(45deg);background:#f6f7f9}.bp5-dark #popper-container .arrow::before{background-color:#252a31}#popper-container .arrow{display:none}#popper-container.show[data-popper-placement]:not([data-popper-reference-hidden=true]) .arrow{display:block}#popper-container[data-popper-placement^=top] .arrow{bottom:-5px}#popper-container[data-popper-placement^=top] .arrow::before{border-right:1px solid #d1d1d1;border-bottom:1px solid #d1d1d1}#popper-container[data-popper-placement^=bottom] .arrow{top:-5px}#popper-container[data-popper-placement^=bottom] .arrow::before{border-left:1px solid #d1d1d1;border-top:1px solid #d1d1d1}#popper-container[data-popper-placement^=left] .arrow{right:-5px}#popper-container[data-popper-placement^=left] .arrow::before{border-right:1px solid #d1d1d1;border-top:1px solid #d1d1d1}#popper-container[data-popper-placement^=right] .arrow{left:-5px}#popper-container[data-popper-placement^=right] .arrow::before{border-left:1px solid #d1d1d1;border-bottom:1px solid #d1d1d1}#translate-btn{display:none;position:absolute;z-index:9999999999;left:0;top:0}#translate-btn .bp5-button{padding:2px;min-width:0;min-height:0}#translate-btn .btn-icon{width:18px;height:18px;background-image:url(moz-extension://72d6ca68-5609-1440-b1ba-15daf8cbdb2d/logo.png);background-size:contain}.bp5-dark #translate-btn .btn-icon{background-image:url(moz-extension://72d6ca68-5609-1440-b1ba-15daf8cbdb2d/logowhite36.png)}#translate-btn.show{display:block}.translate-type-selector .bp5-label{display:inline}.translate-type-selector .bp5-radio{margin-bottom:0}#ocr-container{position:fixed;z-index:99999999999999;left:0;top:0;right:0;bottom:0}#ocr-container .toolbar{display:none;position:absolute;z-index:1}#ocr-container img{max-width:100%}#app{cursor:default}.switch-pin{flex-shrink:0;cursor:pointer}.switch-pin .bp5-icon-pin{transition:transform .2s,color .2s;transform:rotate(-45deg)}.pin .switch-pin .bp5-icon-pin{transform:rotate(-70deg)}.cut-btn{margin-left:2px}.app-toaster-container{position:fixed!important;z-index:9999999999!important}.app-toaster-container .bp5-toast{min-width:auto}#web-trs-panel .app-toaster-container{padding-right:0;padding-left:0}#web-trs-panel .page-trs-form-group{margin:0 0 0 0;align-items:center}#web-trs-panel .page-trs-form-group>label{width:70px}</style><div id=root dir=ltr class=bp5-dark><div id=app class=bp5-dark><div id=translate-btn class=sf-hidden></div><div id=popper-container style=width:250px;transform:translate(0px) class=bp5-elevation-4><div id=translate-panel class=size-small><div class=fixed><div class=header><div class=left><div class=switch-pin><button type=button class="bp5-button bp5-minimal bp5-small"><span aria-hidden=true class="bp5-icon bp5-icon-pin"><svg data-icon=pin height=14 role=img viewBox="0 0 16 16" width=14><path d="M9.41.92c-.51.51-.41 1.5.15 2.56L4.34 7.54C2.8 6.48 1.45 6.05.92 6.58l3.54 3.54-3.54 4.95 4.95-3.54 3.54 3.54c.53-.53.1-1.88-.96-3.42l4.06-5.22c1.06.56 2.04.66 2.55.15L9.41.92z" fill-rule=evenodd></path></svg></span></button></div><button type=button class="bp5-button bp5-minimal bp5-small cut-btn" title=截图翻译><span aria-hidden=true class="bp5-icon bp5-icon-cut"><svg data-icon=cut height=14 role=img viewBox="0 0 16 16" width=14><path d="M13 2s.71-1.29 0-2L8.66 5.07l1.05 1.32L13 2zm.07 8c-.42 0-.82.09-1.18.26L3.31 0c-.69.71 0 2 0 2l3.68 5.02-2.77 3.24A2.996 2.996 0 000 13c0 1.66 1.34 3 3 3s3-1.34 3-3c0-.46-.11-.89-.29-1.27L8.1 8.54l2.33 3.19c-.18.39-.29.82-.29 1.27 0 1.66 1.31 3 2.93 3S16 14.66 16 13s-1.31-3-2.93-3zM3 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm10.07 0c-.54 0-.98-.45-.98-1s.44-1 .98-1 .98.45.98 1-.44 1-.98 1z" fill-rule=evenodd></path></svg></span></button><button type=button class="bp5-button bp5-minimal bp5-small cut-btn" title=网页全文翻译><span aria-hidden=true class="bp5-icon bp5-icon-translate"><svg data-icon=translate height=14 role=img viewBox="0 0 16 16" width=14><path d="M15.89 14.56l-3.99-8h-.01c-.17-.33-.5-.56-.89-.56s-.72.23-.89.56h-.01L9 8.76 7.17 7.38l.23-.18C8.37 6.47 9 5.31 9 4V3h1c.55 0 1-.45 1-1s-.45-1-1-1H7c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H1c-.55 0-1 .45-1 1s.45 1 1 1h6v1c0 .66-.32 1.25-.82 1.61l-.68.51-.68-.5C4.32 5.25 4 4.66 4 4H2c0 1.31.63 2.47 1.6 3.2l.23.17L1.4 9.2l.01.01C1.17 9.4 1 9.67 1 10c0 .55.45 1 1 1 .23 0 .42-.09.59-.21l.01.01 2.9-2.17 2.6 1.95-1.99 3.98h.01c-.07.13-.12.28-.12.44 0 .55.45 1 1 1 .39 0 .72-.23.89-.56h.01L8.62 14h4.76l.72 1.45h.01c.17.32.5.55.89.55.55 0 1-.45 1-1 0-.16-.05-.31-.11-.44zM9.62 12L11 9.24 12.38 12H9.62z" fill-rule=evenodd></path></svg></span></button><button type=button class="bp5-button bp5-minimal bp5-small cut-btn" title=音视频翻译 style=margin-right:2px><span aria-hidden=true class="bp5-icon bp5-icon-video"><svg data-icon=video height=14 role=img viewBox="0 0 16 16" width=14><path d="M15 2H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h14c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zM5 11V5l6 3-6 3z" fill-rule=evenodd></path></svg></span></button><button type=button title=图片翻译 class="bp5-button bp5-minimal bp5-small"><span aria-hidden=true class="bp5-icon bp5-icon-media"><svg data-icon=media height=14 role=img viewBox="0 0 16 16" width=14><path d="M11.99 6.99c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm3-5h-14c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-10c0-.55-.45-1-1-1zm-1 9l-5-3-1 2-3-4-3 5v-7h12v7z" fill-rule=evenodd></path></svg></span></button><button type=button title=语音翻译 class="bp5-button bp5-minimal bp5-small"><span class=bp5-icon><svg version=1.1 id=Capa_1 width=14 height=14 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px viewBox="0 0 490.9 490.9" xml:space=preserve><g><g><path d="M245.5,322.9c53,0,96.2-43.2,96.2-96.2V96.2c0-53-43.2-96.2-96.2-96.2s-96.2,43.2-96.2,96.2v130.5 C149.3,279.8,192.5,322.9,245.5,322.9z M173.8,96.2c0-39.5,32.2-71.7,71.7-71.7s71.7,32.2,71.7,71.7v130.5 c0,39.5-32.2,71.7-71.7,71.7s-71.7-32.2-71.7-71.7V96.2z"></path><path d="M94.4,214.5c-6.8,0-12.3,5.5-12.3,12.3c0,85.9,66.7,156.6,151.1,162.8v76.7h-63.9c-6.8,0-12.3,5.5-12.3,12.3 s5.5,12.3,12.3,12.3h152.3c6.8,0,12.3-5.5,12.3-12.3s-5.5-12.3-12.3-12.3h-63.9v-76.7c84.4-6.3,151.1-76.9,151.1-162.8 c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3c0,76.6-62.3,138.9-138.9,138.9s-138.9-62.3-138.9-138.9 C106.6,220,101.2,214.5,94.4,214.5z"></path></g></g></svg></span></button></div><div class=drag-block title=按住不放可以拖动></div><div class=right><button type=button disabled title=添加到收藏夹 class="bp5-button bp5-disabled bp5-minimal bp5-small" tabindex=-1><span aria-hidden=true class="bp5-icon bp5-icon-star-empty"><svg data-icon=star-empty height=14 role=img viewBox="0 0 16 16" width=14><path d="M16 6.11l-5.53-.84L8 0 5.53 5.27 0 6.11l4 4.1L3.06 16 8 13.27 12.94 16 12 10.21l4-4.1zM4.91 13.2l.59-3.62L3 7.02l3.45-.53L8 3.2l1.55 3.29 3.45.53-2.5 2.56.59 3.62L8 11.49 4.91 13.2z" fill-rule=evenodd></path></svg></span></button><button type=button class="bp5-button bp5-minimal bp5-small settings" title=快捷设置><span aria-hidden=true class="bp5-icon bp5-icon-cog"><svg data-icon=cog height=14 role=img viewBox="0 0 16 16" width=14><path d="M15.19 6.39h-1.85c-.11-.37-.27-.71-.45-1.04l1.36-1.36c.31-.31.31-.82 0-1.13l-1.13-1.13a.803.803 0 00-1.13 0l-1.36 1.36c-.33-.17-.67-.33-1.04-.44V.79c0-.44-.36-.8-.8-.8h-1.6c-.44 0-.8.36-.8.8v1.86c-.39.12-.75.28-1.1.47l-1.3-1.3c-.3-.3-.79-.3-1.09 0L1.82 2.91c-.3.3-.3.79 0 1.09l1.3 1.3c-.2.34-.36.7-.48 1.09H.79c-.44 0-.8.36-.8.8v1.6c0 .44.36.8.8.8h1.85c.11.37.27.71.45 1.04l-1.36 1.36c-.31.31-.31.82 0 1.13l1.13 1.13c.31.31.82.31 1.13 0l1.36-1.36c.33.18.67.33 1.04.44v1.86c0 .44.36.8.8.8h1.6c.44 0 .8-.36.8-.8v-1.86c.39-.12.75-.28 1.1-.47l1.3 1.3c.3.3.79.3 1.09 0l1.09-1.09c.3-.3.3-.79 0-1.09l-1.3-1.3c.19-.35.36-.71.48-1.1h1.85c.44 0 .8-.36.8-.8v-1.6a.816.816 0 00-.81-.79zm-7.2 4.6c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" fill-rule=evenodd></path></svg></span></button><button type=button title=关闭(Esc) class="bp5-button bp5-minimal bp5-small"><span aria-hidden=true class="bp5-icon bp5-icon-cross"><svg data-icon=cross height=18 role=img viewBox="0 0 16 16" width=18><path d="M9.41 8l3.29-3.29c.19-.18.3-.43.3-.71a1.003 1.003 0 00-1.71-.71L8 6.59l-3.29-3.3a1.003 1.003 0 00-1.42 1.42L6.59 8 3.3 11.29c-.19.18-.3.43-.3.71a1.003 1.003 0 001.71.71L8 9.41l3.29 3.29c.18.19.43.3.71.3a1.003 1.003 0 00.71-1.71L9.41 8z" fill-rule=evenodd></path></svg></span></button></div></div><div class=bp5-collapse><div class="bp5-collapse-body sf-hidden" aria-hidden=true></div></div></div><div class=body><p>请输入需要翻译的文本。</p></div></div><div class="arrow sf-hidden"></div></div><div id=web-trs-panel></div></div></div></template></div></div><script data-template-shadow-root>(()=>{document.currentScript.remove();processNode(document);function processNode(node){node.querySelectorAll("template[shadowrootmode]").forEach(element=>{let shadowRoot = element.parentElement.shadowRoot;if (!shadowRoot) {try {shadowRoot=element.parentElement.attachShadow({mode:element.getAttribute("shadowrootmode"),delegatesFocus:element.getAttribute("shadowrootdelegatesfocus")!=null,clonable:element.getAttribute("shadowrootclonable")!=null,serializable:element.getAttribute("shadowrootserializable)!=null});shadowRoot.innerHTML=element.innerHTML;element.remove()} catch (error) {} if (shadowRoot) {processNode(shadowRoot)}}})}})()</script>