<!-- Filename: 书签工具栏/study/处理器/risc-v/ISA/Matrix/tech-attached-matrix-extension@lists.riscv.org _RISC-V AME 扩展的 SiFive 提案 --- tech-attached-matrix-extension@lists.riscv.org _  (2025-02-28 14：05：35).html
 Page saved with X-Webpage-Conserve 
 url: https://lists.riscv.org/g/tech-attached-matrix-extension/topic/sifive_proposal_for_risc_v/110189555
 Summary: The text discusses a feedback exchange between team members regarding the Zvma Attached Matrix Extension (AME) proposal. The team, T1, has reviewed the proposal and finds it clear and elegant, offering significant matrix computation bandwidth while maintaining software-friendliness. They suggest some improvements, including making the data layout microarchitecture (uarch) defined instead of locked at the ISA level, addressing consistency challenges in multi-core scenarios, and specifying that matrix data should be marked as "unspecified" following any matrix configuration change. They also discuss concerns about physical design friendliness, specifically the placement of matrix computation logic alongside RAM/flop states and the potential routing contention between the computation block and on-chip memory. They emphasize the importance of addressing these issues to ensure high-performance computation and alignment across different uarch designs.本文讨论了团队成员之间关于 Zvma 附加矩阵扩展 （AME） 提案的反馈交流。T1 团队审查了该提案，发现它清晰而优雅，在保持软件友好性的同时提供了大量的矩阵计算带宽。他们提出了一些改进建议，包括在 ISA 级别定义而不是锁定数据布局微架构 （uarch），解决多核场景中的一致性挑战，以及指定在任何矩阵配置更改后应将矩阵数据标记为 “unspecified”。他们还讨论了对物理设计友好性的担忧，特别是矩阵计算逻辑与 RAM/flop 状态一起放置，以及计算块和片上存储器之间潜在的布线争用。他们强调了解决这些问题的重要性，以确保不同 uarch 设计之间的高性能计算和对齐。
-->
<html lang="en-US" imt-state="dual" imt-trans-position="after"><head><style class="vjs-styles-defaults">
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    </style>
			<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
			<meta http-equiv="X-UA-Compatible" content="IE=edge">
			
				<meta name="viewport" content="width=device-width, initial-scale=1.0">
			
			<meta name="pinterest" content="nopin">
			<meta name="pinterest" content="nohover">
			
			<meta name="3778517eb4810dfb5d143ed8f1b359b3b5a82923" content="0f56257c3db4a222e91b11bc6871c4df2e263b28">
			<link rel="apple-touch-icon" sizes="57x57" href="/img/org.49/favicons/apple-icon-57x57.png">
			<link rel="apple-touch-icon" sizes="60x60" href="/img/org.49/favicons/apple-icon-60x60.png">
			<link rel="apple-touch-icon" sizes="72x72" href="/img/org.49/favicons/apple-icon-72x72.png">
			<link rel="apple-touch-icon" sizes="76x76" href="/img/org.49/favicons/apple-icon-76x76.png">
			<link rel="apple-touch-icon" sizes="114x114" href="/img/org.49/favicons/apple-icon-114x114.png">
			<link rel="apple-touch-icon" sizes="120x120" href="/img/org.49/favicons/apple-icon-120x120.png">
			<link rel="apple-touch-icon" sizes="144x144" href="/img/org.49/favicons/apple-icon-144x144.png">
			<link rel="apple-touch-icon" sizes="152x152" href="/img/org.49/favicons/apple-icon-152x152.png">
			<link rel="apple-touch-icon" sizes="180x180" href="/img/org.49/favicons/apple-icon-180x180.png">
			<link rel="icon" type="image/png" sizes="192x192" href="/img/org.49/favicons/android-icon-192x192.png">
			<link rel="icon" type="image/png" sizes="32x32" href="/img/org.49/favicons/favicon-32x32.png">
			<link rel="icon" type="image/png" sizes="96x96" href="/img/org.49/favicons/favicon-96x96.png">
			<link rel="icon" type="image/png" sizes="16x16" href="/img/org.49/favicons/favicon-16x16.png">
			<link rel="manifest" href="/img/org.49/favicons/manifest.json">
			<meta name="msapplication-TileColor" content="#ffffff">
			<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
			
			
			

<style data-fullcalendar=""></style><script>
/* stubs */
	const hapticsImpactHeavy = async () => {
	};
	const hapticsImpactMedium = async () => {
	};
	const hapticsImpactLight = async () => {
	};
	const hapticsVibrate = async () => {
	};
	const hapticsSelectionStart = async () => {
	};
	const hapticsSelectionChanged = async () => {
	};
	const hapticsSelectionEnd = async () => {
	};
</script>

			
<script>
	
		function setPullToRefresh() {}
	
	function gotoURL(inurl) {
		window.location.href = inurl;
		return;
	}
	function contentLoaded(isHTMX, f, caller = "") {
		console.log("contentLoaded: " + isHTMX + " " + caller);
		if (isHTMX == true) {
			document.body.addEventListener('htmx:afterSettle', f, {once: true});
		} else {
			if (document.readyState !== 'loading') {
				console.log('document is already ready, just execute code here');
				f();
			} else {
				console.log('document was not ready, place code here');
				document.addEventListener('DOMContentLoaded', f, {once: true});
			}
		}
	}

	function HideAppSidebarOnKeyboard() {
		console.log("In HideAppSidebarOnKeyboard");
		
	}
	// stub
	function logError(data, url, linenumber) {
		console.log(data)
		return;
	}
	var pushSubToken;
	var ignoreErrors = false;
	var lastError = "";
	
		window.onerror = function(errorMessage, errorUrl, errorLine, errorColumn, errorObj) {
			let column;
			let stack;
			if (console && console.log) {
				console.log("msg:", errorMessage);
				console.log("url:", errorUrl);
				console.log("line:", errorLine);
				if (errorColumn !== undefined && errorObj != null) {
					console.log("column:", errorColumn);
					column = errorColumn;
				}
				if (errorObj !== undefined && errorObj != null) {
					console.log("stack:", errorObj.stack);
					stack = errorObj.stack;
				}
				console.log("client_id:", "web.web08.2667457.1740722667673282085");
				console.log("last_error:", lastError);
				console.log("stack:", stack);
			}
			if (errorUrl == "" || errorUrl === null) {
				errorUrl = window.location.href;
			}
			if (errorMessage.includes("SecurityError:") == true) {
				ignoreErrors = true;
			}
			if (ignoreErrors == true) {
				console.log("cookies, disabled, ignoring");
				lastError = errorMessage;
				return;
			}
			jQuery.ajax({
				type: 'POST',
				url: '/jsclienterror',
				data: {
					msg: errorMessage,
					url: errorUrl,
					line: errorLine,
					column: column,
					stack: stack,
					last_error: lastError,
					client_id: "web.web08.2667457.1740722667673282085"
				},
				success: function() {
					if (console && console.log) {
						console.log('JS error report successful.');
					}
					lastError = errorMessage;
				},
				error: function() {
					if (console && console.error) {
						console.error('JS error report submission failed!');
					}
					lastError = errorMessage;
				}
			});
			return true;
		}
	
</script>
			
			
			<script src="/tinymce-5.10.9/tinymce.min.js"></script>
			<script src="/js/browser-image-compression-2.0.2.min.js"></script>
			<link href="/css/application-ddb8b9131d6cc3df6479ea15af05e501.css" rel="stylesheet" id="groupsio-css">
			<script src="/js/application-9b2c27b802a13063cf8a712fe566f004.js" id="groupsio-js"></script>
			<link rel="stylesheet" type="text/css" href="/css/prettify.css">
			<title>tech-attached-matrix-extension@lists.riscv.org |RISC-V AME 扩展的 SiFive 提案 --- tech-attached-matrix-extension@lists.riscv.org | SiFive proposal for RISC-V AME extension</title>
			

			
				


  
			
			
<link rel="canonical" href="https://lists.riscv.org/g/tech-attached-matrix-extension/topic/sifive_proposal_for_risc_v/110189555">
<meta property="og:title" content="SiFive proposal for RISC-V AME extension">
<meta property="og:description" content="">
<meta property="og:image" content="https://lists.riscv.org/g/tech-attached-matrix-extension/coverphoto">

<script>
	htmx.config.scrollBehavior = "instant";
	htmx.config.historyCacheSize = 0;
	htmx.config.defaultSettleDelay = 0;
	console.log("FULL PAGE LOAD");
</script>
		<style>                      .htmx-indicator{opacity:0}                      .htmx-request .htmx-indicator{opacity:1; transition: opacity 200ms ease-in;}                      .htmx-request.htmx-indicator{opacity:1; transition: opacity 200ms ease-in;}                    </style><style data-id="immersive-translate-input-injected-css">.immersive-translate-input {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 2147483647;
  display: flex;
  justify-content: center;
  align-items: center;
}
.immersive-translate-attach-loading::after {
  content: " ";

  --loading-color: #f78fb6;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  display: block;
  margin: 12px auto;
  position: relative;
  color: white;
  left: -100px;
  box-sizing: border-box;
  animation: immersiveTranslateShadowRolling 1.5s linear infinite;

  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-2000%, -50%);
  z-index: 100;
}

.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}

.immersive-translate-input-loading {
  --loading-color: #f78fb6;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  display: block;
  margin: 12px auto;
  position: relative;
  color: white;
  left: -100px;
  box-sizing: border-box;
  animation: immersiveTranslateShadowRolling 1.5s linear infinite;
}

@keyframes immersiveTranslateShadowRolling {
  0% {
    box-shadow: 0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0),
      0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
  }

  12% {
    box-shadow: 100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0),
      0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
  }

  25% {
    box-shadow: 110px 0 var(--loading-color), 100px 0 var(--loading-color),
      0px 0 rgba(255, 255, 255, 0), 0px 0 rgba(255, 255, 255, 0);
  }

  36% {
    box-shadow: 120px 0 var(--loading-color), 110px 0 var(--loading-color),
      100px 0 var(--loading-color), 0px 0 rgba(255, 255, 255, 0);
  }

  50% {
    box-shadow: 130px 0 var(--loading-color), 120px 0 var(--loading-color),
      110px 0 var(--loading-color), 100px 0 var(--loading-color);
  }

  62% {
    box-shadow: 200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color),
      120px 0 var(--loading-color), 110px 0 var(--loading-color);
  }

  75% {
    box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
      130px 0 var(--loading-color), 120px 0 var(--loading-color);
  }

  87% {
    box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
      200px 0 rgba(255, 255, 255, 0), 130px 0 var(--loading-color);
  }

  100% {
    box-shadow: 200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0),
      200px 0 rgba(255, 255, 255, 0), 200px 0 rgba(255, 255, 255, 0);
  }
}

.immersive-translate-toast {
  display: flex;
  position: fixed;
  z-index: 2147483647;
  left: 0;
  right: 0;
  top: 1%;
  width: fit-content;
  padding: 12px 20px;
  margin: auto;
  overflow: auto;
  background: #fef6f9;
  box-shadow: 0px 4px 10px 0px rgba(0, 10, 30, 0.06);
  font-size: 15px;
  border-radius: 8px;
  color: #333;
}

.immersive-translate-toast-content {
  display: flex;
  flex-direction: row;
  align-items: center;
}

.immersive-translate-toast-hidden {
  margin: 0 20px 0 72px;
  text-decoration: underline;
  cursor: pointer;
}

.immersive-translate-toast-close {
  color: #666666;
  font-size: 20px;
  font-weight: bold;
  padding: 0 10px;
  cursor: pointer;
}

@media screen and (max-width: 768px) {
  .immersive-translate-toast {
    top: 0;
    padding: 12px 0px 0 10px;
  }
  .immersive-translate-toast-content {
    flex-direction: column;
    text-align: center;
  }
  .immersive-translate-toast-hidden {
    margin: 10px auto;
  }
}

.immersive-translate-modal {
  display: none;
  position: fixed;
  z-index: 2147483647;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgb(0, 0, 0);
  background-color: rgba(0, 0, 0, 0.4);
  font-size: 15px;
}

.immersive-translate-modal-content {
  background-color: #fefefe;
  margin: 10% auto;
  padding: 40px 24px 24px;
  border: 1px solid #888;
  border-radius: 10px;
  width: 80%;
  max-width: 270px;
  font-family: system-ui, -apple-system, "Segoe UI", "Roboto", "Ubuntu",
    "Cantarell", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";
  position: relative;
}

@media screen and (max-width: 768px) {
  .immersive-translate-modal-content {
    margin: 50% auto !important;
  }
}

.immersive-translate-modal .immersive-translate-modal-content-in-input {
  max-width: 500px;
}
.immersive-translate-modal-content-in-input .immersive-translate-modal-body {
  text-align: left;
  max-height: unset;
}

.immersive-translate-modal-title {
  text-align: center;
  font-size: 16px;
  font-weight: 700;
  color: #333333;
}

.immersive-translate-modal-body {
  text-align: center;
  font-size: 14px;
  font-weight: 400;
  color: #333333;
  word-break: break-all;
  margin-top: 24px;
}

@media screen and (max-width: 768px) {
  .immersive-translate-modal-body {
    max-height: 250px;
    overflow-y: auto;
  }
}

.immersive-translate-close {
  color: #666666;
  position: absolute;
  right: 16px;
  top: 16px;
  font-size: 20px;
  font-weight: bold;
}

.immersive-translate-close:hover,
.immersive-translate-close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}

.immersive-translate-modal-footer {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 24px;
}

.immersive-translate-btn {
  width: fit-content;
  color: #fff;
  background-color: #ea4c89;
  border: none;
  font-size: 16px;
  margin: 0 8px;
  padding: 9px 30px;
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.immersive-translate-btn:hover {
  background-color: #f082ac;
}
.immersive-translate-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}
.immersive-translate-btn:disabled:hover {
  background-color: #ea4c89;
}

.immersive-translate-cancel-btn {
  /* gray color */
  background-color: rgb(89, 107, 120);
}

.immersive-translate-cancel-btn:hover {
  background-color: hsl(205, 20%, 32%);
}

.immersive-translate-action-btn {
  background-color: transparent;
  color: #ea4c89;
  border: 1px solid #ea4c89;
}

.immersive-translate-btn svg {
  margin-right: 5px;
}

.immersive-translate-link {
  cursor: pointer;
  user-select: none;
  -webkit-user-drag: none;
  text-decoration: none;
  color: #007bff;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
}

.immersive-translate-primary-link {
  cursor: pointer;
  user-select: none;
  -webkit-user-drag: none;
  text-decoration: none;
  color: #ea4c89;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
}

.immersive-translate-modal input[type="radio"] {
  margin: 0 6px;
  cursor: pointer;
}

.immersive-translate-modal label {
  cursor: pointer;
}

.immersive-translate-close-action {
  position: absolute;
  top: 2px;
  right: 0px;
  cursor: pointer;
}

.imt-image-status {
  background-color: rgba(0, 0, 0, 0.5) !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 16px !important;
}
.imt-image-status img,
.imt-image-status svg,
.imt-img-loading {
  width: 28px !important;
  height: 28px !important;
  margin: 0 0 8px 0 !important;
  min-height: 28px !important;
  min-width: 28px !important;
  position: relative !important;
}
.imt-img-loading {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAtFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////oK74hAAAAPHRSTlMABBMIDyQXHwyBfFdDMSw+OjXCb+5RG51IvV/k0rOqlGRM6KKMhdvNyZBz9MaupmxpWyj437iYd/yJVNZeuUC7AAACt0lEQVRIx53T2XKiUBCA4QYOiyCbiAsuuGBcYtxiYtT3f6/pbqoYHVFO5r+iivpo6DpAWYpqeoFfr9f90DsYAuRSWkFnPO50OgR9PwiCUFcl2GEcx+N/YBh6pvKaefHlUgZd1zVe0NbYcQjGBfzrPE8Xz8aF+71D8gG6DHFPpc4a7xFiCDuhaWgKgGIJQ3d5IMGDrpS4S5KgpIm+en9f6PlAhKby4JwEIxlYJV9h5k5nee9GoxHJ2IDSNB0dwdad1NAxDJ/uXDHYmebdk4PdbkS58CIVHdYSUHTYYRWOJblWSyu2lmy3KNFVJNBhxcuGW4YBVCbYGRZwIooipHsNqjM4FbgOQqQqSKQQU9V8xmi1QlgHqQQ6DDBvRUVCDirs+EzGDGOQTCATgtYTnbCVLgsVgRE0T1QE0qHCFAht2z6dLvJQs3Lo2FQoDxWNUiBhaP4eRgwNkI+dAjVOA/kUrIDwf3CG8NfNOE0eiFotSuo+rBiq8tD9oY4Qzc6YJw99hl1wzpQvD7ef2M8QgnOGJfJw+EltQc+oX2yn907QB22WZcvlUpd143dqQu+8pCJZuGE4xCuPXJqqcs5sNpsI93Rmzym1k4Npk+oD1SH3/a3LOK/JpUBpWfqNySxWzCfNCUITuDG5dtuphrUJ1myeIE9bIsPiKrfqTai5WZxbhtNphYx6GEIHihyGFTI69lje/rxajdh0s0msZ0zYxyPLhYCb1CyHm9Qsd2H37Y3lugVwL9kNh8Ot8cha6fUNQ8nuXi5z9/ExsAO4zQrb/ev1yrCB7lGyQzgYDGuxq1toDN/JGvN+HyWNHKB7zEoK+PX11e12G431erGYzwmytAWU56fkMHY5JJnDRR2eZji3AwtIcrEV8Cojat/BdQ7XOwGV1e1hDjGGjXbdArm8uJZtCH5MbcctVX8A1WpqumJHwckAAAAASUVORK5CYII=");
  background-size: 28px 28px;
  animation: image-loading-rotate 1s linear infinite !important;
}

.imt-image-status span {
  color: var(--bg-2, #fff) !important;
  font-size: 14px !important;
  line-height: 14px !important;
  font-weight: 500 !important;
  font-family: "PingFang SC", Arial, sans-serif !important;
}

@keyframes image-loading-rotate {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}
</style><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-background-backgroundColor: #DBAFAF;
  --immersive-translate-theme-background-backgroundColor-rgb: 219, 175, 175;
  --immersive-translate-theme-background-backgroundOpacity: 12;
  --immersive-translate-theme-opacity-opacity: 10;
}

[imt-state="dual"] .immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

[imt-state="dual"] .immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
[imt-state="dual"] .immersive-translate-target-wrapper[dir="rtl"] {
  text-align: right;
}

[imt-state="dual"]
  .immersive-translate-pdf-target-container
  .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

[imt-state="dual"]
  .immersive-translate-pdf-target-container
  .immersive-translate-target-wrapper
  font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

[imt-state="translation"] .immersive-translate-target-wrapper > br {
  display: none;
}

[imt-state="translation"]
  .immersive-translate-target-translation-block-wrapper {
  margin: 0 !important;
}

[imt-state="dual"] .immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

[imt-trans-position="before"]
  .immersive-translate-target-translation-block-wrapper {
  display: block;
}

[imt-trans-position="before"]
  .immersive-translate-target-translation-block-wrapper {
  margin-top: 0 !important;
}

[imt-state="dual"] .immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid
    var(--immersive-translate-theme-underline-borderColor) !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(
    --immersive-translate-theme-nativeUnderline-borderColor
  ) !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(
    --immersive-translate-theme-dashedBorder-borderRadius
  ) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

[imt-state="dual"]
  .immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(
    --immersive-translate-theme-dashedBorder-borderRadius
  ) !important;
  padding: 2px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(
    --immersive-translate-theme-solidBorder-borderRadius
  ) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

[imt-state="dual"]
  .immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(
    --immersive-translate-theme-solidBorder-borderRadius
  ) !important;
  padding: 2px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(
    --immersive-translate-theme-nativeDashed-borderColor
  ) !important;
  text-decoration-style: dashed !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed
    var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(
    to right,
    var(--immersive-translate-theme-dotted-borderColor) 30%,
    rgba(255, 255, 255, 0) 0%
  );
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(
    --immersive-translate-theme-nativeDotted-borderColor
  ) !important;
  text-decoration-style: dotted !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(
    --immersive-translate-theme-wavy-borderColor
  ) !important;
  text-decoration-style: wavy !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(
      to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%
    )
    repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed
    var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed
    var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px
      var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(
    to right,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
    rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3)
  );
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

[imt-state="dual"]
  .immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

[imt-state="dual"] .immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"]
  .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"]
  .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

/* opacity theme start */

[imt-state="dual"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(
    calc(var(--immersive-translate-theme-opacity-opacity) * 1%)
  ) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"]
  .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"]
  .immersive-translate-target-inner,
[imt-state="dual"]
  .immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(
    calc(var(--immersive-translate-theme-opacity-opacity) * 1%)
  ) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}

[imt-state="dual"]
  .immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"]
  .immersive-translate-target-inner:hover {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"]
  .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */


/* background theme start */
[imt-state="dual"]
.immersive-translate-target-translation-block-wrapper-theme-background {
  margin: 8px 0;
  background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb), calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%)); 
  border-radius: 4px;
  box-shadow: unset !important;
  padding: 12px;
  display: block;
}
[imt-state="dual"]
.immersive-translate-target-translation-theme-background-inner {
  background: rgba(var(--immersive-translate-theme-background-backgroundColor-rgb), calc(var(--immersive-translate-theme-background-backgroundOpacity) * 1%)); 
  padding-left: 6px;
  padding-right: 6px;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}
[imt-state="dual"] .immersive-translate-target-translation-block-wrapper .immersive-translate-target-translation-theme-background-inner {
  background: unset;
  padding-left: unset;
  padding-right: unset;
}
/* background theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}

.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}

/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}

.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000c;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover + .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}

.immersive-translate-tooltip:hover:before {
  display: block;
}

.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}


.imt-image-status {
  background-color: rgba(0, 0, 0, 0.50);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--bg-2, #FFF);
  font-size: 14px;
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }


.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break:break-word; user-select:text;}
[imt-state="translation"] .immersive-translate-target-wrapper[dir='rtl'] {display:inline-block;}
[dir='rtl'] .immersive-translate-target-wrapper:not([dir]) {text-align:left;}
</style></head>
		<body id="body" class="" hx-headers="{&quot;Accept-Version&quot;: &quot;694020a2cc4ba8cf39d0fec2e511e1157c9b6848&quot;}" hx-ext="preload" hx-boost="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
				<script>
					if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
						document.body.classList.add('dark-mode');
					}
				</script>
			

			
				<div class="navbar navbar-head navbar-fixed-top" role="navigation" id="headerbar" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="container-fluid" style="padding-left:0px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<a href="https://lists.riscv.org" class="navbar-left" hx-boost="false" hx-disinherit="*" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<img src="https://lists.riscv.org/img/org.49/mainlogo.png?cachebust" height="50" alt="Groups.io" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						</a>
							
							<ul class="nav navbar-nav pull-right visible-xs" style="margin-top:5px;margin-bottom:5px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<li>
									<a href="#" data-toggle="modal" data-target="#mobileAccount">
										<i class="fa-fw fa fa-bars fa-lg"></i>
									</a>
								</li>
							</ul>

							<ul class="nav navbar-nav pull-right hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<li class="dropdown" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
										<i class="fa-fw fa-regular fa-globe"></i>
										
											EN
										
										<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在</font></font></font><b class="caret" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></b>
									</a>
									<ul class="dropdown-menu" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
										<li>
											<a href="https://lists.riscv.org/unsetlang">
												EN
											</a>
										</li>
										<li>
											<a href="https://lists.riscv.org/setlang/de">
												DE
											</a>
										</li>
										<li>
											<a href="https://lists.riscv.org/setlang/es">
												ES
											</a>
										</li>
										<li>
											<a href="https://lists.riscv.org/setlang/fr">
												FR
											</a>
										</li>
										<li>
											<a href="https://lists.riscv.org/setlang/it">
												IT
											</a>
										</li>
										<li>
											<a href="https://lists.riscv.org/setlang/pt">
												PT
											</a>
										</li>
										<li>
											<a href="https://lists.riscv.org/setlang/uk">
												UK
											</a>
										</li>
									</ul>
								</li>
								<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									<a href="https://lists.riscv.org/helpcenter" target="_blank" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
										Help
									<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">帮助</font></font></font></a>
								</li>
								<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									<a href="https://lists.riscv.org/login" hx-boost="false" hx-disinherit="*" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
										<i class="fa fa-sign-in-alt"></i>
										Log In
									<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">登录</font></font></font></a>
								</li>
								
							</ul>
					</div>
				</div>
				<div class="modal fade" id="mobileAccount" role="dialog" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="modal-dialog" style="margin-top:50px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<div class="modal-body" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">

									<ul class="list-group noborderlist" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">

										<li class="noborderitem list-group-item" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
											<a href="https://lists.riscv.org/login" hx-boost="false" hx-disinherit="*">
												<i class="fa fa-sign-in-alt"></i>
												Log In
											</a>
										</li>
										
										<li class="noborderitem list-group-item" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
											<a href="https://lists.riscv.org/helpcenter" target="_blank">
												<i class="fa-fw fa fa-question-circle"></i>
												Help
											</a>
										</li>

										<li class="dropdown noborderitem list-group-item" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
											<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												<i class="fa-fw fa-regular fa-globe"></i>
												
													EN
												
												<b class="caret"></b>
											</a>
											<ul class="dropdown-menu" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
												<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
													<a href="https://lists.riscv.org/unsetlang">
														EN
													</a>
												</li>
												<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
													<a href="https://lists.riscv.org/setlang/de">
														DE
													</a>
												</li>
												<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
													<a href="https://lists.riscv.org/setlang/es">
														ES
													</a>
												</li>
												<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
													<a href="https://lists.riscv.org/setlang/fr">
														FR
													</a>
												</li>
												<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
													<a href="https://lists.riscv.org/setlang/it">
														IT
													</a>
												</li>
												<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
													<a href="https://lists.riscv.org/setlang/pt">
														PT
													</a>
												</li>
												<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
													<a href="https://lists.riscv.org/setlang/uk">
														UK
													</a>
												</li>
											</ul>
										</li>

									</ul>
							</div>
						</div>
					</div>
				</div>
			
<script>
var groupnavigatorData = [

];
</script>


<!-- Modal Dialog for Autocomplete -->
<div class="modal fade" id="groupnavigatorModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
  <div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
    <div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
      <div class="modal-body" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
        <input type="text" class="form-control" id="groupnavigatorInput" placeholder="Go to group..." style="margin-bottom:10px" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
        <div id="groupnavigatorContainer" class="autocompleteResults" style="max-height:250px; overflow-y: auto;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div>
		<div class="text-center" style="margin-top:10px; font-size:12px;"><i class="fa-sharp fa-arrow-up-arrow-down"></i> to navigate&nbsp;&nbsp;&nbsp;<i class="fa-sharp fa-arrow-turn-down-left"></i> to use&nbsp;&nbsp;&nbsp;<strong>esc</strong> to dismiss</div>
      </div>
    </div>
  </div>
</div>


<script>
// Keep track of the currently selected index
var selectedIndex = -1;

// Function to highlight the matched substring
function highlightSubstring(str, substring) {
  var index = str.toLowerCase().indexOf(substring.toLowerCase());
  if (index !== -1) {
    var before = str.substring(0, index);
    var middle = str.substring(index, index + substring.length);
    var after = str.substring(index + substring.length);
    return before + '<span class="autocomplete-highlight">' + middle + '</span>' + after;
  }
  return str;
}

// Function to highlight the selected item and ensure it is visible in the scrollable list
function highlightSelectedItem(modalName) {
  var listContainer = document.getElementById(modalName + 'Container');
  var items = document.getElementsByClassName(modalName + '-list-item');
  Array.from(items).forEach(function(item, idx) {
    item.className = idx === selectedIndex ? modalName + '-list-item autocomplete-list-item btn-primary no-hover' : modalName + '-list-item autocomplete-list-item no-hover'; // Apply btn-primary class to the selected item
  });
  if (items.length > 0 && selectedIndex >= 0) {
    var selectedItem = items[selectedIndex];
    var containerTop = listContainer.scrollTop;
    var containerBottom = containerTop + listContainer.clientHeight;
    var itemTop = selectedItem.offsetTop;
    var itemBottom = itemTop + selectedItem.offsetHeight;
	const fudge = 59;
    if (selectedIndex > 0 && itemTop > containerBottom) {
      // If there are items below the selected item and the selected item is not fully visible, scroll down
      listContainer.scrollTop = itemTop - listContainer.clientHeight + items[selectedIndex - 1].offsetHeight;
    } else if (selectedIndex < items.length - 1 && (itemTop - fudge) < containerTop) {
      // If there are items above the selected item and the selected item is not fully visible, scroll up
      listContainer.scrollTop = itemTop - fudge - items[selectedIndex + 1].offsetHeight;
    }
  }
}

// function to populate the list based on the input
function populateList(modalName, data) {
  var input = document.getElementById(modalName+'Input').value;
  var listContainer = document.getElementById(modalName+'Container');
  listContainer.innerHTML = '';
  data.forEach(function(item) {
    if (item.name.toLowerCase().includes(input.toLowerCase())) {
      var div = document.createElement('div');
      div.innerHTML = highlightSubstring(item.name, input);
      div.className = modalName+'-list-item autocomplete-list-item no-hover'; // Apply no-hover class
      div.addEventListener('click', function() {
        // Navigate to the specified URL when a list item is clicked
        window.location.href = item.url;
      });
      div.addEventListener('mousemove', function() {
        // Remove no-hover class from all items when the mouse is moved over any item
		console.log("mouse move");
        var items = document.getElementsByClassName(modalName+'-list-item');
        Array.from(items).forEach(function(item) {
          item.classList.remove('no-hover');
        });
      });
      listContainer.appendChild(div);
    }
  });
  highlightSelectedItem(modalName);
}

function InitAutocomplete(modalName, data) {
	// Focus the input field when the modal is shown and populate the list
	$('#' + modalName + 'Modal').on('shown.bs.modal', function () {
		$('#' + modalName + 'Input').focus().val('');
		populateList(modalName, data);
		selectedIndex = 0;
		highlightSelectedItem(modalName);
	});

	// Event listener for input field typing
	document.getElementById(modalName + 'Input').addEventListener('input', function() {
		populateList(modalName, data);
		selectedIndex = 0;
	});

	// Event listener for arrow keys and enter key
	document.getElementById(modalName + 'Input').addEventListener('keydown', function(event) {
		var items = document.getElementsByClassName(modalName + '-list-item');
		if (event.key === 'ArrowDown') {
			event.preventDefault();
			if (selectedIndex < items.length - 1) selectedIndex++;
			highlightSelectedItem(modalName);
		} else if (event.key === 'ArrowUp') {
			event.preventDefault();
			if (selectedIndex > 0) selectedIndex--;
			highlightSelectedItem(modalName);
		} else if (event.key === 'Enter' && selectedIndex >= 0 && selectedIndex < items.length) {
			event.preventDefault();
			items[selectedIndex].click();
		}
	});
}

function showAutocompleteModal(modalName) {
	$('#' + modalName + 'Modal').modal('show');
	selectedIndex = -1;
}
</script>

			<div id="content" class="container-fluid" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<script>
	InitAutocomplete("groupnavigator", groupnavigatorData);

	document.body.addEventListener("showReloadPageDialog", function(evt) {
		console.log("Forced reload");
		location.reload();
	});

	function ShowBackButton(label) {
		var logoElement = document.getElementById("logo");
		if (logoElement) {
			html = `
				<span style="color:#fff;margin-top:14px;margin-left:12px;float:left !important; height:36px;">
				<a onclick="goBack()" style="color:#fff">
					<i class="fa-fw fa-solid fa-chevron-left fa-lg"></i>
				</a></span>`;
			if (label != "") {
				html += `<div style="position:absolute;left:50%;transform:translateX(-50%);text-align:center;color:#ecf0f1;margin-top:5px;"><h4>` + label + `</h4></div>`;
			}
			logoElement.innerHTML = html;
		}
	}

	function HideBackButton() {
		var logoElement = document.getElementById("logo");
		if (logoElement) {
			logoElement.innerHTML = `
				<a href="https://lists.riscv.org" class="navbar-left">
					<img src="https://lists.riscv.org/img/org.49/mainlogo.png?cachebust" height="50" alt="Groups.io">
				</a>`;
		}
	}

	function goBack() {
		history.back();
	}

	// submitEvent acts like .submit(), except it is compatible with the app, by using events instead.
	function submitEvent(ele) {
		console.log("in submitEvent");
		if (ele.startsWith('#')) {
    		ele = ele.slice(1);
		}
		document.getElementById(ele).submit();
		return;
		/*
		const theEvent = new CustomEvent('submit', {
			bubbles: true,
			cancelable: true
		});
		if (typeof ele === 'string' || ele instanceof String) {
			if (ele.startsWith("#") == true) {
				ele = ele.slice(1);
			}
			if (document.getElementById(ele).dispatchEvent(theEvent) == true) {
				// if not cancelled, do normal submit
				console.log("calling submit");
				document.getElementById(ele).submit();
			}
			return;
		}
		// assume ele is the element
		if (ele.dispatchEvent(theEvent) == true) {
			// if not cancelled, do normal submit
			console.log("calling submit");
			ele.submit();
		}
		*/
	}

	// gioDestroy is a convenience function for destroy callbacks
	function gioDestroy(eventCB) {
		let internalGioDestroy = function(evt) {
			// do not activate on infinite scroll events
			if (evt.detail.target !== undefined && evt.detail.target.id != "maincontent-refresh") {
				console.log("Ignoring infinite scroll event");
				return;
			}
			console.log("Calling destroy callback");
			eventCB(evt);
		}
		document.body.addEventListener("htmx:beforeSwap", internalGioDestroy, {once: true});
		document.body.addEventListener("htmx:historyCacheMiss", internalGioDestroy, {once: true});
	}
			
	var drawerCloseFunc = function(evt) {
		console.log("in drawerCloseFunc");
		// Find all elements with the class 'drawer'
		var drawers = document.querySelectorAll('.drawer');

		// Iterate over each element and call closeDrawer() on each
		drawers.forEach(function(obj) {
			drawerObj.closeDrawer(obj);
		});
		$('.modal').modal('hide');
	}
	document.body.addEventListener('htmx:beforeSwap', drawerCloseFunc);
	document.body.addEventListener('htmx:historyCacheMiss', drawerCloseFunc);

	var keydownFunc = function(event) {
		var tagName = event.target.tagName.toLowerCase();
		if (tagName === 'input' || tagName === 'textarea' || event.target.isContentEditable) {
			if (event.key === 'Escape') {
				event.target.blur();
			}
			return;
		}
		// check if the viewimages viewer is up
		let element = document.getElementById('overlay');
		if (element && element.classList.contains('visible')) {
			return;
		}
		console.log("HERE: " + event.key + " " + event.ctrlKey + " " + event.shiftKey + " " + event.metaKey);
		if (event.ctrlKey && event.shiftKey && (event.key === '?' || event.key === '/')) {
			event.preventDefault(); // Prevent the default action
			// Show the modal dialog for keyboard shortcuts
			$('#shortcutModal').modal('show');
			return;
		}
		$('#shortcutModal').modal('hide');

		if (event.key.toLowerCase() === 'g') {
			// For Windows and Linux
			if (event.ctrlKey) {
				event.preventDefault();
				showAutocompleteModal("groupnavigator");
				return;
			}
		}

		// Check if the pressed key is '/'
		if ((event.key === 'f' || event.key === 'F') && event.shiftKey) {
			if (navigator.platform.toUpperCase().indexOf('MAC') >= 0) {
				if (event.metaKey) {
					event.preventDefault(); // Prevent the default action
					// Focus on the search box
					let box = document.getElementById('searchbox')
					if (box != null) {
						document.getElementById('searchbox').focus();
					}
				}
			} else {
				// For Windows and Linux
				if (event.ctrlKey) {
					event.preventDefault(); // Prevent the default action
					// Focus on the search box
					let box = document.getElementById('searchbox')
					if (box != null) {
						document.getElementById('searchbox').focus();
					}
				}
			}
		}
	}
	document.addEventListener('keydown', keydownFunc);
	var removeDrawerCloseFunc = function(evt) {
		document.body.removeEventListener('htmx:beforeSwap', drawerCloseFunc);
		document.body.removeEventListener('htmx:historyCacheMiss', drawerCloseFunc);
		document.removeEventListener('keydown', keydownFunc);
	}
	document.body.addEventListener("htmx:historyCacheMiss", removeDrawerCloseFunc, {once: true});
</script>
<!-- Modal Dialog for Keyboard Shortcuts -->
<div class="modal fade" id="shortcutModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
  <div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
    <div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
      <div class="modal-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
        <h4 class="modal-title" id="myModalLabel">Keyboard Shortcuts</h4>
      </div>
      <div class="modal-body" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="col-xs-3 text-right"><strong>ctrl</strong> + <strong>shift</strong> + <strong>?</strong>&nbsp;&nbsp;:</div>
			<div class="col-xs-9" style="margin-left: -23px;">Show all keyboard shortcuts</div>
		</div>
		<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="col-xs-3 text-right"><strong>ctrl</strong> + <strong>g</strong>&nbsp;&nbsp;:</div>
			<div class="col-xs-9" style="margin-left: -23px;">Navigate to a group</div>
		</div>
		<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="col-xs-3 text-right"><strong class="ctrlmeta">ctrl</strong> + <strong>shift</strong> + <strong>f</strong>&nbsp;&nbsp;:</div>
			<div class="col-xs-9" style="margin-left: -23px;">Find</div>
		</div>
		<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="col-xs-3 text-right"><strong class="ctrlmeta">ctrl</strong> + <strong>/</strong>&nbsp;&nbsp;:</div>
			<div class="col-xs-9" style="margin-left: -23px;">Quick actions</div>
		</div>
		</div>
		<div class="text-center" style="margin-top:10px; margin-bottom:10px; font-size:12px;"><strong>esc</strong> to dismiss</div>
    </div>
  </div>
</div>

				
	
	<div id="mainrow" class="row" hx-boost="true" hx-target="#maincontent-refresh" hx-push-url="true" hx-history="false" hx-on::after-request="document.getElementById('maincontent').scrollTo({top: 0, behavior: 'instant'})" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div id="groupsidebar" class="scrollbar hidden-print" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="scrollbar-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div id="accordion" role="tablist" aria-multiselectable="true" style="margin-bottom:20px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="list-group noborderlist" style="border:0;margin-bottom:0px" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						


	<a title="Group Home" href="https://lists.riscv.org/g/tech-attached-matrix-extension" class="list-group-item sidebar-item" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
		<i class="fa-fw fa fa-home fa-lg"></i>
		Home
		
	<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">家</font></font></font></a>

	

	

	
		
	
		

	<a title="Messages" href="https://lists.riscv.org/g/tech-attached-matrix-extension/topics?sidebar=true" id="sidebar-archives" class="noborderitem list-group-item sidebar-item sidebar-item-archives active" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1"> 
		<i class="fa-fw fa fa-comments fa-lg"></i>
		Messages
		<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">消息</font></font></font><span id="sidebar-archives-badge" class="badge" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
	</a>

	
	
	
	
	
		

	<a title="Hashtags" href="https://lists.riscv.org/g/tech-attached-matrix-extension/hashtags" id="sidebar-hashtags" class="noborderitem list-group-item sidebar-item sidebar-item-hashtags" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1"> 
		<i class="fa-fw fa fa-hashtag fa-lg"></i>
		Hashtags
		<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主题标签</font></font></font><span id="sidebar-hashtags-badge" class="badge" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
	</a>

	

		
	

	

	

	
			

	<a title="Subgroups" href="https://lists.riscv.org/g/tech-attached-matrix-extension/subgroups" id="sidebar-subgroups" class="noborderitem list-group-item sidebar-item sidebar-item-subgroups" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1"> 
		<i class="fa-fw fa fa-chart-pie fa-lg"></i>
		Subgroups
		<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">亚 群</font></font></font><span id="sidebar-subgroups-badge" class="badge" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
	</a>

	

	

	

	

	

	

	

					</div>
				</div>
				
	<div class="text-center" style="font-size:13px;margin-bottom:30px" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div style="padding-bottom:10px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
			<strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">ctrl</strong> + <strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">shift</strong> + <strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">?</strong> for shortcuts
		<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Ctrl</strong> + <strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Shift</strong> + <strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">？</strong>用于快捷键</font></font></font></div>
		<div style="padding-bottom:5px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
			<a href="https://groups.io/static/about" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				About
			</a> ·
			<a href="https://groups.io/static/features" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				Features
			</a> ·
			<a href="https://groups.io/static/pricing" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				Pricing
			</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"><a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" href="https://groups.io/static/about"> 关于 </a> ·<a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" href="https://groups.io/static/features"> 功能 </a> ·<a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" href="https://groups.io/static/pricing"> 定价 </a></font></font></font>
		</div>
		<div style="padding-bottom:5px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
			<a rel="nofollow" href="https://groups.io/g/updates/messages?expanded=1" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				Updates
			</a> ·
			<a href="https://groups.io/static/tos" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				Terms
			</a> ·
			<a href="https://groups.io/helpcenter" target="_blank" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				Help
			</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"><a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" href="https://groups.io/g/updates/messages?expanded=1" rel="nofollow"> 更新 </a> ·<a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" href="https://groups.io/static/tos"> 术语 </a> ·<a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" href="https://groups.io/helpcenter"> 帮助 </a></font></font></font>
		</div>
		<div style="padding-bottom:5px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
			© 2025 Groups.io
		</div>
	</div>

			</div>
		</div>
		<div id="maincontent" class="groupmaincontent" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div id="maincontent-refresh" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div id="maincontent-column" class="col-xs-12 maincontent-column" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					
	
	
	

	

	
	<div id="alertdiv" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div>
	<div class="noticetemplate template" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="alert alert-success alert-dismissible" role="alert" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<span aria-hidden="true" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					×
				</span>
			</button>
			<span class="flashmsg" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
		</div>
	</div>
	<div class="alerttemplate template" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="alert alert-danger alert-dismissible" role="alert" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<span aria-hidden="true" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					×
				</span>
			</button>
			<span class="flashmsg" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
		</div>
	</div>
	<div class="alertnoclosetemplate template" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="alert alert-danger" role="alert" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<span class="flashmsg" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
		</div>
	</div>



 
<script>
function dismiss() {
    console.log("dismiss");
    $.get( "/dismissalert");
}

var $alerttemplate = $(".alerttemplate");
var $alertnoclosetemplate = $(".alertnoclosetemplate");
var $noticetemplate = $(".noticetemplate");
function createAlert(msg, isError, autoClose, noClose) {
	if (isError == false) {
		$newPanel = $noticetemplate.clone();
	} else {
        if (noClose) {
		  $newPanel = $alertnoclosetemplate.clone();
        } else {
		  $newPanel = $alerttemplate.clone();
        }
	}
	$newPanel.find(".flashmsg").html(msg);
	if (autoClose == true) {
		$("#alertdiv").append($newPanel.fadeTo(2000, 500).slideUp(500, function(){
		    $newPanel.slideUp(500);
		    $newPanel.remove();
		}));  	
	} else {
		$("#alertdiv").append($newPanel.fadeIn());
	}
    return $newPanel;
}




</script>



	

<script>
  // doLike toggles a like for a person.
  function doLike(groupname, numlikes, msgid, like, csrf) {
    $.ajax({
      url: groupname+"/like?msgid="+msgid+"&like="+like+"&csrf="+csrf,
      cache: false,
    });
    if (like == true) {
      numlikes++
    } else {
      numlikes--
    }
    displayLikes(groupname, numlikes, msgid, like, csrf);
    displayLikeStats(groupname, numlikes, msgid, like);
  }

  // displayLikes displays the Like/Unlike link button.
  function displayLikes(groupname, numlikes, msgid, hasliked, csrf) {
    if (hasliked == true) {
      likedata = "<span id='likebutton"+msgid+"'><a href='#' onclick='doLike(\""+groupname+"\","+numlikes+","+msgid+", false, \""+csrf+"\");return false;'><i class=\"fa fa-thumbs-up\"></i> Unlike</a></span>"
    } else {
      likedata = "<span id='likebutton"+msgid+"'><a href='#' onclick='doLike(\""+groupname+"\","+numlikes+","+msgid+", true, \""+csrf+"\");return false;'><i class=\"fa fa-thumbs-up\"></i> Like</a></span>"
    }
    $("#likebutton"+msgid).html(likedata);
  }

  // displayLikeStats displays the line that shows how many people have liked this.
  function displayLikeStats(groupname, numlikes, msgid, hasliked) {
    if (hasliked == false && numlikes == 0) {
      $("#likestats"+msgid).html("<span id='likestats"+msgid+"'class='likestats'></span>");
      return
    }
    likedata = "<span id='likestats" + msgid + "' class='likestats'><i class='fa fa-thumbs-up'></i> "
    if (hasliked == true) {
      likedata += "You"
      if (numlikes > 1) {
        likedata = likedata + " and <a href='#' onclick='showLikes(\"" + groupname + "\"," + msgid + ");return false;'>" + (numlikes-1)
        if (numlikes == 2) {
          likedata = likedata + " Other"
        } else {
          likedata = likedata + " Others"
        }
      }
    } else {
        likedata += "<a href='#' onclick='showLikes(\"" + groupname + "\"," + msgid + ");return false;'>" + numlikes
        if (numlikes == 1) {
          likedata = likedata + " Person"
        } else {
          likedata = likedata + " People"
        }
    }
    likedata = likedata + "</a> liked this</span>"
    $("#likestats"+msgid).html(likedata);
  }

  // showLikes fetches all the likes for a message and pops up the dialog box to show them.
  function showLikes(groupname, msgid) {
    console.log(groupname)
    $.getJSON(groupname+"/getlikes?msgid="+msgid, function( data ) {
        htmldata = '<ul class="list-group">'
        jQuery.each(data, function() {
          htmldata += '<li class="list-group-item" style="display: flex;align-items: center;">' + this.Icon + ' <span style="margin-left: 10px;">' + this.Profile + '</span></li>'
        });
        htmldata += '</ul>'
        $("#showlikesbody").html(htmldata);
        $('#showlikesmodal').modal({show:true})
      }
    );
  }
</script>

	<!-- show likes modal -->
	<div class="modal fade" id="showlikesmodal" tabindex="-1" role="dialog" aria-labelledby="showlikesmodalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="modal-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<button type="button" class="close" data-dismiss="modal" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<span aria-hidden="true" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							×
						</span>
						<span class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
							Close
						<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">关闭</font></font></font></span>
					</button>
					<h4 class="modal-title" id="showlikesmodalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						Likes
					<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">喜欢</font></font></font></h4>
				</div>
				<div class="modal-body" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div id="showlikesbody" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div>
				</div>
				<div class="modal-footer" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<button type="button" class="btn btn-default btn-sm" data-dismiss="modal" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<i class="fa fa-times"></i>
						Close
					<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">关闭</font></font></font></button>
				</div>
			</div>
		</div>
	</div>



	

	<div class="row breadcrumb-row" style="margin-bottom: 10px" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="col-xs-12 col-sm-9" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<span class="hidden-sm hidden-md hidden-lg pull-right" style="padding:8px 15px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><a data-toggle="modal" data-target="#searchModal"><i class="fa fa-search"></i></a></span>
			<div class="breadcrumb-container" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				
					<ol class="breadcrumb scroll-breadcrumb" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><a href="https://lists.riscv.org/g/tech-attached-matrix-extension" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><i class="fa fa-home"></i> Tech-Attached-Matrix-Extension</a></li>
						
						<li class="active" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><a href="https://lists.riscv.org/g/tech-attached-matrix-extension/topics?index=110189555" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><i class="fa fa-inbox"></i> Topics</a></li><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" href="https://lists.riscv.org/g/tech-attached-matrix-extension"><i class="fa fa-home"></i> Tech-Attached-matrix-Extension</a></li><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" class="active"><a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" href="https://lists.riscv.org/g/tech-attached-matrix-extension/topics?index=110189555"><i class="fa fa-inbox"></i> 主题</a></li></font></font></font>
					</ol>
				
			</div>
		</div>
		<div class="col-sm-3 hidden-xs" style="padding-right:0px" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<form class="form-inline pull-right" method="get" action="https://lists.riscv.org/g/tech-attached-matrix-extension/search" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<input type="hidden" name="p" value="Created,,,20,1,0,0" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				
				<div class="input-group" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<input id="searchbox" type="text" class="form-control" placeholder="Search" title="Search" name="q" size="20" value="" style="height:37px" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="input-group-btn" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button class="btn btn-primary" type="submit" style="height:37px;" aria-label="Search" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span class="fa fa-search" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
						</button>
					</div>
				</div>
			</form>
		</div>
	</div>


	<div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="modal-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<button type="button" class="close" data-dismiss="modal" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<span aria-hidden="true" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							×
						</span>
						<span class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
							Close
						<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">关闭</font></font></font></span>
					</button>
					<h4 class="modal-title" id="searchModalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						Search
					<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">搜索</font></font></font></h4>
				</div>
				<form class="form-horizontal" method="get" action="https://lists.riscv.org/g/tech-attached-matrix-extension/search" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					
					<div class="modal-body" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<div class="form-group" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<div class="col-sm-12" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<input type="text" class="form-control" placeholder="Search" title="Search" name="q" value="" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							</div>
						</div>
					</div>
					<div class="modal-footer" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button class="btn btn-primary btn-sm" aria-label="Search" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
							<i class="fa fa-search"></i>
							Search
						<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">搜索</font></font></font></button>
						<button type="button" class="btn btn-default btn-sm" data-dismiss="modal" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
							<i class="fa fa-times"></i>
							Cancel
						<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">取消</font></font></font></button>
					</div>
				</form>
			</div>
		</div>
	</div>


	<div class="pull-right" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<form class="form-inline" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
			<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				
					<a class="button-link" href="https://lists.riscv.org/g/tech-attached-matrix-extension/topic/sifive_proposal_for_risc_v/110189555?dir=asc" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						Date
						<i class="fa fa-xs fa-sort-down"></i>
					</a>
				
				&nbsp;&nbsp;
			</span>
			<span class="hidden-sm hidden-md hidden-lg" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				
					<a class="button-link" href="https://lists.riscv.org/g/tech-attached-matrix-extension/topic/sifive_proposal_for_risc_v/110189555?dir=asc">
						Date
						<i class="fa fa-xs fa-sort-down"></i>
					</a>
				
			</span>
			
	
		<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<span class="form-group" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			1 - 6 of 6
			</span>
			&nbsp;
			<ul class="pagination form-group" style="margin: 0px !important;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				
					<li class="disabled" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<a href="#" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<i class="fa fa-chevron-left">
								<span class="sr-only">
									previous page
								</span>
							</i>
						</a>
					</li>
				
				
					<li class="disabled" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<a href="#" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<i class="fa fa-chevron-right">
								<span class="sr-only">
									next page
								</span>
							</i>
						</a>
					</li>
				
			</ul>
		</span><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">日期 1 - 6 的 6</font></font></font>
	

		</form>
	</div>
	<div class="form-group button-link-group" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		

		
	</div>
	<h4 style="padding-top:10px;padding-bottom:10px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
		
		
		
		SiFive proposal for RISC-V AME extension
		
		
	<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">RISC-V AME 扩展的 SiFive 提案</font></font></font></h4>
	<table id="records" class="table table-condensed table-striped table-fixed" hx-disinherit="*" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<tbody data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><tr data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></tr>
		
			
				
	<tr class="background-color" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<td style="padding-left:0px;padding-right:0px;padding-bottom:0px;border:0px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="table-background-color expanded-message" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
			<hr class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<a name="msg257" id="msg257" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></a>
			
			<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="col-md-12" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="pull-left" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">

						
							<div class="dropdown" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<a class="dropdown-toggle" href="#" role="button" id="dropdownMenu246667573" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
									
										<img src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.1782734?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=LRvxT%2Fw2VeOPwrjauNKygu7ir2s%3D" class="img-rounded" width="40" height="40" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
										
											<u data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Krste Asanovic</u>
										
										<span class="caret" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
									
								</a>
								<ul class="dropdown-menu" aria-labelledby="dropdownMenu246667573" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									
									
										
										<li>
											<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/search?q=posterid:1782734">
												<i class="fa-fw fa fa-comments"></i>
												All Messages By This Member
											</a>
										</li>
									
								</ul>
							</div>
						
					</div>
					<div class="pull-right" style="text-align: right;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<font size="-1" class="text-muted" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							
<span title="Dec 19, 2024 6:56am" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">12/19/24</span>

						</font>
						&nbsp;
						<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/message/257" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								#257&nbsp;&nbsp;
							</span>
							<i class="fa fa-link fa-lg"></i>
						</a>
						
					</div>
				</div>
			</div>
			<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div id="msgbody246667573" class="user-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="forcebreak" dir="auto" style="white-space:pre-wrap;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Please find attached our donation of a proposal for the AME extension.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-pre-whitespace immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请找到我们捐赠的 AME 扩展提案。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">The document focuses only on the detailed specification.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-pre-whitespace immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本文档仅关注详细规范。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">I can present the background rationale for these design decisions to the TG at some later meeting date.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-pre-whitespace immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我可以在以后的某个会议日期向 TG 介绍这些设计决策的背景理由。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Krste</div>
				
				
				
			</div>
			
				<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
				<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					
						
	
		
			
				<a href="https://lists.riscv.org/g/tech-attached-matrix-extension/attachment/257/0/zvma-20241218.pdf" target="_blank" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
		
		<div class="col-xs-2 attachment-box" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
				<i class="fas fa-file-pdf attachment-icon" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></i>
			
			
				<div class="attachment-name" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">zvma-20241218.pdf</div>
			
			<div class="attachment-name-hover" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
				
					zvma-20241218.pdf
				
			</div>
			
		</div>
		
			</a>
		
	

					
				</div>
			
			<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
	

	
			<div class="table-highlight-background-color" style="margin-left:-10px;margin-right:-10px;margin-bottom:-10px;padding-left:10px;padding-right:10px;padding-top:4px;padding-bottom:2px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="row">
				
					<div class="col-xs-8"></div>
				
				
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div id="likestats246667573"><span id="likestats246667573" class="likestats"></span></div>
				</div>
			</div>
			
			
			</div>
			</div>
<script>
contentLoaded(false, function() {
	
	
	
		displayLikeStats("/g/tech-attached-matrix-extension", 0, 246667573, false)
	
});
		function replyToChange246667573(element) {
			var value = element.value;
			if (value == "1") {
				subj = $('#subject246667573').val();
				$('#subject246667573').val('Private: ' + subj);
				$('#bccme246667573').show();
			} else if (value == "2") {
				subj = $('#subject246667573').val();
				$('#subject246667573').val(subj.replace('Private: ', ''));
				$('#bccme246667573').show();
			} else {
				subj = $('#subject246667573').val();
				$('#subject246667573').val(subj.replace('Private: ', ''));
				$('#bccme246667573').hide();
			}
			if (tinyMCE.get('editor246667573') != null) {
				tinyMCE.get('editor246667573').focus();
			}
		}

		function setFocus246667573() {
			tinyMCE.activeEditor.focus();
		}

</script>
		</td>
	</tr>


			
		
			
				
	<tr class="background-color" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<td style="padding-left:0px;padding-right:0px;padding-bottom:0px;border:0px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="table-background-color expanded-message" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
			<hr class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<a name="msg264" id="msg264" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></a>
			
			<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="col-md-12" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="pull-left" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">

						
							<div class="dropdown" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<a class="dropdown-toggle" href="#" role="button" id="dropdownMenu247094494" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
									
										<img src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.5664290?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=BA%2Bu6PC4eA%2FaFVCp3jVAvsW5TOY%3D" class="img-rounded" width="40" height="40" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
										
											<u data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jiuyang Liu</u><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <img data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" height="40" width="40" class="img-rounded" src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.5664290?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=BA%2Bu6PC4eA%2FaFVCp3jVAvsW5TOY%3D"> 刘九阳</font></font></font>
										
										<span class="caret" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
									
								</a>
								<ul class="dropdown-menu" aria-labelledby="dropdownMenu247094494" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									
									
										
										<li>
											<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/search?q=posterid:5664290">
												<i class="fa-fw fa fa-comments"></i>
												All Messages By This Member
											</a>
										</li>
									
								</ul>
							</div>
						
					</div>
					<div class="pull-right" style="text-align: right;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<font size="-1" class="text-muted" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							
<span title="Jan 2, 2025 3:02pm" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jan 2</span>

						</font>
						&nbsp;
						<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/message/264" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								#264&nbsp;&nbsp;
							</span>
							<i class="fa fa-link fa-lg"></i>
						</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1 月 2 日 #264</font></font></font>
						
					</div>
				</div>
			</div>
			<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div id="msgbody247094494" class="user-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="forcebreak" dir="auto" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Dear Krste and SiFive Team,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">尊敬的 Krste 和 SiFive 团队，</font></font></font></strong></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Thank you for sharing the Zvma AME proposal. After thorough review and internal discussions, we find this specification to be a clear and elegant approach to Attached Matrix Extensions (AME). It offers significant matrix computation bandwidth while maintaining a software-friendly design, effectively avoiding redundancy between Vector and Matrix functionalities.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">感谢您分享 Zvma AME 提案。经过深入的审查和内部讨论，我们发现该规范是附加矩阵扩展 （AME） 的一种清晰而优雅的方法。它提供大量的矩阵计算带宽，同时保持软件友好的设计，有效地避免了 Vector 和 Matrix 功能之间的冗余。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Following our evaluation, the T1 team has decided to proceed with this implementation, favoring it over alternative specifications previously discussed on the maillist. Below are some observations and suggestions from our internal review:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">经过我们的评估，T1 团队决定继续进行此实施，它优于之前在邮件列表中讨论的替代规范。以下是我们内部审查中的一些观察和建议：</font></font></font></p><h3 data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">1. Tile Punning and Data Layout Flexibility<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1. 平铺双关和数据布局灵活性</font></font></font></h3><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">The fixed Tile Punning scheme described in the specification appears reasonable from both software and hardware perspectives. However, we suggest exploring the possibility of making the data layout microarchitecture (uarch) defined, rather than locking it at the ISA level:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">规范中描述的固定 Tile Punning 方案从软件和硬件的角度来看似乎都是合理的。但是，我们建议探索定义数据布局微架构 （uarch） 的可能性，而不是将其锁定在 ISA 级别：</font></font></font></p><ul data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Our experience shows that tensorcore layouts evolve over product cycles, typically managed at the PTX layer. Defining the layout within the RISC-V ISA could potentially limit future uarch optimizations and innovation.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们的经验表明，tensorcore 布局会随着产品周期的发展而发展，通常在 PTX 层进行管理。在 RISC-V ISA 中定义布局可能会限制未来的 uarch 优化和创新。</font></font></font></li><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We propose presenting the current punning implementation as a reference, while allowing alternative punning schemes in future extensions. This would provide greater flexibility for future black-box optimizations.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们建议将当前的双关语实现作为参考，同时在未来的扩展中允许使用其他双关模式。这将为未来的黑盒优化提供更大的灵活性。</font></font></font></li></ul><h3 data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">2. Load-Store Unit (LSU) and Consistency Challenges<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">2. 加载存储单元 （LSU） 和一致性挑战</font></font></font></h3><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">After the adoption of Zvma, certain uarch implementations will feature three distinct LSUs—Scalar, Vector, and Matrix. Managing large data transfers from vector or matrix load/stores may introduce potential consistency issues:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">采用 Zvma 后，某些 uarch 实现将具有三种不同的 LSU——标量、向量和矩阵。管理来自向量或矩阵加载/存储的大数据传输可能会带来潜在的一致性问题：</font></font></font></p><ul data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">One simple solution could involve sharing the vector load/store channel with the matrix unit, utilizing the same datapath for vector-to-matrix data movement. However, the bandwidth of this approach may be limited.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一种简单的解决方案可能涉及与矩阵单元共享 vector load/store 通道，利用相同的数据路径进行 vector 到 matrix 的数据移动。但是，此方法的带宽可能会受到限制。</font></font></font></li><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Alternatively, if higher bandwidth is required, allocating a dedicated LSU for the matrix unit may be preferable. This approach, however, raises concerns about coherence and consistency in multi-core scenarios.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">或者，如果需要更高的带宽，则最好为矩阵单元分配专用 LSU。但是，这种方法引发了对多核方案中一致性和一致性的担忧。</font></font></font></li><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We believe the specification should explicitly address these consistency challenges to ensure high-performance computation and alignment across different uarch designs.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们认为该规范应该明确解决这些一致性挑战，以确保不同 uarch 设计之间的高性能计算和对齐。</font></font></font></li></ul><h3 data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">3. Data Behavior after Matrix Configuration<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">3. 矩阵配置后的数据行为</font></font></font></h3><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We recommend specifying that matrix data should be marked as "unspecified" following any matrix configuration change.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们建议指定在任何矩阵配置更改后，矩阵数据应标记为 “unspecified”。</font></font></font></p><ul data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">From our perspective, reinterpretation within the matrix core after configuration changes serves little purpose, as such operations are typically handled on the vector side rather than within the matrix core. Explicitly invalidating the data aligns more closely with practical use cases and reduces unnecessary complexity within the matrix core.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从我们的角度来看，配置更改后在矩阵核心内重新解释没有什么用，因为此类作通常在向量端处理，而不是在矩阵核心内处理。显式使数据无效与实际用例更紧密地保持一致，并减少了矩阵核心中不必要的复杂性。</font></font></font></li></ul><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We appreciate the opportunity to contribute feedback on this extension and look forward to continued collaboration as Zvma progresses toward ratification.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们感谢有机会就此扩展提供反馈，并期待在 Zvma 获得批准的过程中继续合作。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">P.S.</strong> Wishing you and the entire team a Happy New Year! Looking forward to more exciting collaborations in the year ahead.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">附言</strong>祝您和整个团队新年快乐！期待来年有更多精彩的合作。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Best regards,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此致敬意</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Jiuyang Liu<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">刘九阳</font></font></font></strong><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><em data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">T1 Team<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">T1 团队</font></font></font></em></p></div><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div></div>
				
					<a class="label hashtag-label-sage" id="qlabel-247094494" role="button" data-toggle="collapse" href="#quoted-247094494" aria-expanded="false" aria-controls="quoted-247094494" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<span class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							toggle quoted message
						</span>
						Show quoted text
					<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示带引号的文本</font></font></font></a>
					<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
					<div id="quoted-247094494" class="collapse forcebreak" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<div dir="auto"><div class="gmail_quote gmail_quote_container"><div dir="ltr" class="gmail_attr">On Thu, Dec 19, 2024 at 6:56 AM Krste Asanovic via <a href="http://lists.riscv.org" rel="nofollow noopener" target="_blank">lists.riscv.org</a> &lt;krste=<a href="mailto:sifive.com@..." rel="nofollow noopener" target="_blank">sifive.com@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote">Please find attached our donation of a proposal for the AME extension.<br>
<br>
The document focuses only on the detailed specification.<br>
<br>
I can present the background rationale for these design decisions to the TG at some later meeting date.<br>
<br>
Krste<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</blockquote></div></div>
					</div>
<script>
contentLoaded(false, function() {
	$('#quoted-247094494').on('show.bs.collapse', function() {
		$('#qlabel-247094494').text("Hide quoted text");
	})
	$('#quoted-247094494').on('hide.bs.collapse', function() {
		$('#qlabel-247094494').text("Show quoted text");
	})
});
</script>
				
				
				
			</div>
			
			<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
	

	
			<div class="table-highlight-background-color" style="margin-left:-10px;margin-right:-10px;margin-bottom:-10px;padding-left:10px;padding-right:10px;padding-top:4px;padding-bottom:2px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="row">
				
					<div class="col-xs-8"></div>
				
				
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div id="likestats247094494"><span id="likestats247094494" class="likestats"></span></div>
				</div>
			</div>
			
			
			</div>
			</div>
<script>
contentLoaded(false, function() {
	
	
	
		displayLikeStats("/g/tech-attached-matrix-extension", 0, 247094494, false)
	
});
		function replyToChange247094494(element) {
			var value = element.value;
			if (value == "1") {
				subj = $('#subject247094494').val();
				$('#subject247094494').val('Private: ' + subj);
				$('#bccme247094494').show();
			} else if (value == "2") {
				subj = $('#subject247094494').val();
				$('#subject247094494').val(subj.replace('Private: ', ''));
				$('#bccme247094494').show();
			} else {
				subj = $('#subject247094494').val();
				$('#subject247094494').val(subj.replace('Private: ', ''));
				$('#bccme247094494').hide();
			}
			if (tinyMCE.get('editor247094494') != null) {
				tinyMCE.get('editor247094494').focus();
			}
		}

		function setFocus247094494() {
			tinyMCE.activeEditor.focus();
		}

</script>
		</td>
	</tr>


			
		
			
				
	<tr class="background-color" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<td style="padding-left:0px;padding-right:0px;padding-bottom:0px;border:0px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="table-background-color expanded-message" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
			<hr class="sr-only">
			<a name="msg268" id="msg268" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></a>
			
			<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="col-md-12" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="pull-left" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">

						
							<div class="dropdown" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<a class="dropdown-toggle" href="#" role="button" id="dropdownMenu247579275" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
									
										<img src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.5664290?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=BA%2Bu6PC4eA%2FaFVCp3jVAvsW5TOY%3D" class="img-rounded" width="40" height="40" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
										
											<u data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jiuyang Liu</u><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <img data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" height="40" width="40" class="img-rounded" src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.5664290?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=BA%2Bu6PC4eA%2FaFVCp3jVAvsW5TOY%3D"> 刘九阳</font></font></font>
										
										<span class="caret" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
									
								</a>
								<ul class="dropdown-menu" aria-labelledby="dropdownMenu247579275" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									
									
										
										<li>
											<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/search?q=posterid:5664290">
												<i class="fa-fw fa fa-comments"></i>
												All Messages By This Member
											</a>
										</li>
									
								</ul>
							</div>
						
					</div>
					<div class="pull-right" style="text-align: right;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<font size="-1" class="text-muted" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							
<span title="Jan 14, 2025 6:41pm" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jan 14</span>

						</font>
						&nbsp;
						<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/message/268" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								#268&nbsp;&nbsp;
							</span>
							<i class="fa fa-link fa-lg"></i>
						</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1 月 14 #268</font></font></font>
						
					</div>
				</div>
			</div>
			<br>
			<div id="msgbody247579275" class="user-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="forcebreak" dir="auto" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Hi, Krste,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">嗨，Krste，</font></font></font></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">I hope you’re doing well. After some internal discussion, we suspect there might be a bug (or possibly just a typo) in the punning logic, specifically in the code below:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我希望你一切顺利。经过一些内部讨论，我们怀疑双关语逻辑中可能存在错误（或者可能只是拼写错误），特别是下面的代码：</font></font></font></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">```<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">case (tew) {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; 8: {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp;&nbsp;&nbsp; ptile = tile<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; ...<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">&nbsp;&nbsp;16: {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">-&nbsp;&nbsp;&nbsp; ptile = tile + ((row &amp; 2) &gt;&gt; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><a class="gmail_plusreply" id="plusReplyChip-0" target="_blank" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">+</a>&nbsp;&nbsp;&nbsp; ptile = tile * 2 + ((row &amp; 2) &gt;&gt; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; ...<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">&nbsp; 32: {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">-&nbsp;&nbsp;&nbsp; ptile = tile + (row &amp; 2) + ((col &amp; 2) &gt;&gt; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">+&nbsp;&nbsp; ptile = tile * 4 + (row &amp; 2) + ((col &amp; 2) &gt;&gt; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; ...<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; 64: {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">-&nbsp;&nbsp;&nbsp; ptile = tile + (row &amp; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">+&nbsp;&nbsp;&nbsp; ptile = tile * 2 + (row &amp; 1)</div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">```<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We’re still a bit confused about the intended design purpose of these punning offsets. My understanding is that this architecture allows a relatively large TE with on-chip SRAM, thereby reducing bandwidth demands between the core and SoC. It’s also convenient to scale up the TE and datapath without increasing the software burden, which is both clever and hardware/software friendly!<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们仍然对这些双关语偏移量的预期设计目的感到困惑。我的理解是，这种架构允许使用片上 SRAM 实现相对较大的 TE，从而减少内核和 SoC 之间的带宽需求。在不增加软件负担的情况下扩展 TE 和数据路径也很方便，这既聪明又对硬件/软件友好！</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">That said, we do have some concerns regarding how “physical design friendly” this approach might be. Specifically, we’re unsure about the placement of matrix computation logic alongside RAM/flop states, given the presumably large square block of MAC units responsible for different vector operations. The routing contention between the computation block and the on-chip memory could become quite high—especially for outer product calculations.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">也就是说，我们确实对这种方法的“物理设计友好”程度有一些担忧。具体来说，我们不确定矩阵计算逻辑与 RAM/flop 状态的位置，因为大方块的 MAC 单元负责不同的向量运算。计算模块和片上存储器之间的 routing 争用可能会变得相当高，尤其是对于外积计算。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Another aspect to consider is whether making this MAC-based outer product computation optional (as a potential extension while defining an inner product extension with systolic array logic) would be more physically design-friendly for both small datapath with outer product and large datapath with inner product. From our point of view, physically isolating or modularizing these components might simplify layout and routing in the physical design.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另一个需要考虑的方面是，将这种基于 MAC 的外积计算设为可选（作为潜在扩展，同时使用脉动阵列逻辑定义内积扩展）是否对于具有外积的小数据路径和具有内积的大数据路径在物理设计上更友好。从我们的角度来看，物理隔离或模块化这些组件可能会简化物理设计中的布局和布线。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">However, I want to emphasize that the simplicity and focus on addressing the vector unit bottleneck is admirable! The design definitely shows thoughtful integration of hardware and software.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">但是，我想强调的是，它的简单性和对解决 vector unit 瓶颈的关注令人钦佩！该设计无疑显示了硬件和软件的周到集成。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Could you please clarify the intended punning offset logic and whether the changes in the snippet above reflect a corrected bug? Additionally, we’d appreciate any insights you can share on the physical design considerations for the TE and MAC blocks.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您能否澄清一下预期的双关语偏移逻辑，以及上面代码段中的更改是否反映了更正的错误？此外，我们希望您能分享有关 TE 和 MAC 模块的物理设计注意事项的任何见解。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Thank you for your time and assistance. We look forward to your feedback!<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">感谢您的时间和帮助。我们期待您的反馈！</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Best regards,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此致敬意</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Jiuyang<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">九阳</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div></div></div></div></div><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div>
				
					<a class="label hashtag-label-sage" id="qlabel-247579275" role="button" data-toggle="collapse" href="#quoted-247579275" aria-expanded="false" aria-controls="quoted-247579275" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<span class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							toggle quoted message
						</span>
						Show quoted text
					<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示带引号的文本</font></font></font></a>
					<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
					<div id="quoted-247579275" class="collapse forcebreak" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<div dir="auto"><div class="gmail_quote gmail_quote_container"><div dir="ltr" class="gmail_attr">On Thu, Jan 2, 2025 at 3:02 PM Jiuyang Liu via <a href="http://lists.riscv.org" rel="nofollow noopener" target="_blank">lists.riscv.org</a> &lt;liu=<a href="mailto:jiuyang.me@..." rel="nofollow noopener" target="_blank">jiuyang.me@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote"><div dir="ltr"><div dir="ltr"><p><strong>Dear Krste and SiFive Team,</strong></p><p>Thank you for sharing the Zvma AME proposal. After thorough review and internal discussions, we find this specification to be a clear and elegant approach to Attached Matrix Extensions (AME). It offers significant matrix computation bandwidth while maintaining a software-friendly design, effectively avoiding redundancy between Vector and Matrix functionalities.</p><p>Following our evaluation, the T1 team has decided to proceed with this implementation, favoring it over alternative specifications previously discussed on the maillist. Below are some observations and suggestions from our internal review:</p><h3>1. Tile Punning and Data Layout Flexibility</h3><p>The fixed Tile Punning scheme described in the specification appears reasonable from both software and hardware perspectives. However, we suggest exploring the possibility of making the data layout microarchitecture (uarch) defined, rather than locking it at the ISA level:</p><ul><li>Our experience shows that tensorcore layouts evolve over product cycles, typically managed at the PTX layer. Defining the layout within the RISC-V ISA could potentially limit future uarch optimizations and innovation.</li><li>We propose presenting the current punning implementation as a reference, while allowing alternative punning schemes in future extensions. This would provide greater flexibility for future black-box optimizations.</li></ul><h3>2. Load-Store Unit (LSU) and Consistency Challenges</h3><p>After the adoption of Zvma, certain uarch implementations will feature three distinct LSUs—Scalar, Vector, and Matrix. Managing large data transfers from vector or matrix load/stores may introduce potential consistency issues:</p><ul><li>One simple solution could involve sharing the vector load/store channel with the matrix unit, utilizing the same datapath for vector-to-matrix data movement. However, the bandwidth of this approach may be limited.</li><li>Alternatively, if higher bandwidth is required, allocating a dedicated LSU for the matrix unit may be preferable. This approach, however, raises concerns about coherence and consistency in multi-core scenarios.</li><li>We believe the specification should explicitly address these consistency challenges to ensure high-performance computation and alignment across different uarch designs.</li></ul><h3>3. Data Behavior after Matrix Configuration</h3><p>We recommend specifying that matrix data should be marked as "unspecified" following any matrix configuration change.</p><ul><li>From our perspective, reinterpretation within the matrix core after configuration changes serves little purpose, as such operations are typically handled on the vector side rather than within the matrix core. Explicitly invalidating the data aligns more closely with practical use cases and reduces unnecessary complexity within the matrix core.</li></ul><p>We appreciate the opportunity to contribute feedback on this extension and look forward to continued collaboration as Zvma progresses toward ratification.</p><p><strong>P.S.</strong> Wishing you and the entire team a Happy New Year! Looking forward to more exciting collaborations in the year ahead.</p><p>Best regards,<br><strong>Jiuyang Liu</strong><br><em>T1 Team</em></p></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Thu, Dec 19, 2024 at 6:56 AM Krste Asanovic via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener">lists.riscv.org</a> &lt;krste=<a href="mailto:sifive.com@..." target="_blank" rel="nofollow noopener">sifive.com@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote">Please find attached our donation of a proposal for the AME extension.<br>
<br>
The document focuses only on the detailed specification.<br>
<br>
I can present the background rationale for these design decisions to the TG at some later meeting date.<br>
<br>
Krste<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</blockquote></div></div>




<p></p><p></p></blockquote></div></div>
					</div>
<script>
contentLoaded(false, function() {
	$('#quoted-247579275').on('show.bs.collapse', function() {
		$('#qlabel-247579275').text("Hide quoted text");
	})
	$('#quoted-247579275').on('hide.bs.collapse', function() {
		$('#qlabel-247579275').text("Show quoted text");
	})
});
</script>
				
				
				
			</div>
			
			<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
	

	
			<div class="table-highlight-background-color" style="margin-left:-10px;margin-right:-10px;margin-bottom:-10px;padding-left:10px;padding-right:10px;padding-top:4px;padding-bottom:2px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="row">
				
					<div class="col-xs-8"></div>
				
				
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div id="likestats247579275"><span id="likestats247579275" class="likestats"></span></div>
				</div>
			</div>
			
			
			</div>
			</div>
<script>
contentLoaded(false, function() {
	
	
	
		displayLikeStats("/g/tech-attached-matrix-extension", 0, 247579275, false)
	
});
		function replyToChange247579275(element) {
			var value = element.value;
			if (value == "1") {
				subj = $('#subject247579275').val();
				$('#subject247579275').val('Private: ' + subj);
				$('#bccme247579275').show();
			} else if (value == "2") {
				subj = $('#subject247579275').val();
				$('#subject247579275').val(subj.replace('Private: ', ''));
				$('#bccme247579275').show();
			} else {
				subj = $('#subject247579275').val();
				$('#subject247579275').val(subj.replace('Private: ', ''));
				$('#bccme247579275').hide();
			}
			if (tinyMCE.get('editor247579275') != null) {
				tinyMCE.get('editor247579275').focus();
			}
		}

		function setFocus247579275() {
			tinyMCE.activeEditor.focus();
		}

</script>
		</td>
	</tr>


			
		
			
				
	<tr class="background-color" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<td style="padding-left:0px;padding-right:0px;padding-bottom:0px;border:0px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="table-background-color expanded-message" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
			<hr class="sr-only">
			<a name="msg269" id="msg269" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></a>
			
			<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="col-md-12" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="pull-left" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">

						
							<div class="dropdown" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<a class="dropdown-toggle" href="#" role="button" id="dropdownMenu247611749" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									
										<span style="display: flex;align-items: center;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
											<i class="fa fa-user" style="font-size:40px; padding-right:2px; padding-left:2px;"></i>
											
												<u data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Andrew Waterman<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">安德鲁·沃特曼</font></font></font></u>
											
											<span class="caret" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
										</span>
									
								</a>
								<ul class="dropdown-menu" aria-labelledby="dropdownMenu247611749" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									
									
										
										<li>
											<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/search?q=posterid:1677273">
												<i class="fa-fw fa fa-comments"></i>
												All Messages By This Member
											</a>
										</li>
									
								</ul>
							</div>
						
					</div>
					<div class="pull-right" style="text-align: right;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<font size="-1" class="text-muted" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							
<span title="Jan 15, 2025 8:24am" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jan 15</span>

						</font>
						&nbsp;
						<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/message/269" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								#269&nbsp;&nbsp;
							</span>
							<i class="fa fa-link fa-lg"></i>
						</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1月 15 #269</font></font></font>
						
					</div>
				</div>
			</div>
			<br>
			<div id="msgbody247611749" class="user-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="forcebreak" dir="auto" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><br><div class="gmail_quote gmail_quote_container" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" class="gmail_attr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">On Tue, Jan 14, 2025 at 2:41 AM Jiuyang Liu via <a href="http://lists.riscv.org" rel="nofollow noopener" target="_blank" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">lists.riscv.org</a> &lt;liu=<a href="mailto:jiuyang.me@..." rel="nofollow noopener" target="_blank" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">jiuyang.me@...</a>&gt; wrote:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">于 2025 年 1 月 14 日星期二上午 2：41 刘九阳通过 <a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" rel="nofollow noopener" href="http://lists.riscv.org">lists.riscv.org</a> <liu=<a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" rel="nofollow noopener" href="mailto:jiuyang.me@...">jiuyang.me@...&gt; 写道：</liu=<a></font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><blockquote class="gmail_quote" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Hi, Krste,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">嗨，Krste，</font></font></font></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">I hope you’re doing well. After some internal discussion, we suspect there might be a bug (or possibly just a typo) in the punning logic, specifically in the code below:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我希望你一切顺利。经过一些内部讨论，我们怀疑双关语逻辑中可能存在错误（或者可能只是拼写错误），特别是下面的代码：</font></font></font></div></div></blockquote><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">The code is correct as-is.&nbsp; Considering e.g. the TEW=32 case, the spec says that the valid tile identifiers are mt0, mt4, mt8, and mt12.&nbsp; In other words, `tile` has already been scaled by 4.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">代码按原样正确。考虑到例如 TEW=32 的情况，规范说有效的图块标识符是 mt0、mt4、mt8 和 mt12。换句话说，'tile' 已经缩放了 4。</font></font></font></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><blockquote class="gmail_quote" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">```<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">case (tew) {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; 8: {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp;&nbsp;&nbsp; ptile = tile<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; ...<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">&nbsp;&nbsp;16: {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">-&nbsp;&nbsp;&nbsp; ptile = tile + ((row &amp; 2) &gt;&gt; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><a class="gmail_plusreply" id="m_8639602265420935038plusReplyChip-0" target="_blank" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">+</a>&nbsp;&nbsp;&nbsp; ptile = tile * 2 + ((row &amp; 2) &gt;&gt; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; ...<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">&nbsp; 32: {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">-&nbsp;&nbsp;&nbsp; ptile = tile + (row &amp; 2) + ((col &amp; 2) &gt;&gt; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">+&nbsp;&nbsp; ptile = tile * 4 + (row &amp; 2) + ((col &amp; 2) &gt;&gt; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; ...<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">&nbsp; 64: {<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">-&nbsp;&nbsp;&nbsp; ptile = tile + (row &amp; 1)<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">+&nbsp;&nbsp;&nbsp; ptile = tile * 2 + (row &amp; 1)</div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">```<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We’re still a bit confused about the intended design purpose of these punning offsets. My understanding is that this architecture allows a relatively large TE with on-chip SRAM, thereby reducing bandwidth demands between the core and SoC. It’s also convenient to scale up the TE and datapath without increasing the software burden, which is both clever and hardware/software friendly!<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们仍然对这些双关语偏移量的预期设计目的感到困惑。我的理解是，这种架构允许使用片上 SRAM 实现相对较大的 TE，从而减少内核和 SoC 之间的带宽需求。在不增加软件负担的情况下扩展 TE 和数据路径也很方便，这既聪明又对硬件/软件友好！</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">That said, we do have some concerns regarding how “physical design friendly” this approach might be. Specifically, we’re unsure about the placement of matrix computation logic alongside RAM/flop states, given the presumably large square block of MAC units responsible for different vector operations. The routing contention between the computation block and the on-chip memory could become quite high—especially for outer product calculations.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">也就是说，我们确实对这种方法的“物理设计友好”程度有一些担忧。具体来说，我们不确定矩阵计算逻辑与 RAM/flop 状态的位置，因为大方块的 MAC 单元负责不同的向量运算。计算模块和片上存储器之间的 routing 争用可能会变得相当高，尤其是对于外积计算。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Another aspect to consider is whether making this MAC-based outer product computation optional (as a potential extension while defining an inner product extension with systolic array logic) would be more physically design-friendly for both small datapath with outer product and large datapath with inner product. From our point of view, physically isolating or modularizing these components might simplify layout and routing in the physical design.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另一个需要考虑的方面是，将这种基于 MAC 的外积计算设为可选（作为潜在扩展，同时使用脉动阵列逻辑定义内积扩展）是否对于具有外积的小数据路径和具有内积的大数据路径在物理设计上更友好。从我们的角度来看，物理隔离或模块化这些组件可能会简化物理设计中的布局和布线。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">However, I want to emphasize that the simplicity and focus on addressing the vector unit bottleneck is admirable! The design definitely shows thoughtful integration of hardware and software.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">但是，我想强调的是，它的简单性和对解决 vector unit 瓶颈的关注令人钦佩！该设计无疑显示了硬件和软件的周到集成。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Could you please clarify the intended punning offset logic and whether the changes in the snippet above reflect a corrected bug? Additionally, we’d appreciate any insights you can share on the physical design considerations for the TE and MAC blocks.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您能否澄清一下预期的双关语偏移逻辑，以及上面代码段中的更改是否反映了更正的错误？此外，我们希望您能分享有关 TE 和 MAC 模块的物理设计注意事项的任何见解。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Thank you for your time and assistance. We look forward to your feedback!<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">感谢您的时间和帮助。我们期待您的反馈！</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Best regards,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此致敬意</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Jiuyang<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">九阳</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div></div></div></div></div><br><div class="gmail_quote" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" class="gmail_attr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">On Thu, Jan 2, 2025 at 3:02 PM Jiuyang Liu via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">lists.riscv.org</a> &lt;liu=<a href="mailto:jiuyang.me@..." target="_blank" rel="nofollow noopener" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">jiuyang.me@...</a>&gt; wrote:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">2025 年 1 月 2 日星期四下午 3：02 Jiuyang Liu 通过 <a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" rel="nofollow noopener" href="http://lists.riscv.org">lists.riscv.org</a> <liu=<a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" rel="nofollow noopener" href="mailto:jiuyang.me@...">jiuyang.me@...&gt; 写道：</liu=<a></font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><blockquote class="gmail_quote" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Dear Krste and SiFive Team,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">尊敬的 Krste 和 SiFive 团队，</font></font></font></strong></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Thank you for sharing the Zvma AME proposal. After thorough review and internal discussions, we find this specification to be a clear and elegant approach to Attached Matrix Extensions (AME). It offers significant matrix computation bandwidth while maintaining a software-friendly design, effectively avoiding redundancy between Vector and Matrix functionalities.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">感谢您分享 Zvma AME 提案。经过深入的审查和内部讨论，我们发现该规范是附加矩阵扩展 （AME） 的一种清晰而优雅的方法。它提供大量的矩阵计算带宽，同时保持软件友好的设计，有效地避免了 Vector 和 Matrix 功能之间的冗余。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Following our evaluation, the T1 team has decided to proceed with this implementation, favoring it over alternative specifications previously discussed on the maillist. Below are some observations and suggestions from our internal review:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">经过我们的评估，T1 团队决定继续进行此实施，它优于之前在邮件列表中讨论的替代规范。以下是我们内部审查中的一些观察和建议：</font></font></font></p><h3 data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">1. Tile Punning and Data Layout Flexibility<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1. 平铺双关和数据布局灵活性</font></font></font></h3><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">The fixed Tile Punning scheme described in the specification appears reasonable from both software and hardware perspectives. However, we suggest exploring the possibility of making the data layout microarchitecture (uarch) defined, rather than locking it at the ISA level:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">规范中描述的固定 Tile Punning 方案从软件和硬件的角度来看似乎都是合理的。但是，我们建议探索定义数据布局微架构 （uarch） 的可能性，而不是将其锁定在 ISA 级别：</font></font></font></p><ul data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Our experience shows that tensorcore layouts evolve over product cycles, typically managed at the PTX layer. Defining the layout within the RISC-V ISA could potentially limit future uarch optimizations and innovation.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们的经验表明，tensorcore 布局会随着产品周期的发展而发展，通常在 PTX 层进行管理。在 RISC-V ISA 中定义布局可能会限制未来的 uarch 优化和创新。</font></font></font></li><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We propose presenting the current punning implementation as a reference, while allowing alternative punning schemes in future extensions. This would provide greater flexibility for future black-box optimizations.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们建议将当前的双关语实现作为参考，同时在未来的扩展中允许使用其他双关模式。这将为未来的黑盒优化提供更大的灵活性。</font></font></font></li></ul><h3 data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">2. Load-Store Unit (LSU) and Consistency Challenges<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">2. 加载存储单元 （LSU） 和一致性挑战</font></font></font></h3><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">After the adoption of Zvma, certain uarch implementations will feature three distinct LSUs—Scalar, Vector, and Matrix. Managing large data transfers from vector or matrix load/stores may introduce potential consistency issues:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">采用 Zvma 后，某些 uarch 实现将具有三种不同的 LSU——标量、向量和矩阵。管理来自向量或矩阵加载/存储的大数据传输可能会带来潜在的一致性问题：</font></font></font></p><ul data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">One simple solution could involve sharing the vector load/store channel with the matrix unit, utilizing the same datapath for vector-to-matrix data movement. However, the bandwidth of this approach may be limited.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一种简单的解决方案可能涉及与矩阵单元共享 vector load/store 通道，利用相同的数据路径进行 vector 到 matrix 的数据移动。但是，此方法的带宽可能会受到限制。</font></font></font></li><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Alternatively, if higher bandwidth is required, allocating a dedicated LSU for the matrix unit may be preferable. This approach, however, raises concerns about coherence and consistency in multi-core scenarios.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">或者，如果需要更高的带宽，则最好为矩阵单元分配专用 LSU。但是，这种方法引发了对多核方案中一致性和一致性的担忧。</font></font></font></li><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We believe the specification should explicitly address these consistency challenges to ensure high-performance computation and alignment across different uarch designs.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们认为该规范应该明确解决这些一致性挑战，以确保不同 uarch 设计之间的高性能计算和对齐。</font></font></font></li></ul><h3 data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">3. Data Behavior after Matrix Configuration<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">3. 矩阵配置后的数据行为</font></font></font></h3><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We recommend specifying that matrix data should be marked as "unspecified" following any matrix configuration change.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们建议指定在任何矩阵配置更改后，矩阵数据应标记为 “unspecified”。</font></font></font></p><ul data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><li data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">From our perspective, reinterpretation within the matrix core after configuration changes serves little purpose, as such operations are typically handled on the vector side rather than within the matrix core. Explicitly invalidating the data aligns more closely with practical use cases and reduces unnecessary complexity within the matrix core.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从我们的角度来看，配置更改后在矩阵核心内重新解释没有什么用，因为此类作通常在向量端处理，而不是在矩阵核心内处理。显式使数据无效与实际用例更紧密地保持一致，并减少了矩阵核心中不必要的复杂性。</font></font></font></li></ul><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">We appreciate the opportunity to contribute feedback on this extension and look forward to continued collaboration as Zvma progresses toward ratification.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们感谢有机会就此扩展提供反馈，并期待在 Zvma 获得批准的过程中继续合作。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">P.S.</strong> Wishing you and the entire team a Happy New Year! Looking forward to more exciting collaborations in the year ahead.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">附言</strong>祝您和整个团队新年快乐！期待来年有更多精彩的合作。</font></font></font></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Best regards,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此致敬意</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><strong data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Jiuyang Liu<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">刘九阳</font></font></font></strong><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><em data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">T1 Team<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">T1 团队</font></font></font></em></p></div><br><div class="gmail_quote" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" class="gmail_attr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">On Thu, Dec 19, 2024 at 6:56 AM Krste Asanovic via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">lists.riscv.org</a> &lt;krste=<a href="mailto:sifive.com@..." target="_blank" rel="nofollow noopener" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">sifive.com@...</a>&gt; wrote:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">2024 年 12 月 19 日星期四上午 6：56 Krste Asanovic 通过 <a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" rel="nofollow noopener" href="http://lists.riscv.org">lists.riscv.org</a> <krste=<a data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" rel="nofollow noopener" href="mailto:sifive.com@...">sifive.com@...&gt; 写道：</krste=<a></font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><blockquote class="gmail_quote" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Please find attached our donation of a proposal for the AME extension.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请找到我们捐赠的 AME 扩展提案。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
The document focuses only on the detailed specification.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本文档仅关注详细规范。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
I can present the background rationale for these design decisions to the TG at some later meeting date.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我可以在以后的某个会议日期向 TG 介绍这些设计决策的背景理由。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
Krste<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
</blockquote></div></div>




<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p></blockquote></div>




<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p><p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p></blockquote></div></div></div>
				
				
				
			</div>
			
			<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
	

	
			<div class="table-highlight-background-color" style="margin-left:-10px;margin-right:-10px;margin-bottom:-10px;padding-left:10px;padding-right:10px;padding-top:4px;padding-bottom:2px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="row">
				
					<div class="col-xs-8"></div>
				
				
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div id="likestats247611749"><span id="likestats247611749" class="likestats"></span></div>
				</div>
			</div>
			
			
			</div>
			</div>
<script>
contentLoaded(false, function() {
	
	
	
		displayLikeStats("/g/tech-attached-matrix-extension", 0, 247611749, false)
	
});
		function replyToChange247611749(element) {
			var value = element.value;
			if (value == "1") {
				subj = $('#subject247611749').val();
				$('#subject247611749').val('Private: ' + subj);
				$('#bccme247611749').show();
			} else if (value == "2") {
				subj = $('#subject247611749').val();
				$('#subject247611749').val(subj.replace('Private: ', ''));
				$('#bccme247611749').show();
			} else {
				subj = $('#subject247611749').val();
				$('#subject247611749').val(subj.replace('Private: ', ''));
				$('#bccme247611749').hide();
			}
			if (tinyMCE.get('editor247611749') != null) {
				tinyMCE.get('editor247611749').focus();
			}
		}

		function setFocus247611749() {
			tinyMCE.activeEditor.focus();
		}

</script>
		</td>
	</tr>


			
		
			
				
	<tr class="background-color" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<td style="padding-left:0px;padding-right:0px;padding-bottom:0px;border:0px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="table-background-color expanded-message" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
			<hr class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<a name="msg270" id="msg270" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></a>
			
			<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="col-md-12" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="pull-left" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">

						
							<div class="dropdown" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<a class="dropdown-toggle" href="#" role="button" id="dropdownMenu247614502" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
									
										<img src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.5664290?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=BA%2Bu6PC4eA%2FaFVCp3jVAvsW5TOY%3D" class="img-rounded" width="40" height="40" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
										
											<u data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jiuyang Liu</u><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <img data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" height="40" width="40" class="img-rounded" src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.5664290?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=BA%2Bu6PC4eA%2FaFVCp3jVAvsW5TOY%3D"> 刘九阳</font></font></font>
										
										<span class="caret" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
									
								</a>
								<ul class="dropdown-menu" aria-labelledby="dropdownMenu247614502" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									
									
										
										<li>
											<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/search?q=posterid:5664290">
												<i class="fa-fw fa fa-comments"></i>
												All Messages By This Member
											</a>
										</li>
									
								</ul>
							</div>
						
					</div>
					<div class="pull-right" style="text-align: right;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<font size="-1" class="text-muted" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							
<span title="Jan 15, 2025 9:42am" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jan 15</span>

						</font>
						&nbsp;
						<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/message/270" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								#270&nbsp;&nbsp;
							</span>
							<i class="fa fa-link fa-lg"></i>
						</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1月 15 #270</font></font></font>
						
					</div>
				</div>
			</div>
			<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div id="msgbody247614502" class="user-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="forcebreak" dir="auto" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">Thanks for your explanation. Understood now. Sorry for my misunderstanding. We all continue think about and prototype the uarch based on it.&nbsp;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">谢谢你的解释。现在明白了。很抱歉我的误会。我们都在继续思考并基于它制作 uarch 原型。</font></font></font></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div></div>
				
					<a class="label hashtag-label-sage" id="qlabel-247614502" role="button" data-toggle="collapse" href="#quoted-247614502" aria-expanded="false" aria-controls="quoted-247614502" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<span class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							toggle quoted message
						</span>
						Show quoted text
					<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示带引号的文本</font></font></font></a>
					<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
					<div id="quoted-247614502" class="collapse forcebreak" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<div dir="auto"><div class="gmail_quote gmail_quote_container"><div dir="ltr" class="gmail_attr">On Wed, Jan 15, 2025 at 08:24 Andrew Waterman &lt;<a href="mailto:andrew@..." rel="nofollow noopener" target="_blank">andrew@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote"><div dir="ltr"><div dir="ltr"><br></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Tue, Jan 14, 2025 at 2:41 AM Jiuyang Liu via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener">lists.riscv.org</a> &lt;liu=<a href="mailto:jiuyang.me@..." target="_blank" rel="nofollow noopener">jiuyang.me@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote"><div dir="ltr"><div>Hi, Krste,</div><div><br></div><div>I hope you’re doing well. After some internal discussion, we suspect there might be a bug (or possibly just a typo) in the punning logic, specifically in the code below:</div></div></blockquote><div><br></div><div>The code is correct as-is.&nbsp; Considering e.g. the TEW=32 case, the spec says that the valid tile identifiers are mt0, mt4, mt8, and mt12.&nbsp; In other words, `tile` has already been scaled by 4.</div><div><br></div><blockquote class="gmail_quote"></blockquote></div></div><div dir="ltr"><div class="gmail_quote"><blockquote class="gmail_quote"><div dir="ltr"><div>```<br></div><div>case (tew) {<br>&nbsp; 8: {<br>&nbsp;&nbsp;&nbsp; ptile = tile<br>&nbsp; ...<br></div><div><div>&nbsp;&nbsp;16: {<br>-&nbsp;&nbsp;&nbsp; ptile = tile + ((row &amp; 2) &gt;&gt; 1)<br><a class="gmail_plusreply" id="m_52379153906789836m_8639602265420935038plusReplyChip-0" target="_blank">+</a>&nbsp;&nbsp;&nbsp; ptile = tile * 2 + ((row &amp; 2) &gt;&gt; 1)<br>&nbsp; ...<br></div><div><div>&nbsp; 32: {<br>-&nbsp;&nbsp;&nbsp; ptile = tile + (row &amp; 2) + ((col &amp; 2) &gt;&gt; 1)<br>+&nbsp;&nbsp; ptile = tile * 4 + (row &amp; 2) + ((col &amp; 2) &gt;&gt; 1)<br>&nbsp; ...<br></div><div><div>&nbsp; 64: {<br></div><div>-&nbsp;&nbsp;&nbsp; ptile = tile + (row &amp; 1)<br></div><div>+&nbsp;&nbsp;&nbsp; ptile = tile * 2 + (row &amp; 1)</div><div>```<br></div><p>We’re still a bit confused about the intended design purpose of these punning offsets. My understanding is that this architecture allows a relatively large TE with on-chip SRAM, thereby reducing bandwidth demands between the core and SoC. It’s also convenient to scale up the TE and datapath without increasing the software burden, which is both clever and hardware/software friendly!</p><p>That said, we do have some concerns regarding how “physical design friendly” this approach might be. Specifically, we’re unsure about the placement of matrix computation logic alongside RAM/flop states, given the presumably large square block of MAC units responsible for different vector operations. The routing contention between the computation block and the on-chip memory could become quite high—especially for outer product calculations.</p><p>Another aspect to consider is whether making this MAC-based outer product computation optional (as a potential extension while defining an inner product extension with systolic array logic) would be more physically design-friendly for both small datapath with outer product and large datapath with inner product. From our point of view, physically isolating or modularizing these components might simplify layout and routing in the physical design.<br></p><p>However, I want to emphasize that the simplicity and focus on addressing the vector unit bottleneck is admirable! The design definitely shows thoughtful integration of hardware and software.</p><p>Could you please clarify the intended punning offset logic and whether the changes in the snippet above reflect a corrected bug? Additionally, we’d appreciate any insights you can share on the physical design considerations for the TE and MAC blocks.</p><p>Thank you for your time and assistance. We look forward to your feedback!</p><p>Best regards,</p><p>Jiuyang<br></p><div><br></div></div></div></div></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Thu, Jan 2, 2025 at 3:02 PM Jiuyang Liu via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener">lists.riscv.org</a> &lt;liu=<a href="mailto:jiuyang.me@..." target="_blank" rel="nofollow noopener">jiuyang.me@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote"><div dir="ltr"><div dir="ltr"><p><strong>Dear Krste and SiFive Team,</strong></p><p>Thank you for sharing the Zvma AME proposal. After thorough review and internal discussions, we find this specification to be a clear and elegant approach to Attached Matrix Extensions (AME). It offers significant matrix computation bandwidth while maintaining a software-friendly design, effectively avoiding redundancy between Vector and Matrix functionalities.</p><p>Following our evaluation, the T1 team has decided to proceed with this implementation, favoring it over alternative specifications previously discussed on the maillist. Below are some observations and suggestions from our internal review:</p><h3>1. Tile Punning and Data Layout Flexibility</h3><p>The fixed Tile Punning scheme described in the specification appears reasonable from both software and hardware perspectives. However, we suggest exploring the possibility of making the data layout microarchitecture (uarch) defined, rather than locking it at the ISA level:</p><ul><li>Our experience shows that tensorcore layouts evolve over product cycles, typically managed at the PTX layer. Defining the layout within the RISC-V ISA could potentially limit future uarch optimizations and innovation.</li><li>We propose presenting the current punning implementation as a reference, while allowing alternative punning schemes in future extensions. This would provide greater flexibility for future black-box optimizations.</li></ul><h3>2. Load-Store Unit (LSU) and Consistency Challenges</h3><p>After the adoption of Zvma, certain uarch implementations will feature three distinct LSUs—Scalar, Vector, and Matrix. Managing large data transfers from vector or matrix load/stores may introduce potential consistency issues:</p><ul><li>One simple solution could involve sharing the vector load/store channel with the matrix unit, utilizing the same datapath for vector-to-matrix data movement. However, the bandwidth of this approach may be limited.</li><li>Alternatively, if higher bandwidth is required, allocating a dedicated LSU for the matrix unit may be preferable. This approach, however, raises concerns about coherence and consistency in multi-core scenarios.</li><li>We believe the specification should explicitly address these consistency challenges to ensure high-performance computation and alignment across different uarch designs.</li></ul><h3>3. Data Behavior after Matrix Configuration</h3><p>We recommend specifying that matrix data should be marked as "unspecified" following any matrix configuration change.</p><ul><li>From our perspective, reinterpretation within the matrix core after configuration changes serves little purpose, as such operations are typically handled on the vector side rather than within the matrix core. Explicitly invalidating the data aligns more closely with practical use cases and reduces unnecessary complexity within the matrix core.</li></ul><p>We appreciate the opportunity to contribute feedback on this extension and look forward to continued collaboration as Zvma progresses toward ratification.</p><p><strong>P.S.</strong> Wishing you and the entire team a Happy New Year! Looking forward to more exciting collaborations in the year ahead.</p><p>Best regards,<br><strong>Jiuyang Liu</strong><br><em>T1 Team</em></p></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Thu, Dec 19, 2024 at 6:56 AM Krste Asanovic via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener">lists.riscv.org</a> &lt;krste=<a href="mailto:sifive.com@..." target="_blank" rel="nofollow noopener">sifive.com@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote">Please find attached our donation of a proposal for the AME extension.<br>
<br>
The document focuses only on the detailed specification.<br>
<br>
I can present the background rationale for these design decisions to the TG at some later meeting date.<br>
<br>
Krste<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</blockquote></div></div>




<p></p><p></p></blockquote></div>




<p></p><p></p></blockquote></div></div>
</blockquote></div></div>
					</div>
<script>
contentLoaded(false, function() {
	$('#quoted-247614502').on('show.bs.collapse', function() {
		$('#qlabel-247614502').text("Hide quoted text");
	})
	$('#quoted-247614502').on('hide.bs.collapse', function() {
		$('#qlabel-247614502').text("Show quoted text");
	})
});
</script>
				
				
				
			</div>
			
			<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
	

	
			<div class="table-highlight-background-color" style="margin-left:-10px;margin-right:-10px;margin-bottom:-10px;padding-left:10px;padding-right:10px;padding-top:4px;padding-bottom:2px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="row">
				
					<div class="col-xs-8"></div>
				
				
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div id="likestats247614502"><span id="likestats247614502" class="likestats"></span></div>
				</div>
			</div>
			
			
			</div>
			</div>
<script>
contentLoaded(false, function() {
	
	
	
		displayLikeStats("/g/tech-attached-matrix-extension", 0, 247614502, false)
	
});
		function replyToChange247614502(element) {
			var value = element.value;
			if (value == "1") {
				subj = $('#subject247614502').val();
				$('#subject247614502').val('Private: ' + subj);
				$('#bccme247614502').show();
			} else if (value == "2") {
				subj = $('#subject247614502').val();
				$('#subject247614502').val(subj.replace('Private: ', ''));
				$('#bccme247614502').show();
			} else {
				subj = $('#subject247614502').val();
				$('#subject247614502').val(subj.replace('Private: ', ''));
				$('#bccme247614502').hide();
			}
			if (tinyMCE.get('editor247614502') != null) {
				tinyMCE.get('editor247614502').focus();
			}
		}

		function setFocus247614502() {
			tinyMCE.activeEditor.focus();
		}

</script>
		</td>
	</tr>


			
		
			
				
	<tr class="background-color" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<td style="padding-left:0px;padding-right:0px;padding-bottom:0px;border:0px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="table-background-color expanded-message" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
			<hr class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<a name="msg271" id="msg271" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></a>
			
			<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="col-md-12" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="pull-left" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">

						
							<div class="dropdown" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								<a class="dropdown-toggle" href="#" role="button" id="dropdownMenu247623420" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
									
										<img src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.5664290?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=BA%2Bu6PC4eA%2FaFVCp3jVAvsW5TOY%3D" class="img-rounded" width="40" height="40" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
										
											<u data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jiuyang Liu</u><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <img data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" height="40" width="40" class="img-rounded" src="https://s3-us-west-1.amazonaws.com/groupsiotestprofilephotos/profilephoto.5664290?AWSAccessKeyId=AKIAJECNKOVMCCU3ATNQ&amp;Expires=1740722727&amp;Signature=BA%2Bu6PC4eA%2FaFVCp3jVAvsW5TOY%3D"> 刘九阳</font></font></font>
										
										<span class="caret" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></span>
									
								</a>
								<ul class="dropdown-menu" aria-labelledby="dropdownMenu247623420" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
									
									
										
										<li>
											<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/search?q=posterid:5664290">
												<i class="fa-fw fa fa-comments"></i>
												All Messages By This Member
											</a>
										</li>
									
								</ul>
							</div>
						
					</div>
					<div class="pull-right" style="text-align: right;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<font size="-1" class="text-muted" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							
<span title="Jan 15, 2025 6:10pm" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">Jan 15</span>

						</font>
						&nbsp;
						<a rel="nofollow" href="https://lists.riscv.org/g/tech-attached-matrix-extension/message/271" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								#271&nbsp;&nbsp;
							</span>
							<i class="fa fa-link fa-lg"></i>
						</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1月 15 #271</font></font></font>
						
					</div>
				</div>
			</div>
			<br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div id="msgbody247623420" class="user-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="forcebreak" dir="auto" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div dir="ltr" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">&gt; The code is correct as-is.&nbsp; Considering e.g. the TEW=32 case, the spec says that the valid tile identifiers are mt0, mt4, mt8, and mt12.&nbsp; In other words, `tile` has already been scaled by 4.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">&gt; 代码按原样正确。 考虑到例如 TEW=32 的情况，规范说有效的图块标识符是 mt0、mt4、mt8 和 mt12。 换句话说，'tile' 已经缩放了 4。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">I think the Figure-I <font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我认为图 I</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><img src="https://lists.riscv.org/g/tech-attached-matrix-extension/attachment/271/0" alt="image.png" width="475" height="24.066665649414062" loading="lazy" class="myimg-responsive" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div><div data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">should be changed for better understanding by annotating the mtx based on the tew. rather than tile+i.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">应该通过基于 TEW 注释 MTX 来更改以便更好地理解。而不是 tile+i。</font></font></font><br data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div></div></div>
				
					<a class="label hashtag-label-sage" id="qlabel-247623420" role="button" data-toggle="collapse" href="#quoted-247623420" aria-expanded="false" aria-controls="quoted-247623420" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
						<span class="sr-only" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							toggle quoted message
						</span>
						Show quoted text
					<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示带引号的文本</font></font></font></a>
					<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
					<div id="quoted-247623420" class="collapse forcebreak" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
<div dir="auto"><br><div class="gmail_quote gmail_quote_container"><div dir="ltr" class="gmail_attr">On Wed, Jan 15, 2025 at 9:42 AM Jiuyang Liu via <a href="http://lists.riscv.org" rel="nofollow noopener" target="_blank">lists.riscv.org</a> &lt;liu=<a href="mailto:jiuyang.me@..." rel="nofollow noopener" target="_blank">jiuyang.me@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote"><div>Thanks for your explanation. Understood now. Sorry for my misunderstanding. We all continue think about and prototype the uarch based on it.&nbsp;</div><div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Wed, Jan 15, 2025 at 08:24 Andrew Waterman &lt;<a href="mailto:andrew@..." target="_blank" rel="nofollow noopener">andrew@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote"><div dir="ltr"><div dir="ltr"><br></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Tue, Jan 14, 2025 at 2:41 AM Jiuyang Liu via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener">lists.riscv.org</a> &lt;liu=<a href="mailto:jiuyang.me@..." target="_blank" rel="nofollow noopener">jiuyang.me@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote"><div dir="ltr"><div>Hi, Krste,</div><div><br></div><div>I hope you’re doing well. After some internal discussion, we suspect there might be a bug (or possibly just a typo) in the punning logic, specifically in the code below:</div></div></blockquote><div><br></div><div>The code is correct as-is.&nbsp; Considering e.g. the TEW=32 case, the spec says that the valid tile identifiers are mt0, mt4, mt8, and mt12.&nbsp; In other words, `tile` has already been scaled by 4.</div><div><br></div><blockquote class="gmail_quote"></blockquote></div></div><div dir="ltr"><div class="gmail_quote"><blockquote class="gmail_quote"><div dir="ltr"><div>```<br></div><div>case (tew) {<br>&nbsp; 8: {<br>&nbsp;&nbsp;&nbsp; ptile = tile<br>&nbsp; ...<br></div><div><div>&nbsp;&nbsp;16: {<br>-&nbsp;&nbsp;&nbsp; ptile = tile + ((row &amp; 2) &gt;&gt; 1)<br><a class="gmail_plusreply" id="m_6643279756062682080m_52379153906789836m_8639602265420935038plusReplyChip-0" target="_blank">+</a>&nbsp;&nbsp;&nbsp; ptile = tile * 2 + ((row &amp; 2) &gt;&gt; 1)<br>&nbsp; ...<br></div><div><div>&nbsp; 32: {<br>-&nbsp;&nbsp;&nbsp; ptile = tile + (row &amp; 2) + ((col &amp; 2) &gt;&gt; 1)<br>+&nbsp;&nbsp; ptile = tile * 4 + (row &amp; 2) + ((col &amp; 2) &gt;&gt; 1)<br>&nbsp; ...<br></div><div><div>&nbsp; 64: {<br></div><div>-&nbsp;&nbsp;&nbsp; ptile = tile + (row &amp; 1)<br></div><div>+&nbsp;&nbsp;&nbsp; ptile = tile * 2 + (row &amp; 1)</div><div>```<br></div><p>We’re still a bit confused about the intended design purpose of these punning offsets. My understanding is that this architecture allows a relatively large TE with on-chip SRAM, thereby reducing bandwidth demands between the core and SoC. It’s also convenient to scale up the TE and datapath without increasing the software burden, which is both clever and hardware/software friendly!</p><p>That said, we do have some concerns regarding how “physical design friendly” this approach might be. Specifically, we’re unsure about the placement of matrix computation logic alongside RAM/flop states, given the presumably large square block of MAC units responsible for different vector operations. The routing contention between the computation block and the on-chip memory could become quite high—especially for outer product calculations.</p><p>Another aspect to consider is whether making this MAC-based outer product computation optional (as a potential extension while defining an inner product extension with systolic array logic) would be more physically design-friendly for both small datapath with outer product and large datapath with inner product. From our point of view, physically isolating or modularizing these components might simplify layout and routing in the physical design.<br></p><p>However, I want to emphasize that the simplicity and focus on addressing the vector unit bottleneck is admirable! The design definitely shows thoughtful integration of hardware and software.</p><p>Could you please clarify the intended punning offset logic and whether the changes in the snippet above reflect a corrected bug? Additionally, we’d appreciate any insights you can share on the physical design considerations for the TE and MAC blocks.</p><p>Thank you for your time and assistance. We look forward to your feedback!</p><p>Best regards,</p><p>Jiuyang<br></p><div><br></div></div></div></div></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Thu, Jan 2, 2025 at 3:02 PM Jiuyang Liu via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener">lists.riscv.org</a> &lt;liu=<a href="mailto:jiuyang.me@..." target="_blank" rel="nofollow noopener">jiuyang.me@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote"><div dir="ltr"><div dir="ltr"><p><strong>Dear Krste and SiFive Team,</strong></p><p>Thank you for sharing the Zvma AME proposal. After thorough review and internal discussions, we find this specification to be a clear and elegant approach to Attached Matrix Extensions (AME). It offers significant matrix computation bandwidth while maintaining a software-friendly design, effectively avoiding redundancy between Vector and Matrix functionalities.</p><p>Following our evaluation, the T1 team has decided to proceed with this implementation, favoring it over alternative specifications previously discussed on the maillist. Below are some observations and suggestions from our internal review:</p><h3>1. Tile Punning and Data Layout Flexibility</h3><p>The fixed Tile Punning scheme described in the specification appears reasonable from both software and hardware perspectives. However, we suggest exploring the possibility of making the data layout microarchitecture (uarch) defined, rather than locking it at the ISA level:</p><ul><li>Our experience shows that tensorcore layouts evolve over product cycles, typically managed at the PTX layer. Defining the layout within the RISC-V ISA could potentially limit future uarch optimizations and innovation.</li><li>We propose presenting the current punning implementation as a reference, while allowing alternative punning schemes in future extensions. This would provide greater flexibility for future black-box optimizations.</li></ul><h3>2. Load-Store Unit (LSU) and Consistency Challenges</h3><p>After the adoption of Zvma, certain uarch implementations will feature three distinct LSUs—Scalar, Vector, and Matrix. Managing large data transfers from vector or matrix load/stores may introduce potential consistency issues:</p><ul><li>One simple solution could involve sharing the vector load/store channel with the matrix unit, utilizing the same datapath for vector-to-matrix data movement. However, the bandwidth of this approach may be limited.</li><li>Alternatively, if higher bandwidth is required, allocating a dedicated LSU for the matrix unit may be preferable. This approach, however, raises concerns about coherence and consistency in multi-core scenarios.</li><li>We believe the specification should explicitly address these consistency challenges to ensure high-performance computation and alignment across different uarch designs.</li></ul><h3>3. Data Behavior after Matrix Configuration</h3><p>We recommend specifying that matrix data should be marked as "unspecified" following any matrix configuration change.</p><ul><li>From our perspective, reinterpretation within the matrix core after configuration changes serves little purpose, as such operations are typically handled on the vector side rather than within the matrix core. Explicitly invalidating the data aligns more closely with practical use cases and reduces unnecessary complexity within the matrix core.</li></ul><p>We appreciate the opportunity to contribute feedback on this extension and look forward to continued collaboration as Zvma progresses toward ratification.</p><p><strong>P.S.</strong> Wishing you and the entire team a Happy New Year! Looking forward to more exciting collaborations in the year ahead.</p><p>Best regards,<br><strong>Jiuyang Liu</strong><br><em>T1 Team</em></p></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Thu, Dec 19, 2024 at 6:56 AM Krste Asanovic via <a href="http://lists.riscv.org" target="_blank" rel="nofollow noopener">lists.riscv.org</a> &lt;krste=<a href="mailto:sifive.com@..." target="_blank" rel="nofollow noopener">sifive.com@...</a>&gt; wrote:<br></div><blockquote class="gmail_quote">Please find attached our donation of a proposal for the AME extension.<br>
<br>
The document focuses only on the detailed specification.<br>
<br>
I can present the background rationale for these design decisions to the TG at some later meeting date.<br>
<br>
Krste<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</blockquote></div></div>




<p></p><p></p></blockquote></div>




<p></p><p></p></blockquote></div></div>
</blockquote></div></div>




<p></p><p></p></blockquote></div></div>
					</div>
<script>
contentLoaded(false, function() {
	$('#quoted-247623420').on('show.bs.collapse', function() {
		$('#qlabel-247623420').text("Hide quoted text");
	})
	$('#quoted-247623420').on('hide.bs.collapse', function() {
		$('#qlabel-247623420').text("Show quoted text");
	})
});
</script>
				
				
				
			</div>
			
			<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
	

	
			<div class="table-highlight-background-color" style="margin-left:-10px;margin-right:-10px;margin-bottom:-10px;padding-left:10px;padding-right:10px;padding-top:4px;padding-bottom:2px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="row">
				
					<div class="col-xs-8"></div>
				
				
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div id="likestats247623420"><span id="likestats247623420" class="likestats"></span></div>
				</div>
			</div>
			
			
			</div>
			</div>
<script>
contentLoaded(false, function() {
	
	
	
		displayLikeStats("/g/tech-attached-matrix-extension", 0, 247623420, false)
	
});
		function replyToChange247623420(element) {
			var value = element.value;
			if (value == "1") {
				subj = $('#subject247623420').val();
				$('#subject247623420').val('Private: ' + subj);
				$('#bccme247623420').show();
			} else if (value == "2") {
				subj = $('#subject247623420').val();
				$('#subject247623420').val(subj.replace('Private: ', ''));
				$('#bccme247623420').show();
			} else {
				subj = $('#subject247623420').val();
				$('#subject247623420').val(subj.replace('Private: ', ''));
				$('#bccme247623420').hide();
			}
			if (tinyMCE.get('editor247623420') != null) {
				tinyMCE.get('editor247623420').focus();
			}
		}

		function setFocus247623420() {
			tinyMCE.activeEditor.focus();
		}

</script>
		</td>
	</tr>


			
		
	</tbody></table>
	
	<!-- Modal -->
	<div class="modal fade" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="videoModalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="modal-dialog" role="document" style="width:80vw; height:80vh;margin-left:auto;margin-right:auto;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="modal-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"><span aria-hidden="true">×</span></button>
				</div>
				<div class="modal-body" id="videoModalBody" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				</div>
			</div>
		</div>
	</div>
	<script>

videojs.registerPlugin('orientationHandler', function() {
    this.on('loadedmetadata', function() {
        const player = this;
        const video = this.tech().el();
        console.log("In loadedmetadata");

        // Function to handle rotation
        const rotateVideo = (degrees) => {
            console.log(`Rotating video by ${degrees} degrees`);
            
            // Clear any existing transforms first
            video.style.transform = '';
            
            if (degrees !== 0) {
                video.style.transform = `rotate(${degrees}deg)`;
                const posterEl = player.el().querySelector('.vjs-poster');
                if (posterEl) {
                    console.log("rotating poster");
                    posterEl.style.transform = `rotate(${degrees}deg)`;
                }
            }
        };

        // Check video dimensions and any existing transform
        const videoRatio = video.videoWidth / video.videoHeight;
        const currentTransform = video.style.transform || '';
        console.log("Video dimensions:", video.videoWidth, "x", video.videoHeight);
        console.log("Video ratio:", videoRatio);
        console.log("Current transform:", currentTransform);

        // Try to detect rotation metadata from video element
        let hasMetadataRotation = false;
        try {
            if (video.videoTracks && video.videoTracks[0]) {
                hasMetadataRotation = !!video.videoTracks[0].rotation;
                console.log("Has metadata rotation:", hasMetadataRotation);
            }
        } catch (e) {
            console.log("Error checking video tracks:", e);
        }

        // Function to check if video needs rotation
        const needsRotation = () => {
            if (videoRatio < 1) {  // Portrait video
                // If it has an existing rotation transform, it's probably HEVC
                if (currentTransform.includes('rotate')) {
                    console.log("Video has existing rotation transform");
                    return false;
                }
                
                // If it has rotation metadata, browser might handle it
                if (hasMetadataRotation) {
                    console.log("Video has rotation metadata");
                    return false;
                }

                // Let's play a frame and check the actual rendered size
                const videoEl = player.el().querySelector('video');
                const renderedRatio = videoEl.offsetWidth / videoEl.offsetHeight;
                console.log("Rendered ratio:", renderedRatio);

                // If rendered ratio is significantly different from video ratio,
                // browser might be handling rotation
                if (Math.abs(renderedRatio - videoRatio) < 0.1) {
                    console.log("Video needs rotation based on rendered dimensions");
                    return true;
                }
            }
            return false;
        };

        // Check if rotation is needed
        if (needsRotation()) {
            console.log("Applying rotation");
            rotateVideo(180);
        } else {
            console.log("No rotation needed");
        }

        // Add rotation toggle button for manual override
        const Button = videojs.getComponent('Button');
        
        class RotateButton extends Button {
            constructor(player, options) {
                super(player, options);
                this.el().innerHTML = '<span class="sr-only">Rotate</span><i class="fas fa-sync"></i>';
                this.currentRotation = needsRotation() ? 180 : 0;
            }
            
            handleClick() {
                this.currentRotation = (this.currentRotation + 180) % 360;
                rotateVideo(this.currentRotation);
            }
        }

        // Register and add the rotate button
        videojs.registerComponent('RotateButton', RotateButton);
        player.getChild('controlBar').addChild('RotateButton', {}, player.controlBar.children().length - 1);
    });
});

		contentLoaded(false, function() {
			let player;
			let videoLinks = document.getElementsByClassName('video-link');
			for (var i = 0; i < videoLinks.length; i++) {
				videoLinks[i].addEventListener('click', function(event) {
					let videoSrc = event.currentTarget.getAttribute('data-video-src');
					let videoName = event.currentTarget.getAttribute('data-video-name');
					console.log("videoSrc: ", videoSrc);
					// Create a new video tag
					let videoTag = document.createElement('video');
					videoTag.setAttribute('class', 'video-js vjs-fill center-block vjs-default-skin');
					videoTag.setAttribute('controls', '');
					videoTag.setAttribute('preload', 'auto');
					videoTag.setAttribute('data-setup', '{}');

					// Create a new source tag
					let sourceTag = document.createElement('source');
					sourceTag.setAttribute('src', videoSrc);
					sourceTag.setAttribute('type', 'video/mp4');

					// Append the source tag to the video tag
					videoTag.appendChild(sourceTag);

					// Get the modal body and clear its contents
					let modalBody = document.getElementById('videoModalBody');
					modalBody.setAttribute('style', 'height:80vh;width:80vw');
					modalBody.innerHTML = '';

					// Append the video tag to the modal body
					modalBody.appendChild(videoTag);

					// Initialize the video player
					player = videojs(videoTag);
					player.orientationHandler();

					// Create a new button component
					let Button = videojs.getComponent('Button');
					class DownloadButton extends Button {
						constructor(player, options) {
							super(player, options);
							this.el().innerHTML = '<span class="sr-only">Download</span><i class="fas fa-download"></i>';
						}

						handleClick() {

							window.open(videoSrc, '_blank');

						}
					}

					// Register the custom Button class
					videojs.registerComponent('DownloadButton', DownloadButton);

					// Add the custom button to the control bar
					player.getChild('controlBar').addChild('DownloadButton', {});
				});
			}
			$('#videoModal').on('hide.bs.modal', function (e) {
				if (player) {
					player.pause();
				}
			});
			var checkboxes = document.querySelectorAll('.delete-checkbox');

			// The forEach method will not execute if the NodeList is empty,
			// so there's no need for an explicit check for the existence of checkboxes.
			checkboxes.forEach(function(checkbox) {
				checkbox.addEventListener('click', function(event) {
					// Stop the event from bubbling up to the parent elements
					event.stopPropagation();
				});
			});

		}, "attachment.qtpl");
	</script>


	<form class="form" method="POST" action="https://lists.riscv.org/g/tech-attached-matrix-extension/editmessage" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		
		<input type="hidden" name="mid" id="mid" value="0" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<input type="hidden" name="action_type" id="action_type" value="delete" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<!-- Verify Remove Modal -->
		<div class="modal fade" id="deleteMessageModal" tabindex="-1" role="dialog" aria-labelledby="deleteMessageModalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="modal-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button type="button" class="close" data-dismiss="modal" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span aria-hidden="true">
								×
							</span>
							<span class="sr-only">
								Close
							</span>
						</button>
						<h4 class="modal-title" id="deleteMessageModalLabel">
							Verify Delete
						</h4>
					</div>
					<div class="modal-body">
						Are you sure you wish to delete this message from the message archives of tech-attached-matrix-extension@lists.riscv.org? <strong>This cannot be undone.</strong>
					</div>
					<div class="modal-footer" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button type="button" class="btn btn-default btn-sm" data-dismiss="modal">
							<i class="fa fa-times"></i>
							Cancel
						</button>
						<button class="btn btn-danger btn-sm" name="delmessage" value="1">
							<i class="fa fa-trash-alt"></i>
							Yes
						</button>
					</div>
				</div>
			</div>
		</div>
	</form>
	<form class="form" method="POST" action="https://lists.riscv.org/g/tech-attached-matrix-extension/repostmessage" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		
		<input type="hidden" name="mid" id="repostmid" value="0" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<input type="hidden" name="r" value="https://lists.riscv.org/g/tech-attached-matrix-extension/messages" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<!-- Verify Repost Modal -->
		<div class="modal fade" id="repostMessageModal" tabindex="-1" role="dialog" aria-labelledby="repostMessageModalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="modal-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button type="button" class="close" data-dismiss="modal" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span aria-hidden="true">
								×
							</span>
							<span class="sr-only">
								Close
							</span>
						</button>
						<h4 class="modal-title" id="repostMessageModalLabel">
							Verify Repost
						</h4>
					</div>
					<div class="modal-body">
						Are you sure you wish to repost this message?
					</div>
					<div class="modal-footer" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button type="button" class="btn btn-default btn-sm" data-dismiss="modal">
							<i class="fa fa-times"></i>
							Cancel
						</button>
						<button class="btn btn-danger btn-sm" name="delmessage" value="1">
							<i class="fa fa-retweet"></i>
							Yes
						</button>
					</div>
				</div>
			</div>
		</div>
	</form>
	
	<form class="form" id="reportform" hx-boost="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		
		<input type="hidden" name="mid" id="reportmid" value="0" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<!-- Report Message Modal -->
		<div class="modal fade" id="reportMessageModal" tabindex="-1" role="dialog" aria-labelledby="reportMessageModalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="modal-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button type="button" class="close" data-dismiss="modal" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span aria-hidden="true">
								×
							</span>
							<span class="sr-only">
								Close
							</span>
						</button>
						<h4 class="modal-title" id="reportMessageModalLabel">
							Report Message
						</h4>
					</div>
					<div class="modal-body" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<label for="reason">
							Reason
						</label>
						<textarea id="reason" name="reason" class="form-control" rows="5"></textarea>
						<div class="radio" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<label>
								<input type="radio" name="reportto" value="mods" checked="">
								Report to Moderators
							</label>
							<span class="help-block">
								I think this message isn't appropriate for our group. The Group moderators are responsible for maintaining their community and can address these issues.
							</span>
							<label>
								<input type="radio" name="reportto" value="support">
								Report to RISC-V Support
							</label>
							<span class="help-block">
								I think this violates the Terms of Service. This includes: harm to minors, violence or threats, harassment or privacy invasion, impersonation or misrepresentation, fraud or phishing.
							</span>
						</div>
						<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							</p><center>
								<strong>
									Note:
								</strong>
								Your email address is included with the abuse report.
							</center>
						<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
					</div>
					<div class="modal-footer" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button type="button" class="btn btn-default btn-sm" data-dismiss="modal">
							<i class="fa fa-times"></i>
							Cancel
						</button>
						<button class="btn btn-danger btn-sm" name="report" value="1">
							<i class="fa fa-flag"></i>
							Report
						</button>
					</div>
				</div>
			</div>
		</div>
	</form>
<script>
	$('#reportMessageModal').on('show.bs.modal', function(e) {
		var msgId = $(e.relatedTarget).data('message-id');
		$('#reportmid').val(msgId);
	});
	contentLoaded(  false  , function() {
		$('#reportform').on('submit', function(event) {
			event.preventDefault();
			$('#reportMessageModal').modal('hide');
			$.ajax({
				url: "https://lists.riscv.org/g/tech-attached-matrix-extension/report",
				type: "POST",
				data: $(this).serialize(),
				success: function(html) {
					createAlert("Your report has been sent.", true);
				}
			});
			return false;
		});
	});
</script>

	<form class="form" method="POST" action="https://lists.riscv.org/g/tech-attached-matrix-extension/editmessage" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		
		<input type="hidden" name="mid" id="splitmid" value="0" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<input type="hidden" name="action_type" id="action_type" value="split" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<input type="hidden" name="r" value="https://lists.riscv.org/g/tech-attached-matrix-extension/topic/110189555" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<!-- Verify Split Modal -->
		<div class="modal fade" id="splitMessageModal" tabindex="-1" role="dialog" aria-labelledby="splitMessageModalLabel" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="modal-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button type="button" class="close" data-dismiss="modal" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<span aria-hidden="true">
								×
							</span>
							<span class="sr-only">
								Close
							</span>
						</button>
						<h4 class="modal-title" id="splitMessageModalLabel">
							Split Topic
						</h4>
					</div>
					<div class="modal-body" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<p>
							The new topic will begin with this message. Subject of the new topic:
						</p>
						<input name="subject" class="form-control" size="20" type="text" spellcheck="true" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					</div>
					<div class="modal-footer" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<button type="button" class="btn btn-default btn-sm" data-dismiss="modal">
							<i class="fa fa-times"></i>
							Cancel
						</button>
						<button class="btn btn-danger btn-sm" name="delmessage" value="1">
							<i class="fa fa-trash-alt"></i>
							Split Topic
						</button>
					</div>
				</div>
			</div>
		</div>
	</form>
	<p data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></p>
	<div class="row" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div class="col-xs-12" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
	<div class="pull-right" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<form class="form-inline" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			
	
		<div class="pull-right form-inline" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<span class="form-group" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
				1 - 6 of 6
			<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1 - 6 的 6</font></font></font></span>
			&nbsp;
			<ul class="pagination form-group" style="margin: 0px !important;vertical-align:middle;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				
					<li class="disabled" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<a href="#" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<i class="fa fa-chevron-left">
								<span class="sr-only">
									previous page
								</span>
							</i>
						</a>
					</li>
				
				
					
						<li class="hidden-xs disabled" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<a class="currentpage" href="#" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
								1
							</a>
						</li>
					
				
				
					<li class="disabled" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<a href="#" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<i class="fa fa-chevron-right">
								<span class="sr-only">
									next page
								</span>
							</i>
						</a>
					</li>
				
			</ul>
		</div>
	

		</form>
	</div>
	<div class="button-link-group form-group" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060" data-immersive-translate-paragraph="1">
		<a href="https://lists.riscv.org/g/tech-attached-matrix-extension/topic/110587483" class="btn btn-default btn-sm" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<i class="fa fa-arrow-left"></i>
			<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				Previous Topic
			</span>
		</a>
		<a href="https://lists.riscv.org/g/tech-attached-matrix-extension/topic/110751050" class="btn btn-default btn-sm" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<span class="hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				Next Topic
			</span>
			<i class="fa fa-arrow-right"></i>
		</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">上一主题 下一主题</font></font></font>
	</div>
	</div>
	</div>
<script>
var editor;
contentLoaded(false, function() {
	
  $('#deleteMessageModal').on('show.bs.modal', function(e) {
      var msgId = $(e.relatedTarget).data('message-id');
      $('#mid').val(msgId);
  });
  $('#splitMessageModal').on('show.bs.modal', function(e) {
      var msgId = $(e.relatedTarget).data('message-id');
      $('#splitmid').val(msgId);
  });
  $('#repostMessageModal').on('show.bs.modal', function(e) {
      var msgId = $(e.relatedTarget).data('message-id');
      $('#repostmid').val(msgId);
  });
  $('[id^=cancel]').on('click', function() {
      msg_num = $(this).attr('id').split("-")[1]
      $("#window-"+msg_num).collapse('hide')
  });

  if (location.hash) {
	console.log("Setting location.hash");
    location.href = location.hash;
  }

  $(".modal").on('shown.bs.modal', function () {
      $(this).find("input:visible:first").focus();
  });
	$("[data-toggle='tooltip']").tooltip();
	UpdateSidebar("archives");
	if (document.documentElement.clientWidth <= 992) {
		ShowBackButton("");
		gioDestroy(function(event) {
			console.log("destructor called");
			HideBackButton();
		});
	}
});
</script>

				</div>
			</div>
		</div>
	</div>
	<div class="row hidden-print" id="mobileSidebar" hx-boost="true" hx-target="#maincontent-refresh" hx-push-url="true" hx-history="false" hx-on::after-request="document.getElementById('maincontent').scrollTo({top: 0, behavior: 'instant'})" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div id="mobileSidebarSub" class="col-xs-12 hidden-md hidden-lg" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div class="navbar navbar-default navbar-fixed-bottom" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="container" style="display: flex; justify-content: space-around;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					
						
	
		
	
	<div id="mobilesidebar-archives" class="mobilesidebar-item" style="margin-top:10px; padding-bottom:20px; flex: 1; text-align: center;" hx-get="https://lists.riscv.org/g/tech-attached-matrix-extension/topics?sidebar=true" hx-boost="true" hx-target="#maincontent-refresh" hx-push-url="true" hx-history="false" hx-on::after-request="document.getElementById('maincontent').scrollTo({top: 0, behavior: 'instant'})" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
		<div style="display: inline-block; position: relative;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<div style="position: relative;display: inline-block;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
			<i class="fa-fw fa-solid fa-comments fa-2x"></i>
			
			</div><br>
			<span style="font-size:12px;">Messages</span>
		</div>
	</div>

	
	

						
	

					
					<div style="flex: 1; text-align: center;margin-top:10px" data-drawer-trigger="" aria-controls="drawer-name" aria-expanded="false" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<i class="fa-fw fa-light fa-bars fa-2x"></i><br>
						<span style="font-size:12px;">More</span>
					</div>
				</div>
			</div>
			<section class="drawer drawer-left" id="drawer-name" data-drawer-target="" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
				<div class="drawer-overlay" data-drawer-close="" tabindex="-1" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div>
				<div class="drawer-wrapper drawer-wrapper-top" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div class="drawer-header" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<div class="drawer-title">
							<i class="fa-fw fa-regular fa-bars fa-3x"></i>
							<span class="sr-only">
								More Options
							</span>
							More
						</div>
						<button class="drawer-close" data-drawer-close="" aria-label="Close Drawer" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></button>
					</div>
					<div class="drawer-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<div class="list-group noborderlist" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							


	<a title="Group Home" href="https://lists.riscv.org/g/tech-attached-matrix-extension" class="list-group-item sidebar-item">
		<i class="fa-fw fa fa-home fa-lg"></i>
		Home
		
	</a>

	

	

	
		
	
		

	<a title="Messages" href="https://lists.riscv.org/g/tech-attached-matrix-extension/topics?sidebar=true" id="sidebar-archives-mobile" class="noborderitem list-group-item sidebar-item sidebar-item-archives"> 
		<i class="fa-fw fa fa-comments fa-lg"></i>
		Messages
		<span id="sidebar-archives-mobile-badge" class="badge"></span>
	</a>

	
	
	
	
	
		

	<a title="Hashtags" href="https://lists.riscv.org/g/tech-attached-matrix-extension/hashtags" id="sidebar-hashtags-mobile" class="noborderitem list-group-item sidebar-item sidebar-item-hashtags"> 
		<i class="fa-fw fa fa-hashtag fa-lg"></i>
		Hashtags
		<span id="sidebar-hashtags-mobile-badge" class="badge"></span>
	</a>

	

		
	

	

	

	
			

	<a title="Subgroups" href="https://lists.riscv.org/g/tech-attached-matrix-extension/subgroups" id="sidebar-subgroups-mobile" class="noborderitem list-group-item sidebar-item sidebar-item-subgroups"> 
		<i class="fa-fw fa fa-chart-pie fa-lg"></i>
		Subgroups
		<span id="sidebar-subgroups-mobile-badge" class="badge"></span>
	</a>

	

	

	

	

	

	

	

							
								<a class="noborderitem list-group-item sidebar-item" href="https://groups.io/static/tos" target="_blank">
									<i class="fa-fw fal fa-newspaper fa-lg"></i>
									Terms
								</a>
								
							
						</div>
					</div>
				</div>
			</section>
		</div>
	</div>

<!-- Modal Dialog for Autocomplete -->
<div class="modal fade" id="quickActionsModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
  <div class="modal-dialog" role="document" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
    <div class="modal-content" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
      <div class="modal-body" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
        <input type="text" class="form-control" id="quickActionsInput" placeholder="Go to page..." style="margin-bottom:10px" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
        <div id="quickActionsContainer" class="autocompleteResults" style="max-height:250px; overflow-y: auto;" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060"></div>
		<div class="text-center" style="margin-top:10px; font-size:12px;"><i class="fa-sharp fa-arrow-up-arrow-down"></i> to navigate&nbsp;&nbsp;&nbsp;<i class="fa-sharp fa-arrow-turn-down-left"></i> to use&nbsp;&nbsp;&nbsp;<strong>esc</strong> to dismiss</div>
      </div>
    </div>
  </div>
</div>




<script>
	var quickActionsData = [
		
		
			{name: "Group Home", url: "https://lists.riscv.org/g/tech-attached-matrix-extension"},
		

		
			{name: "Topics", url: "https://lists.riscv.org/g/tech-attached-matrix-extension/topics"},
			{name: "Messages", url: "https://lists.riscv.org/g/tech-attached-matrix-extension/messages"},
			{name: "Expanded Messages", url: "https://lists.riscv.org/g/tech-attached-matrix-extension/messages?expanded=1"},
		
		
			{name: "Polls", url: "https://lists.riscv.org/g/tech-attached-matrix-extension/polls"},
		
		
			{name: "Hashtags", url: "https://lists.riscv.org/g/tech-attached-matrix-extension/hashtags"},
		
		
		
		

		

		
			{name: "Subgroups", url: "https://lists.riscv.org/g/tech-attached-matrix-extension/subgroups"},
		
		
		

		

		
		
		
		/* other pages */
		{name: "Help", url: "/helpcenter"},
		{name: "Feed", url: "/feed"},
		{name: "Your Groups", url: "/groups"},
		{name: "Your Calendar", url: "/calendar"},
		{name: "Your Activity", url: "/activity"},
		{name: "Your Pending Messages", url: "/pendingmsgs"},
		{name: "Account Login", url: "/account"},
		{name: "Account Preferences", url: "/account?page=prefs"},
		{name: "Account Security", url: "/account?page=security"},
		{name: "Account Identity", url: "/account?page=profile&member_info_id=0"},
		{name: "Account Notifications", url: "/account?page=notifications"},
		{name: "Account Other Services", url: "/account?page=oauth"},
		{name: "Account Bounces", url: "/account?page=bounces"},
		{name: "Account Billing", url: "/account?page=billing"},
		{name: "Find a Group", url: "/search?p=SubsCount,,,20,2,0,0"},
	];


	InitAutocomplete("quickActions", quickActionsData);

	document.addEventListener('keydown', function(event) {
		var tagName = event.target.tagName.toLowerCase();
		if (tagName === 'input' || tagName === 'textarea' || event.target.isContentEditable) {
			return;
		}
		// check if the viewimages viewer is up
		let element = document.getElementById('overlay');
		if (element && element.classList.contains('visible')) {
			return;
		}
		if (event.key.toLowerCase() === '/') {
			if (navigator.platform.toUpperCase().indexOf('MAC') >= 0) {
				// For Mac
				// Check if Command (event.metaKey) is pressed, and either Option (event.altKey) is pressed or not
				if (event.metaKey) {
					event.preventDefault();
					showAutocompleteModal("quickActions");
					return;
				}
			} else {
				// For Windows and Linux
				if (event.ctrlKey) {
					event.preventDefault();
					showAutocompleteModal("quickActions");
					return;
				}
			}
		}
	});
	function UpdateSidebar(id) {
		console.log(id + " was clicked");
		var sidebarItems = document.querySelectorAll('.mobilesidebar-item');
		sidebarItems.forEach(function(item) {
			var iElement = item.getElementsByTagName('div')[0].getElementsByTagName('i')[0];
			if (item.id == "mobilesidebar-" + id) {
				console.log("making solid " + id)
				iElement.classList.add('fa-solid');
				iElement.classList.remove('fa-light');
			} else {
				iElement.classList.remove('fa-solid');
				iElement.classList.add('fa-light');
			}
		});
		var sidebarItems = document.querySelectorAll('.sidebar-item');
		// remove 'active' class from all 'sidebar-item' elements
		sidebarItems.forEach(function(item) {
			if (item.id == "sidebar-" + id) {
				console.log("making active " + id)
				item.classList.add('active');
			} else {
				item.classList.remove('active');
			}
		});
	}
</script>


			</div>
			
				<div id="scroll-top-outer" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
					<div id="scroll-top" class="scroll-top-wrapper hidden-xs" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
						<span class="scroll-top-inner" data-immersive-translate-walked="35908a74-4a3b-4713-a592-aff831fd4060">
							<i class="fa fa-arrow-circle-up fa-fw fa-2x"></i>
						</span>
					</div>
				</div>
<script>
	$(function() {
		$(document).on('scroll', function() {
			if ($(window).scrollTop() > 100) {
				$('.scroll-top-wrapper').addClass('show');
			} else {
				$('.scroll-top-wrapper').removeClass('show');
			}
		});
		$('.scroll-top-wrapper').on('click', scrollToTop);
	});

	function scrollToTop() {
		verticalOffset = typeof(verticalOffset) != 'undefined' ? verticalOffset : 0;
		element = $('body');
		offset = element.offset();
		offsetTop = offset.top;
		$('html, body').animate({
			scrollTop: offsetTop
		}, 100, 'linear');
	}

	if (navigator.platform.toUpperCase().indexOf('MAC') >= 0) {
		let elements = document.querySelectorAll('strong.ctrlmeta');
		elements.forEach((element) => {
			// Check if the innerText is "ctrl"
			if (element.innerText === 'ctrl') {
				// Create a new "i" element
				let newElement = document.createElement('i');
				newElement.classList.add('fa-solid', 'fa-command');
				
				// Replace the old "strong" element with the new "i" element
				element.parentNode.replaceChild(newElement, element);
			}
		});
	}
</script>
			
			


		
	

<orbit-wrapper style="border-block: initial; border-inline: initial; border-start-start-radius: initial; border-start-end-radius: initial; border-end-start-radius: initial; border-end-end-radius: initial; overflow-block: initial; overflow-inline: initial; overscroll-behavior-block: initial; overscroll-behavior-inline: initial; margin-block: initial; margin-inline: initial; scroll-margin-block: initial; scroll-margin-inline: initial; padding-block: initial; padding-inline: initial; scroll-padding-block: initial; scroll-padding-inline: initial; inset-block: initial; inset-inline: initial; block-size: initial; min-block-size: initial; max-block-size: initial; inline-size: initial; min-inline-size: initial; max-inline-size: initial; contain-intrinsic-block-size: initial; contain-intrinsic-inline-size: initial; background: initial; background-blend-mode: initial; border: initial; border-radius: initial; box-decoration-break: initial; -moz-float-edge: initial; display: initial; position: fixed; float: initial; clear: initial; vertical-align: initial; baseline-source: initial; overflow: initial; overflow-anchor: initial; transform: initial; rotate: initial; scale: initial; translate: initial; offset: initial; scroll-behavior: initial; scroll-snap-align: initial; scroll-snap-type: initial; scroll-snap-stop: initial; overscroll-behavior: initial; isolation: initial; break-after: initial; break-before: initial; break-inside: initial; resize: initial; perspective: initial; perspective-origin: initial; backface-visibility: initial; transform-box: initial; transform-style: initial; transform-origin: initial; contain: initial; content-visibility: initial; container: initial; appearance: initial; -moz-orient: initial; will-change: initial; shape-image-threshold: initial; shape-margin: initial; shape-outside: initial; touch-action: initial; -webkit-line-clamp: initial; scrollbar-gutter: initial; zoom: initial; columns: initial; column-fill: initial; column-rule: initial; column-span: initial; content: initial; counter-increment: initial; counter-reset: initial; counter-set: initial; opacity: initial; box-shadow: initial; clip: initial; filter: initial; backdrop-filter: initial; mix-blend-mode: initial; font: initial; font-synthesis: initial; font-palette: initial; math-depth: initial; math-style: initial; visibility: initial; writing-mode: initial; text-orientation: initial; print-color-adjust: initial; image-rendering: initial; image-orientation: initial; dominant-baseline: initial; text-anchor: initial; color-interpolation: initial; color-interpolation-filters: initial; fill: initial; fill-opacity: initial; fill-rule: initial; shape-rendering: initial; stroke: initial; stroke-width: initial; stroke-linecap: initial; stroke-linejoin: initial; stroke-miterlimit: initial; stroke-opacity: initial; stroke-dasharray: initial; stroke-dashoffset: initial; clip-rule: initial; marker: initial; paint-order: initial; border-collapse: initial; empty-cells: initial; caption-side: initial; border-spacing: initial; color: initial; text-transform: initial; hyphens: initial; -moz-text-size-adjust: initial; text-indent: initial; overflow-wrap: initial; word-break: initial; text-justify: initial; text-align-last: initial; text-align: initial; letter-spacing: initial; word-spacing: initial; white-space: initial; text-shadow: initial; text-emphasis: initial; text-emphasis-position: initial; tab-size: initial; line-break: initial; -webkit-text-fill-color: initial; -webkit-text-stroke: initial; ruby-align: initial; ruby-position: initial; text-combine-upright: initial; text-rendering: initial; text-underline-offset: initial; text-underline-position: initial; text-decoration-skip-ink: initial; hyphenate-character: initial; forced-color-adjust: initial; -webkit-text-security: initial; text-wrap: initial; cursor: initial; pointer-events: initial; caret-color: initial; accent-color: initial; color-scheme: initial; scrollbar-color: initial; list-style: initial; quotes: initial; margin: initial; overflow-clip-margin: initial; scroll-margin: initial; outline: initial; outline-offset: initial; padding: initial; scroll-padding: initial; page: initial; top: 0px; right: 0px; bottom: initial; left: initial; z-index: 2147483647; flex-flow: initial; place-content: initial; place-items: initial; flex: initial; place-self: initial; order: initial; height: 100vh; min-height: initial; max-height: initial; width: 0px; min-width: initial; max-width: initial; box-sizing: initial; object-fit: initial; object-position: initial; grid-area: initial; grid: initial; gap: initial; aspect-ratio: initial; contain-intrinsic-size: initial; vector-effect: initial; stop-color: initial; stop-opacity: initial; flood-color: initial; flood-opacity: initial; lighting-color: initial; mask-type: initial; clip-path: initial; mask: initial; x: initial; y: initial; cx: initial; cy: initial; rx: initial; ry: initial; r: initial; d: initial; table-layout: initial; text-overflow: initial; text-decoration: initial; ime-mode: initial; scrollbar-width: initial; user-select: initial; -moz-window-dragging: initial; -moz-force-broken-image-icon: initial; transition: initial; animation: initial; animation-composition: initial; -moz-box-align: initial; -moz-box-direction: initial; -moz-box-flex: initial; -moz-box-orient: initial; -moz-box-pack: initial; -moz-box-ordinal-group: initial;"></orbit-wrapper></body><div style="all: initial;"><div style="all: initial;" id="__hcfy__"></div></div><div id="immersive-translate-popup" style="all: initial"></div></html>